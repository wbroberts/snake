!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){(function(t){var n;e.exports=function e(t,r,o){function i(u,c){if(!r[u]){if(!t[u]){var s="function"==typeof n&&n;if(!c&&s)return n(u,!0);if(a)return a(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var l=r[u]={exports:{}};t[u][0].call(l.exports,function(e){var n=t[u][1][e];return i(n||e)},l,l.exports,e,t,r,o)}return r[u].exports}for(var a="function"==typeof n&&n,u=0;u<o.length;u++)i(o[u]);return i}({1:[function(e,n,r){(function(e){"use strict";var t,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,a=new o(f),u=e.document.createTextNode("");a.observe(u,{characterData:!0}),t=function(){u.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)t="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){f(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(f,0)};else{var c=new e.MessageChannel;c.port1.onmessage=f,t=function(){c.port2.postMessage(0)}}var s=[];function f(){var e,t;r=!0;for(var n=s.length;n;){for(t=s,s=[],e=-1;++e<n;)t[e]();n=s.length}r=!1}n.exports=function(e){1!==s.push(e)||r||t()}}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function o(){}var i={},a=["REJECTED"],u=["FULFILLED"],c=["PENDING"];function s(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==o&&d(this,e)}function f(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function l(e,t,n){r(function(){var r;try{r=t(n)}catch(t){return i.reject(e,t)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)})}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}var a=v(function(){t(o,r)});"error"===a.status&&r(a.value)}function v(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=s,s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){if("function"!=typeof e&&this.state===u||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(o);if(this.state!==c){var r=this.state===u?e:t;l(n,r,this.outcome)}else this.queue.push(new f(n,e,t));return n},f.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},f.prototype.otherCallFulfilled=function(e){l(this.promise,this.onFulfilled,e)},f.prototype.callRejected=function(e){i.reject(this.promise,e)},f.prototype.otherCallRejected=function(e){l(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=v(h,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)d(e,r);else{e.state=u,e.outcome=t;for(var o=-1,a=e.queue.length;++o<a;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},s.resolve=function(e){return e instanceof this?e:i.resolve(new this(o),e)},s.reject=function(e){var t=new this(o);return i.reject(t,e)},s.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),u=0,c=-1,s=new this(o);++c<n;)f(e[c],c);return s;function f(e,o){t.resolve(e).then(function(e){a[o]=e,++u!==n||r||(r=!0,i.resolve(s,a))},function(e){r||(r=!0,i.reject(s,e))})}},s.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a,u=-1,c=new this(o);++u<n;)a=e[u],t.resolve(a).then(function(e){r||(r=!0,i.resolve(c,e))},function(e){r||(r=!0,i.reject(c,e))});return c}},{1:1}],3:[function(e,n,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function i(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<e.length;o+=1)r.append(e[o]);return r.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var a=Promise;function u(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function c(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function s(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function f(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var l="local-forage-detect-blob-support",h=void 0,d={},v=Object.prototype.toString,y="readonly",p="readwrite";function b(e){return"boolean"==typeof h?a.resolve(h):function(e){return new a(function(t){var n=e.transaction(l,p),r=i([""]);n.objectStore(l).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}(e).then(function(e){return h=e})}function g(e){var t=d[e.name],n={};n.promise=new a(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function m(e){var t=d[e.name],n=t.deferredOperations.pop();if(n)return n.resolve(),n.promise}function w(e,t){var n=d[e.name],r=n.deferredOperations.pop();if(r)return r.reject(t),r.promise}function _(e,t){return new a(function(n,r){if(d[e.name]=d[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);g(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var a=o.open.apply(o,i);t&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(l)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),a.onerror=function(e){e.preventDefault(),r(a.error)},a.onsuccess=function(){n(a.result),m(e)}})}function S(e){return _(e,!1)}function I(e){return _(e,!0)}function k(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function E(e){var t=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}(atob(e.data));return i([t],{type:e.type})}function j(e){return e&&e.__local_forage_encoded_blob}function A(e){var t=this,n=t._initReady().then(function(){var e=d[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return c(n,e,e),n}function O(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return a.resolve().then(function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),I(e)}).then(function(){return function(e){g(e);for(var t=d[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,S(e).then(function(t){return e.db=t,k(e)?I(e):t}).then(function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r}).catch(function(t){throw w(e,t),t})}(e).then(function(){O(e,t,n,r-1)})}).catch(n);n(o)}}var N={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var o=d[n.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},d[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=A);var i=[];function u(){return a.resolve()}for(var c=0;c<o.forages.length;c++){var s=o.forages[c];s!==t&&i.push(s._initReady().catch(u))}var f=o.forages.slice(0);return a.all(i).then(function(){return n.db=o.db,S(n)}).then(function(e){return n.db=e,k(n,t._defaultConfig.version)?I(n):e}).then(function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<f.length;r++){var i=f[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}})},_support:function(){try{if(!o)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new a(function(t,r){n.ready().then(function(){O(n._dbInfo,y,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),u=a.openCursor(),c=1;u.onsuccess=function(){var n=u.result;if(n){var r=n.value;j(r)&&(r=E(r));var o=e(r,n.key,c++);void 0!==o?t(o):n.continue()}else t()},u.onerror=function(){r(u.error)}}catch(e){r(e)}})}).catch(r)});return u(r,t),r},getItem:function(e,t){var n=this;e=s(e);var r=new a(function(t,r){n.ready().then(function(){O(n._dbInfo,y,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),u=a.get(e);u.onsuccess=function(){var e=u.result;void 0===e&&(e=null),j(e)&&(e=E(e)),t(e)},u.onerror=function(){r(u.error)}}catch(e){r(e)}})}).catch(r)});return u(r,t),r},setItem:function(e,t,n){var r=this;e=s(e);var o=new a(function(n,o){var i;r.ready().then(function(){return i=r._dbInfo,"[object Blob]"===v.call(t)?b(i.db).then(function(e){return e?t:(n=t,new a(function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):t}).then(function(t){O(r._dbInfo,p,function(i,a){if(i)return o(i);try{var u=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var c=u.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;o(e)}}catch(e){o(e)}})}).catch(o)});return u(o,n),o},removeItem:function(e,t){var n=this;e=s(e);var r=new a(function(t,r){n.ready().then(function(){O(n._dbInfo,p,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),u=a.delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(u.error)},i.onabort=function(){var e=u.error?u.error:u.transaction.error;r(e)}}catch(e){r(e)}})}).catch(r)});return u(r,t),r},clear:function(e){var t=this,n=new a(function(e,n){t.ready().then(function(){O(t._dbInfo,p,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName),a=i.clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;n(e)}}catch(e){n(e)}})}).catch(n)});return u(n,e),n},length:function(e){var t=this,n=new a(function(e,n){t.ready().then(function(){O(t._dbInfo,y,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName),a=i.count();a.onsuccess=function(){e(a.result)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return u(n,e),n},key:function(e,t){var n=this,r=new a(function(t,r){e<0?t(null):n.ready().then(function(){O(n._dbInfo,y,function(o,i){if(o)return r(o);try{var a=i.objectStore(n._dbInfo.storeName),u=!1,c=a.openCursor();c.onsuccess=function(){var n=c.result;n?0===e?t(n.key):u?t(n.key):(u=!0,n.advance(e)):t(null)},c.onerror=function(){r(c.error)}}catch(e){r(e)}})}).catch(r)});return u(r,t),r},keys:function(e){var t=this,n=new a(function(e,n){t.ready().then(function(){O(t._dbInfo,y,function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName),a=i.openCursor(),u=[];a.onsuccess=function(){var t=a.result;t?(u.push(t.key),t.continue()):e(u)},a.onerror=function(){n(a.error)}}catch(e){n(e)}})}).catch(n)});return u(n,e),n},dropInstance:function(e,t){t=f.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var i=e.name===r.name&&this._dbInfo.db,c=i?a.resolve(this._dbInfo.db):S(e).then(function(t){var n=d[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t});n=e.storeName?c.then(function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;g(e);var r=d[e.name],i=r.forages;t.close();for(var u=0;u<i.length;u++){var c=i[u];c._dbInfo.db=null,c._dbInfo.version=n}var s=new a(function(t,r){var i=o.open(e.name,n);i.onerror=function(e){var t=i.result;t.close(),r(e)},i.onupgradeneeded=function(){var t=i.result;t.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}});return s.then(function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,m(n._dbInfo)}}).catch(function(t){throw(w(e,t)||a.resolve()).catch(function(){}),t})}}):c.then(function(t){g(e);var n=d[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++){var u=r[i];u._dbInfo.db=null}var c=new a(function(t,n){var r=o.deleteDatabase(e.name);r.onerror=r.onblocked=function(e){var t=r.result;t&&t.close(),n(e)},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}});return c.then(function(e){n.db=e;for(var t=0;t<r.length;t++){var o=r[t];m(o._dbInfo)}}).catch(function(t){throw(w(e,t)||a.resolve()).catch(function(){}),t})})}else n=a.reject("Invalid arguments");return u(n,t),n}},R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",D="~~local_forage_type~",x=/^~~local_forage_type~([^~]+)~/,T="__lfsc__:",C=T.length,P="arbf",B="blob",L="si08",F="ui08",M="uic8",z="si16",U="si32",q="ur16",H="ui32",W="fl32",K="fl64",X=C+P.length,G=Object.prototype.toString;function Q(e){var t,n,r,o,i,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var s=new ArrayBuffer(a),f=new Uint8Array(s);for(t=0;t<u;t+=4)n=R.indexOf(e[t]),r=R.indexOf(e[t+1]),o=R.indexOf(e[t+2]),i=R.indexOf(e[t+3]),f[c++]=n<<2|r>>4,f[c++]=(15&r)<<4|o>>2,f[c++]=(3&o)<<6|63&i;return s}function Y(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=R[n[t]>>2],r+=R[(3&n[t])<<4|n[t+1]>>4],r+=R[(15&n[t+1])<<2|n[t+2]>>6],r+=R[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var J={serialize:function(e,t){var n="";if(e&&(n=G.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===G.call(e.buffer))){var r,o=T;e instanceof ArrayBuffer?(r=e,o+=P):(r=e.buffer,"[object Int8Array]"===n?o+=L:"[object Uint8Array]"===n?o+=F:"[object Uint8ClampedArray]"===n?o+=M:"[object Int16Array]"===n?o+=z:"[object Uint16Array]"===n?o+=q:"[object Int32Array]"===n?o+=U:"[object Uint32Array]"===n?o+=H:"[object Float32Array]"===n?o+=W:"[object Float64Array]"===n?o+=K:t(new Error("Failed to get type for BinaryArray"))),t(o+Y(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n=D+e.type+"~"+Y(this.result);t(T+B+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,C)!==T)return JSON.parse(e);var t,n=e.substring(X),r=e.substring(C,X);if(r===B&&x.test(n)){var o=n.match(x);t=o[1],n=n.substring(o[0].length)}var a=Q(n);switch(r){case P:return a;case B:return i([a],{type:t});case L:return new Int8Array(a);case F:return new Uint8Array(a);case M:return new Uint8ClampedArray(a);case z:return new Int16Array(a);case q:return new Uint16Array(a);case U:return new Int32Array(a);case H:return new Uint32Array(a);case W:return new Float32Array(a);case K:return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:Q,bufferToString:Y};function V(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function Z(e,t,n,r,o,i){e.executeSql(n,r,o,function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(e,u){u.rows.length?i(e,a):V(e,t,function(){e.executeSql(n,r,o,i)},i)},i):i(e,a)},i)}var $={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new a(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction(function(o){V(o,n,function(){t._dbInfo=n,e()},function(e,t){r(t)})},r)});return n.serializer=J,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new a(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){Z(n,o,"SELECT * FROM "+o.storeName,[],function(n,r){for(var i=r.rows,a=i.length,u=0;u<a;u++){var c=i.item(u),s=c.value;if(s&&(s=o.serializer.deserialize(s)),void 0!==(s=e(s,c.key,u+1)))return void t(s)}t()},function(e,t){r(t)})})}).catch(r)});return u(r,t),r},getItem:function(e,t){var n=this;e=s(e);var r=new a(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){Z(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return u(r,t),r},setItem:function(e,t,n){return function e(t,n,r,o){var i=this;t=s(t);var c=new a(function(a,u){i.ready().then(function(){void 0===n&&(n=null);var c=n,s=i._dbInfo;s.serializer.serialize(n,function(n,f){f?u(f):s.db.transaction(function(e){Z(e,s,"INSERT OR REPLACE INTO "+s.storeName+" (key, value) VALUES (?, ?)",[t,n],function(){a(c)},function(e,t){u(t)})},function(n){if(n.code===n.QUOTA_ERR){if(o>0)return void a(e.apply(i,[t,c,r,o-1]));u(n)}})})}).catch(u)});return u(c,r),c}.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=s(e);var r=new a(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){Z(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return u(r,t),r},clear:function(e){var t=this,n=new a(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){Z(t,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return u(n,e),n},length:function(e){var t=this,n=new a(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){Z(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return u(n,e),n},key:function(e,t){var n=this,r=new a(function(t,r){n.ready().then(function(){var o=n._dbInfo;o.db.transaction(function(n){Z(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return u(r,t),r},keys:function(e){var t=this,n=new a(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){Z(t,r,"SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)},function(e,t){n(t)})})}).catch(n)});return u(n,e),n},dropInstance:function(e,t){t=f.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;return u(r=e.name?new a(function(t){var r;r=e.name===n.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(function(e){return new a(function(t,n){e.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);t({db:e,storeNames:o})},function(e,t){n(t)})},function(e){n(e)})})}(r))}).then(function(e){return new a(function(t,n){e.db.transaction(function(r){function o(e){return new a(function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(e,t){n(t)})})}for(var i=[],u=0,c=e.storeNames.length;u<c;u++)i.push(o(e.storeNames[u]));a.all(i).then(function(){t()}).catch(function(e){n(e)})},function(e){n(e)})})}):a.reject("Invalid arguments"),t),r}};function ee(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function te(){return!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(e){return!0}}()||localStorage.length>0}var ne={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=ee(e,this._defaultConfig),te()?(this._dbInfo=t,t.serializer=J,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,a=1,u=0;u<i;u++){var c=localStorage.key(u);if(0===c.indexOf(r)){var s=localStorage.getItem(c);if(s&&(s=t.serializer.deserialize(s)),void 0!==(s=e(s,c.substring(o),a++)))return s}}});return u(r,t),r},getItem:function(e,t){var n=this;e=s(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return u(r,t),r},setItem:function(e,t,n){var r=this;e=s(e);var o=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new a(function(o,i){var a=r._dbInfo;a.serializer.serialize(t,function(t,r){if(r)i(r);else try{localStorage.setItem(a.keyPrefix+e,t),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}})})});return u(o,n),o},removeItem:function(e,t){var n=this;e=s(e);var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return u(r,t),r},clear:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return u(n,e),n},length:function(e){var t=this.keys().then(function(e){return e.length});return u(t,e),t},key:function(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return u(r,t),r},keys:function(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r});return u(n,e),n},dropInstance:function(e,t){if(t=f.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,o=this;return u(r=e.name?new a(function(t){e.storeName?t(ee(e,o._defaultConfig)):t(e.name+"/")}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}}):a.reject("Invalid arguments"),t),r}},re=function(e,t){for(var n=e.length,r=0;r<n;){if((o=e[r])===(i=t)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;r++}var o,i;return!1},oe=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ie={},ae={},ue={INDEXEDDB:N,WEBSQL:$,LOCALSTORAGE:ne},ce=[ue.INDEXEDDB._driver,ue.WEBSQL._driver,ue.LOCALSTORAGE._driver],se=["dropInstance"],fe=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(se),le={description:"",driver:ce.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function he(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function de(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(oe(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var ve=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ue)if(ue.hasOwnProperty(n)){var r=ue[n],o=r._driver;this[n]=o,ie[o]||this.defineDriver(r)}this._defaultConfig=de({},le),this._config=de({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e&&e.driver)||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new a(function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(o);for(var i=fe.concat("_initStorage"),c=0,s=i.length;c<s;c++){var f=i[c],l=!re(se,f);if((l||e[f])&&"function"!=typeof e[f])return void n(o)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=a.reject(t);return u(n,arguments[arguments.length-1]),n}},n=0,r=se.length;n<r;n++){var o=se[n];e[o]||(e[o]=t(o))}}();var h=function(n){ie[r]&&console.info("Redefining LocalForage driver: "+r),ie[r]=e,ae[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(h,n):h(!!e._support):h(!0)}catch(e){n(e)}});return c(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=ie[e]?a.resolve(ie[e]):a.reject(new Error("Driver not found."));return c(r,t,n),r},e.prototype.getSerializer=function(e){var t=a.resolve(J);return c(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return c(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;oe(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){r._config.driver=r.driver()}function u(e){return r._extend(e),i(),r._ready=r._initStorage(r._config),r._ready}var s=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=s.then(function(){var e=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then(function(e){r._driver=e._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var o=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(u).catch(n)}i();var c=new Error("No available storage method found.");return r._driverSet=a.reject(c),r._driverSet}()}}(o)})}).catch(function(){i();var e=new Error("No available storage method found.");return r._driverSet=a.reject(e),r._driverSet}),c(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!ae[e]},e.prototype._extend=function(e){de(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=fe.length;e<t;e++)he(this,fe[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),ye=new ve;t.exports=ye},{3:3}]},{},[4])(4)}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t);var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.storage=t,o(this,"highScore",void 0),o(this,"oldHighScore",void 0),o(this,"isPlaying",!0),o(this,"score",0),o(this,"actualScore",0),o(this,"points",20),o(this,"storageKey","snakeHighScore"),this.getStoredScore()}var t,n,i;return t=e,(n=[{key:"addPoints",value:function(e){this.actualScore+=this.points,this.incrementScore(e)}},{key:"gameOver",value:function(){this.isPlaying=!1,this.updateHighScore(this.actualScore)}},{key:"incrementScore",value:function(e){var t=this,n=setInterval(function(){t.score<t.actualScore?(t.score++,t.updateScore(e)):clearInterval(n)},50)}},{key:"reset",value:function(e){this.actualScore=0,this.score=0,this.updateScore(e)}},{key:"startGame",value:function(){this.isPlaying=!0}},{key:"getStoredScore",value:function(){var e=this;this.storage.isReady?this.storage.getItem(this.storageKey).then(function(t){e.highScore=t}):setTimeout(function(){return e.getStoredScore()},500)}},{key:"isHigher",value:function(e){return e>this.highScore}},{key:"updateHighScore",value:function(e){this.isHigher(e)&&(this.oldHighScore=this.highScore,this.highScore=e,this.updateStorage(e))}},{key:"updateScore",value:function(e){e.innerHTML=this.score.toString()}},{key:"updateStorage",value:function(e){var t=this;this.storage.remove(this.storageKey).then(function(){return t.storage.setItem(t.storageKey,e)})}}])&&r(t.prototype,n),i&&r(t,i),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){var t,n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r={ArrowUp:!1,ArrowDown:!1,ArrowRight:!1,ArrowLeft:!1},(n="keys")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,document.addEventListener("keydown",function(e){return o.onKeyDown(e)}),document.addEventListener("keyup",function(e){return o.onKeyUp(e)})}var t,n,r;return t=e,(n=[{key:"onKeyDown",value:function(e){this.keys[e.key]=!0}},{key:"onKeyUp",value:function(e){this.keys[e.key]=!1}},{key:"up",get:function(){return this.keys.ArrowUp}},{key:"down",get:function(){return this.keys.ArrowDown}},{key:"right",get:function(){return this.keys.ArrowRight}},{key:"left",get:function(){return this.keys.ArrowLeft}}])&&a(t.prototype,n),r&&a(t,r),e}();function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.color=t,s(this,"canvas",document.createElement("canvas")),s(this,"x",0),s(this,"y",0),this.canvas.height=.8*window.innerHeight,this.canvas.width=this.canvas.height,this.canvas.addEventListener("resize",function(){n.canvas.height=.8*window.innerHeight,n.canvas.width=n.canvas.height})}var t,n,r;return t=e,(n=[{key:"render",value:function(e){this.canvas.id="canvas",e.fillStyle=this.color||"transparent",e.fillRect(this.x,this.y,this.canvas.width,this.canvas.height)}},{key:"background",set:function(e){this.color=e}}])&&c(t.prototype,n),r&&c(t,r),e}();function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.colsAndRows=t,this.ctx=n,v(this,"map",[]),v(this,"width",void 0),v(this,"background",void 0),v(this,"snake",void 0),v(this,"apple",void 0),this.width=n.canvas.width;for(var r=0;r<t;r++)this.map[r]=new Array(t).fill(0)}var t,n,r;return t=e,(n=[{key:"render",value:function(e){for(var t=this.size,n=h(this.map),r=0;r<this.cols;r++)for(var o=0;o<this.rows;o++)0===n[r][o]?(e.fillStyle=this.background,e.fillRect(r*t,o*t,t,t)):1===this.map[r][o]?(e.fillStyle=this.snake,e.fillRect(r*t+1,o*t+1,t-2,t-2)):2===this.map[r][o]&&(e.fillStyle=this.apple,e.fillRect(r*t+2,o*t+2,t-4,t-4));this.map=n}},{key:"reset",value:function(){this.map=[];for(var e=0;e<this.colsAndRows;e++)this.map[e]=new Array(this.colsAndRows).fill(0)}},{key:"updateWidth",value:function(e){this.width=e.width}},{key:"cols",get:function(){return this.colsAndRows}},{key:"rows",get:function(){return this.colsAndRows}},{key:"size",get:function(){return this.width/this.colsAndRows}},{key:"colors",set:function(e){var t=l({},e);this.background=t.dark,this.snake=t.light,this.apple=t.apple}}])&&d(t.prototype,n),r&&d(t,r),e}();function p(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.size=t,g(this,"body",void 0),g(this,"head",void 0),g(this,"tail",void 0),g(this,"velocityX",1),g(this,"velocityY",1),g(this,"bodyStart",[[10,10],[9,10]]),g(this,"dir",{up:!1,down:!1,left:!1,right:!0}),this.head=this.bodyStart[0],this.tail=this.bodyStart[1],this.body=this.bodyStart}var t,n,r;return t=e,(n=[{key:"death",value:function(){return!1}},{key:"eat",value:function(){this.body=[].concat(p(this.body),[this.tail])}},{key:"setDir",value:function(e){e.up&&!this.dir.down&&this.changeDirection("up"),e.down&&!this.dir.up&&this.changeDirection("down"),e.right&&!this.dir.left&&this.changeDirection("right"),e.left&&!this.dir.right&&this.changeDirection("left")}},{key:"move",value:function(){var e,t;this.dir.up&&(e=p(this.body),(t=p(this.head))[1]-=this.velocityY,this.head=p(t),this.tail=e.pop(),this.body=[this.head].concat(p(e))),this.dir.down&&(e=p(this.body),this.tail=e.pop(),(t=p(this.head))[1]+=this.velocityY,this.head=p(t),this.body=[this.head].concat(p(e))),this.dir.right&&(e=p(this.body),this.tail=e.pop(),(t=p(this.head))[0]+=this.velocityX,this.head=p(t),this.body=[this.head].concat(p(e))),this.dir.left&&(e=p(this.body),this.tail=e.pop(),(t=p(this.head))[0]-=this.velocityX,this.head=p(t),this.body=[this.head].concat(p(e)))}},{key:"changeDirection",value:function(e){var t=this;Object.keys(this.dir).map(function(n){n===e?t.dir[e]=!0:t.dir[n]=!1})}},{key:"reset",value:function(){this.head=this.bodyStart[0],this.tail=this.bodyStart[1],this.body=this.bodyStart,this.changeDirection("right")}},{key:"direction",get:function(){var e,t=this;return Object.keys(this.dir).filter(function(n){!0===t.dir[n]&&(e=t.dir[n])}),e}}])&&b(t.prototype,n),r&&b(t,r),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var _=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"addApple",value:function(e){var t=Math.floor(20*Math.random()),n=Math.floor(20*Math.random()),r=[t,n];return 1===e[r[0]][r[1]]?(console.log("apple hit snake"),this.addApple(e)):(t||n)>=20?this.addApple(e):(e[r[0]][r[1]]=2,r)}}],(n=null)&&w(t.prototype,n),r&&w(t,r),e}(),S=n(0),I=n.n(S);function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j={name:"green",dark:"#002011",light:"#007A3F",apple:"#AF2D00"},A={name:"blue",dark:"#00121E",light:"#024570",apple:"#AF2D00"},O={name:"purple",dark:"#16001F",light:"#530174",apple:"#A4AD00"};function N(){return(N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var R,D,x,T,C,P,B=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,E(this,"isReady",!1),E(this,"config",{name:"Snake",version:1,storeName:null}),E(this,"storage",I.a),this.config.storeName=t}var t,n,r;return t=e,(n=[{key:"setItem",value:function(e,t){return this.storage.setItem(e,t)}},{key:"getItem",value:function(e){return this.storage.getItem(e)}},{key:"remove",value:function(e){return this.storage.removeItem(e)}},{key:"keys",value:function(){return this.storage.keys()}},{key:"all",value:function(){var e=[];return this.storage.iterate(function(t){e.push(t)}).then(function(){return e})}},{key:"setup",value:function(){var e=this;this.storage.config(this.config);try{this.storage.ready().then(function(){return e.storage.setDriver(e.storage.INDEXEDDB)}).then(function(){return e.isReady=!0}).catch(function(){throw Error("Could not initialize storage")})}catch(e){console.log(e)}}}])&&k(t.prototype,n),r&&k(t,r),e}())("__snake_game"),L=new f(A.dark),F=L.canvas.getContext("2d"),M=new u,z=new i(B),U=0,q=30,H=1e3/q,W=new y(20,F),K=new m(W.size),X=function(e){H>=4&&(H=1e3/e)},G=function(){var e;z.gameOver(),cancelAnimationFrame(P),x.className="menu slide-in",e=z.highScore,C.innerText=e.toString()},Q=function e(){if(z.isPlaying){if(U>=H){K.move(),W.map[K.tail[0]][K.tail[1]]=0;try{if(1===W.map[K.head[0]][K.head[1]]||K.head[1]<0||K.head[1]>=20)throw Error();if(2===W.map[K.head[0]][K.head[1]]&&(z.addPoints(D),K.eat(),R=null,X(q+=4)),1===W.map[K.head[0]][K.head[1]])throw Error();for(var t=0;t<K.body.length;t++){var n=K.body[t][0],r=K.body[t][1];W.map[n][r]=1}}catch(e){G()}R||(R=_.addApple(W.map)),U=0}U++,K.setDir(M),L.render(F),W.render(F),requestAnimationFrame(e)}},Y=function(e){var t=N({},e),n=t.dark,r=t.light;B.remove("theme").then(function(){return B.setItem("theme",t)}),W.colors=t,L.background=n,document.body.style.background=r,x.style.background=r,D.style.color=n,T.style.background=n,L.render(F)};window.onload=function(){B.setup(),document.body.appendChild(L.canvas),(D=document.querySelector(".score")).innerHTML=z.score.toString(),(x=document.querySelector(".menu")).className="menu slide-in",C=document.querySelector("span"),function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];r.forEach(function(n){var r=document.createElement("div");r.style.background=n.light,r.style.width="25px",r.setAttribute("name",n.name),r.addEventListener("click",function(){return t(n)}),e.appendChild(r)})}(document.querySelector(".settings"),Y,A,j,O),(T=document.querySelector("button")).addEventListener("click",function(){return W.reset(),K.reset(),z.reset(D),R=null,z.startGame(),x.className="menu slide-out",X(q=30),U=0,void Q()}),window.addEventListener("resize",function(){L.canvas.height=.85*window.innerHeight,L.canvas.width=L.canvas.height,F.canvas.height=L.canvas.height,F.canvas.width=L.canvas.width,W.updateWidth(L.canvas),L.render(F)}),B.getItem("theme").then(function(e){Y(e||j)}),L.render(F),P=Q}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvY2FsZm9yYWdlL2Rpc3QvbG9jYWxmb3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS9nYW1lLXN0YXRlL2dhbWUtc3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbnRyb2xsZXIvY29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS9jYW52YXMvY2FudmFzLnRzIiwid2VicGFjazovLy8uL3NyYy9nYW1lL2dyaWQvZ3JpZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS9zbmFrZS9zbmFrZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ2FtZS9hcHBsZS9hcHBsZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RvcmFnZS9zdG9yYWdlLnRzIiwid2VicGFjazovLy8uL3NyYy90aGVtZXMvdGhlbWVzLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImdsb2JhbCIsInJlcXVpcmUiLCJlIiwidSIsImEiLCJmIiwiRXJyb3IiLCJjb2RlIiwibGVuZ3RoIiwiMSIsIl9kZXJlcV8iLCJzY2hlZHVsZURyYWluIiwiZHJhaW5pbmciLCJNdXRhdGlvbiIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyIiwiY2FsbGVkIiwib2JzZXJ2ZXIiLCJuZXh0VGljayIsImVsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZVRleHROb2RlIiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJkYXRhIiwic2V0SW1tZWRpYXRlIiwiTWVzc2FnZUNoYW5uZWwiLCJjcmVhdGVFbGVtZW50Iiwic2NyaXB0RWwiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJkb2N1bWVudEVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsInNldFRpbWVvdXQiLCJjaGFubmVsIiwicG9ydDEiLCJvbm1lc3NhZ2UiLCJwb3J0MiIsInBvc3RNZXNzYWdlIiwicXVldWUiLCJvbGRRdWV1ZSIsImxlbiIsInRhc2siLCJwdXNoIiwidGhpcyIsInNlbGYiLCJ3aW5kb3ciLCIyIiwiaW1tZWRpYXRlIiwiSU5URVJOQUwiLCJoYW5kbGVycyIsIlJFSkVDVEVEIiwiRlVMRklMTEVEIiwiUEVORElORyIsIlByb21pc2UiLCJyZXNvbHZlciIsIlR5cGVFcnJvciIsInN0YXRlIiwib3V0Y29tZSIsInNhZmVseVJlc29sdmVUaGVuYWJsZSIsIlF1ZXVlSXRlbSIsInByb21pc2UiLCJvbkZ1bGZpbGxlZCIsIm9uUmVqZWN0ZWQiLCJjYWxsRnVsZmlsbGVkIiwib3RoZXJDYWxsRnVsZmlsbGVkIiwiY2FsbFJlamVjdGVkIiwib3RoZXJDYWxsUmVqZWN0ZWQiLCJ1bndyYXAiLCJmdW5jIiwicmV0dXJuVmFsdWUiLCJyZWplY3QiLCJyZXNvbHZlIiwiZ2V0VGhlbiIsIm9iaiIsInRoZW4iLCJhcHBseSIsImFyZ3VtZW50cyIsInRoZW5hYmxlIiwib25FcnJvciIsIm9uU3VjY2VzcyIsInJlc3VsdCIsInRyeUNhdGNoIiwic3RhdHVzIiwib3V0IiwiY29uc3RydWN0b3IiLCJlcnJvciIsInJlYXNvbiIsImFsbCIsIml0ZXJhYmxlIiwidG9TdHJpbmciLCJ2YWx1ZXMiLCJBcnJheSIsInJlc29sdmVkIiwiYWxsUmVzb2x2ZXIiLCJvdXRWYWx1ZSIsInJhY2UiLCJyZXNwb25zZSIsIjMiLCI0IiwiX3R5cGVvZiIsIml0ZXJhdG9yIiwiaWRiIiwiaW5kZXhlZERCIiwid2Via2l0SW5kZXhlZERCIiwibW96SW5kZXhlZERCIiwiT0luZGV4ZWREQiIsIm1zSW5kZXhlZERCIiwiZ2V0SURCIiwiY3JlYXRlQmxvYiIsInBhcnRzIiwicHJvcGVydGllcyIsIkJsb2IiLCJCdWlsZGVyIiwiQmxvYkJ1aWxkZXIiLCJNU0Jsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJXZWJLaXRCbG9iQnVpbGRlciIsImJ1aWxkZXIiLCJhcHBlbmQiLCJnZXRCbG9iIiwidHlwZSIsIlByb21pc2UkMSIsImV4ZWN1dGVDYWxsYmFjayIsImNhbGxiYWNrIiwiZXhlY3V0ZVR3b0NhbGxiYWNrcyIsImVycm9yQ2FsbGJhY2siLCJub3JtYWxpemVLZXkiLCJjb25zb2xlIiwid2FybiIsIlN0cmluZyIsImdldENhbGxiYWNrIiwiREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSIsInN1cHBvcnRzQmxvYnMiLCJkYkNvbnRleHRzIiwiUkVBRF9PTkxZIiwiUkVBRF9XUklURSIsIl9jaGVja0Jsb2JTdXBwb3J0IiwidHhuIiwidHJhbnNhY3Rpb24iLCJibG9iIiwib2JqZWN0U3RvcmUiLCJwdXQiLCJvbmFib3J0IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJvbmNvbXBsZXRlIiwibWF0Y2hlZENocm9tZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1hdGNoIiwibWF0Y2hlZEVkZ2UiLCJwYXJzZUludCIsIl9jaGVja0Jsb2JTdXBwb3J0V2l0aG91dENhY2hpbmciLCJfZGVmZXJSZWFkaW5lc3MiLCJkYkluZm8iLCJkYkNvbnRleHQiLCJkZWZlcnJlZE9wZXJhdGlvbiIsImRlZmVycmVkT3BlcmF0aW9ucyIsImRiUmVhZHkiLCJfYWR2YW5jZVJlYWRpbmVzcyIsInBvcCIsIl9yZWplY3RSZWFkaW5lc3MiLCJlcnIiLCJfZ2V0Q29ubmVjdGlvbiIsInVwZ3JhZGVOZWVkZWQiLCJmb3JhZ2VzIiwiZGIiLCJjbG9zZSIsImRiQXJncyIsInZlcnNpb24iLCJvcGVucmVxIiwib3BlbiIsIm9udXBncmFkZW5lZWRlZCIsImNyZWF0ZU9iamVjdFN0b3JlIiwic3RvcmVOYW1lIiwib2xkVmVyc2lvbiIsImV4IiwibmV3VmVyc2lvbiIsIm9uZXJyb3IiLCJvbnN1Y2Nlc3MiLCJfZ2V0T3JpZ2luYWxDb25uZWN0aW9uIiwiX2dldFVwZ3JhZGVkQ29ubmVjdGlvbiIsIl9pc1VwZ3JhZGVOZWVkZWQiLCJkZWZhdWx0VmVyc2lvbiIsImlzTmV3U3RvcmUiLCJvYmplY3RTdG9yZU5hbWVzIiwiY29udGFpbnMiLCJpc0Rvd25ncmFkZSIsImlzVXBncmFkZSIsImluY1ZlcnNpb24iLCJfZGVjb2RlQmxvYiIsImVuY29kZWRCbG9iIiwiYXJyYXlCdWZmIiwiYmluIiwiYnVmIiwiQXJyYXlCdWZmZXIiLCJhcnIiLCJVaW50OEFycmF5IiwiY2hhckNvZGVBdCIsIl9iaW5TdHJpbmdUb0FycmF5QnVmZmVyIiwiYXRvYiIsIl9pc0VuY29kZWRCbG9iIiwiX19sb2NhbF9mb3JhZ2VfZW5jb2RlZF9ibG9iIiwiX2Z1bGx5UmVhZHkiLCJfaW5pdFJlYWR5IiwiX2RiSW5mbyIsImNyZWF0ZVRyYW5zYWN0aW9uIiwicmV0cmllcyIsInVuZGVmaW5lZCIsInR4IiwiZm9yYWdlIiwiX3RyeVJlY29ubmVjdCIsImFzeW5jU3RvcmFnZSIsIl9kcml2ZXIiLCJfaW5pdFN0b3JhZ2UiLCJvcHRpb25zIiwicmVhZHkiLCJpbml0UHJvbWlzZXMiLCJpZ25vcmVFcnJvcnMiLCJqIiwic2xpY2UiLCJfZGVmYXVsdENvbmZpZyIsImsiLCJfc3VwcG9ydCIsImlzU2FmYXJpIiwib3BlbkRhdGFiYXNlIiwidGVzdCIsInBsYXRmb3JtIiwiaGFzRmV0Y2giLCJmZXRjaCIsImluZGV4T2YiLCJJREJLZXlSYW5nZSIsImlzSW5kZXhlZERCVmFsaWQiLCJpdGVyYXRlIiwic3RvcmUiLCJyZXEiLCJvcGVuQ3Vyc29yIiwiaXRlcmF0aW9uTnVtYmVyIiwiY3Vyc29yIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJibG9iU3VwcG9ydCIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJvbmxvYWRlbmQiLCJiYXNlNjQiLCJidG9hIiwidGFyZ2V0IiwicmVhZEFzQmluYXJ5U3RyaW5nIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwiY291bnQiLCJhZHZhbmNlZCIsImFkdmFuY2UiLCJrZXlzIiwiZHJvcEluc3RhbmNlIiwiY3VycmVudENvbmZpZyIsImNvbmZpZyIsImlzQ3VycmVudERiIiwiZGJQcm9taXNlIiwiZHJvcE9iamVjdFByb21pc2UiLCJkZWxldGVPYmplY3RTdG9yZSIsIl9mb3JhZ2UyIiwiZHJvcERCUHJvbWlzZSIsImRlbGV0ZURhdGFiYXNlIiwib25ibG9ja2VkIiwiX2ZvcmFnZSIsIkJBU0VfQ0hBUlMiLCJCTE9CX1RZUEVfUFJFRklYIiwiQkxPQl9UWVBFX1BSRUZJWF9SRUdFWCIsIlNFUklBTElaRURfTUFSS0VSIiwiU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RIIiwiVFlQRV9BUlJBWUJVRkZFUiIsIlRZUEVfQkxPQiIsIlRZUEVfSU5UOEFSUkFZIiwiVFlQRV9VSU5UOEFSUkFZIiwiVFlQRV9VSU5UOENMQU1QRURBUlJBWSIsIlRZUEVfSU5UMTZBUlJBWSIsIlRZUEVfSU5UMzJBUlJBWSIsIlRZUEVfVUlOVDE2QVJSQVkiLCJUWVBFX1VJTlQzMkFSUkFZIiwiVFlQRV9GTE9BVDMyQVJSQVkiLCJUWVBFX0ZMT0FUNjRBUlJBWSIsIlRZUEVfU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RIIiwidG9TdHJpbmckMSIsInN0cmluZ1RvQnVmZmVyIiwic2VyaWFsaXplZFN0cmluZyIsImVuY29kZWQxIiwiZW5jb2RlZDIiLCJlbmNvZGVkMyIsImVuY29kZWQ0IiwiYnVmZmVyTGVuZ3RoIiwiYnVmZmVyIiwiYnl0ZXMiLCJidWZmZXJUb1N0cmluZyIsImJhc2U2NFN0cmluZyIsInN1YnN0cmluZyIsImxvY2FsZm9yYWdlU2VyaWFsaXplciIsInNlcmlhbGl6ZSIsInZhbHVlVHlwZSIsIm1hcmtlciIsImZpbGVSZWFkZXIiLCJvbmxvYWQiLCJzdHIiLCJyZWFkQXNBcnJheUJ1ZmZlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZXNlcmlhbGl6ZSIsInBhcnNlIiwiYmxvYlR5cGUiLCJtYXRjaGVyIiwiSW50OEFycmF5IiwiVWludDhDbGFtcGVkQXJyYXkiLCJJbnQxNkFycmF5IiwiVWludDE2QXJyYXkiLCJJbnQzMkFycmF5IiwiVWludDMyQXJyYXkiLCJGbG9hdDMyQXJyYXkiLCJGbG9hdDY0QXJyYXkiLCJjcmVhdGVEYlRhYmxlIiwiZXhlY3V0ZVNxbCIsInRyeUV4ZWN1dGVTcWwiLCJzcWxTdGF0ZW1lbnQiLCJhcmdzIiwiU1lOVEFYX0VSUiIsInJlc3VsdHMiLCJyb3dzIiwid2ViU1FMU3RvcmFnZSIsImRiSW5mb1Byb21pc2UiLCJkZXNjcmlwdGlvbiIsInNpemUiLCJzZXJpYWxpemVyIiwiaXRlbSIsIl9zZXRJdGVtIiwicmV0cmllc0xlZnQiLCJvcmlnaW5hbFZhbHVlIiwic3FsRXJyb3IiLCJRVU9UQV9FUlIiLCJzdG9yZU5hbWVzIiwiZ2V0QWxsU3RvcmVOYW1lcyIsIm9wZXJhdGlvbkluZm8iLCJkcm9wVGFibGUiLCJvcGVyYXRpb25zIiwiX2dldEtleVByZWZpeCIsImRlZmF1bHRDb25maWciLCJrZXlQcmVmaXgiLCJfaXNMb2NhbFN0b3JhZ2VVc2FibGUiLCJsb2NhbFN0b3JhZ2UiLCJjaGVja0lmTG9jYWxTdG9yYWdlVGhyb3dzIiwibG9jYWxTdG9yYWdlV3JhcHBlciIsImlzTG9jYWxTdG9yYWdlVmFsaWQiLCJrZXlQcmVmaXhMZW5ndGgiLCJpdGVtS2V5IiwiaW5jbHVkZXMiLCJhcnJheSIsInNlYXJjaEVsZW1lbnQiLCJ4IiwieSIsImlzTmFOIiwiaXNBcnJheSIsImFyZyIsIkRlZmluZWREcml2ZXJzIiwiRHJpdmVyU3VwcG9ydCIsIkRlZmF1bHREcml2ZXJzIiwiSU5ERVhFRERCIiwiV0VCU1FMIiwiTE9DQUxTVE9SQUdFIiwiRGVmYXVsdERyaXZlck9yZGVyIiwiT3B0aW9uYWxEcml2ZXJNZXRob2RzIiwiTGlicmFyeU1ldGhvZHMiLCJjb25jYXQiLCJEZWZhdWx0Q29uZmlnIiwiZHJpdmVyIiwiY2FsbFdoZW5SZWFkeSIsImxvY2FsRm9yYWdlSW5zdGFuY2UiLCJsaWJyYXJ5TWV0aG9kIiwiX2FyZ3MiLCJleHRlbmQiLCJfa2V5IiwiTG9jYWxGb3JhZ2UiLCJkcml2ZXJUeXBlS2V5IiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIl9jbGFzc0NhbGxDaGVjayIsImRyaXZlck5hbWUiLCJkZWZpbmVEcml2ZXIiLCJfY29uZmlnIiwiX2RyaXZlclNldCIsIl9pbml0RHJpdmVyIiwiX3JlYWR5IiwiX3dyYXBMaWJyYXJ5TWV0aG9kc1dpdGhSZWFkeSIsInNldERyaXZlciIsInJlcGxhY2UiLCJkcml2ZXJPYmplY3QiLCJjb21wbGlhbmNlRXJyb3IiLCJkcml2ZXJNZXRob2RzIiwiZHJpdmVyTWV0aG9kTmFtZSIsImlzUmVxdWlyZWQiLCJtZXRob2ROb3RJbXBsZW1lbnRlZEZhY3RvcnkiLCJtZXRob2ROYW1lIiwiX2kiLCJfbGVuIiwib3B0aW9uYWxEcml2ZXJNZXRob2QiLCJjb25maWd1cmVNaXNzaW5nTWV0aG9kcyIsInNldERyaXZlclN1cHBvcnQiLCJzdXBwb3J0IiwiaW5mbyIsImdldERyaXZlciIsImdldERyaXZlclByb21pc2UiLCJnZXRTZXJpYWxpemVyIiwic2VyaWFsaXplclByb21pc2UiLCJkcml2ZXJzIiwic3VwcG9ydGVkRHJpdmVycyIsIl9nZXRTdXBwb3J0ZWREcml2ZXJzIiwic2V0RHJpdmVyVG9Db25maWciLCJleHRlbmRTZWxmV2l0aERyaXZlciIsIl9leHRlbmQiLCJvbGREcml2ZXJTZXREb25lIiwiY3VycmVudERyaXZlckluZGV4IiwiZHJpdmVyUHJvbWlzZUxvb3AiLCJpbml0RHJpdmVyIiwic3VwcG9ydHMiLCJsaWJyYXJ5TWV0aG9kc0FuZFByb3BlcnRpZXMiLCJjcmVhdGVJbnN0YW5jZSIsImxvY2FsZm9yYWdlX2pzIiwiZyIsIkZ1bmN0aW9uIiwiR2FtZVN0YXRlIiwic3RvcmFnZSIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldFN0b3JlZFNjb3JlIiwiZWwiLCJhY3R1YWxTY29yZSIsInBvaW50cyIsImluY3JlbWVudFNjb3JlIiwiaXNQbGF5aW5nIiwidXBkYXRlSGlnaFNjb3JlIiwiX3RoaXMiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwic2NvcmUiLCJ1cGRhdGVTY29yZSIsImNsZWFySW50ZXJ2YWwiLCJfdGhpczIiLCJpc1JlYWR5Iiwic3RvcmFnZUtleSIsImhpZ2hTY29yZSIsIm51bSIsImlzSGlnaGVyIiwib2xkSGlnaFNjb3JlIiwidXBkYXRlU3RvcmFnZSIsImlubmVySFRNTCIsIl90aGlzMyIsInJlbW92ZSIsIkNvbnRyb2xsZXIiLCJjb250cm9sbGVyX2NsYXNzQ2FsbENoZWNrIiwiQXJyb3dVcCIsIkFycm93RG93biIsIkFycm93UmlnaHQiLCJBcnJvd0xlZnQiLCJhZGRFdmVudExpc3RlbmVyIiwib25LZXlEb3duIiwib25LZXlVcCIsImV2ZW50IiwiQ2FudmFzIiwiY29sb3IiLCJjYW52YXNfY2xhc3NDYWxsQ2hlY2siLCJjYW52YXNfZGVmaW5lUHJvcGVydHkiLCJjYW52YXMiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsIndpZHRoIiwiY3R4IiwiaWQiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInNldCIsIkdyaWQiLCJjb2xzQW5kUm93cyIsImdyaWRfY2xhc3NDYWxsQ2hlY2siLCJncmlkX2RlZmluZVByb3BlcnR5IiwibWFwIiwiZmlsbCIsIl90b0NvbnN1bWFibGVBcnJheSIsImNvbCIsImNvbHMiLCJyb3ciLCJiYWNrZ3JvdW5kIiwic25ha2UiLCJhcHBsZSIsIl9yZWYiLCJfZXh0ZW5kcyIsImRhcmsiLCJsaWdodCIsIlNuYWtlIiwic25ha2VfY2xhc3NDYWxsQ2hlY2siLCJzbmFrZV9kZWZpbmVQcm9wZXJ0eSIsInVwIiwiZG93biIsImxlZnQiLCJyaWdodCIsImhlYWQiLCJib2R5U3RhcnQiLCJ0YWlsIiwiYm9keSIsInNuYWtlX3RvQ29uc3VtYWJsZUFycmF5IiwiY29udHJvbGxlciIsImRpciIsImNoYW5nZURpcmVjdGlvbiIsIm5ld0JvZHkiLCJuZXdIZWFkIiwidmVsb2NpdHlZIiwidmVsb2NpdHlYIiwiZGlyZWN0aW9uIiwiZmlsdGVyIiwiQXBwbGUiLCJhcHBsZV9jbGFzc0NhbGxDaGVjayIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImxvZyIsImFkZEFwcGxlIiwiZ3JlZW4iLCJibHVlIiwicHVycGxlIiwibWVudSIsInN0YXJ0QnRuIiwibG9vcCIsIlN0b3JhZ2UiLCJfbmFtZSIsInN0b3JhZ2VfY2xhc3NDYWxsQ2hlY2siLCJzdG9yYWdlX2RlZmluZVByb3BlcnR5IiwibG9jYWxGb3JhZ2UiLCJjYXRjaCIsImdldENvbnRleHQiLCJnYW1lVGltZSIsImZwcyIsInRpbWVTdGVwIiwiZ3JpZCIsInVwZGF0ZVRpbWVTdGVwIiwiZ2FtZU92ZXIiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImNsYXNzTmFtZSIsImlubmVyVGV4dCIsImdhbWVMb29wIiwibW92ZSIsImFkZFBvaW50cyIsImVhdCIsInNldERpciIsInJlbmRlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInNldFRoZW1lIiwic3JjX2V4dGVuZHMiLCJjb2xvcnMiLCJzdHlsZSIsInNldHVwIiwicXVlcnlTZWxlY3RvciIsImxpc3RlbmVyIiwidGhlbWVzIiwiZm9yRWFjaCIsInRoZW1lIiwiZGl2Iiwic2V0QXR0cmlidXRlIiwiYWRkVGhlbWVzIiwicmVzZXQiLCJzdGFydEdhbWUiLCJ1cGRhdGVXaWR0aCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0Es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WSxpQkFFakJILEVBREFILEVBN0N1QixJQStDdkJELEVBQVcsT0FDWFMsTUEyR0FuZixPQUFPK1osaUJBQWlCLFNBQVUsV0FDaEN6ZSxFQUFFaWYsT0FBT0MsT0FBOEIsSUFBckJ4YSxPQUFPeWEsWUFDekJuZixFQUFFaWYsT0FBT0csTUFBUXBmLEVBQUVpZixPQUFPQyxPQUMxQkcsRUFBSUosT0FBT0MsT0FBU2xmLEVBQUVpZixPQUFPQyxPQUM3QkcsRUFBSUosT0FBT0csTUFBUXBmLEVBQUVpZixPQUFPRyxNQUM1Qm1FLEVBQUs0QixZQUFZbmxCLEVBQUVpZixRQUNuQmpmLEVBQUVra0IsT0FBTzdFLEtBakNYNUMsRUFBUTdMLFFBQVEsU0FBU3JLLEtBQUssU0FBQXNlLEdBRTFCVCxFQURFUyxHQUdPdEMsS0FpQ2J2aUIsRUFBRWtrQixPQUFPN0UsR0FFVHVELEVBQU9pQiIsImZpbGUiOiJpbmRleC5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4iLCIvKiFcbiAgICBsb2NhbEZvcmFnZSAtLSBPZmZsaW5lIFN0b3JhZ2UsIEltcHJvdmVkXG4gICAgVmVyc2lvbiAxLjcuM1xuICAgIGh0dHBzOi8vbG9jYWxmb3JhZ2UuZ2l0aHViLmlvL2xvY2FsRm9yYWdlXG4gICAgKGMpIDIwMTMtMjAxNyBNb3ppbGxhLCBBcGFjaGUgTGljZW5zZSAyLjBcbiovXG4oZnVuY3Rpb24oZil7aWYodHlwZW9mIGV4cG9ydHM9PT1cIm9iamVjdFwiJiZ0eXBlb2YgbW9kdWxlIT09XCJ1bmRlZmluZWRcIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PVwiZnVuY3Rpb25cIiYmZGVmaW5lLmFtZCl7ZGVmaW5lKFtdLGYpfWVsc2V7dmFyIGc7aWYodHlwZW9mIHdpbmRvdyE9PVwidW5kZWZpbmVkXCIpe2c9d2luZG93fWVsc2UgaWYodHlwZW9mIGdsb2JhbCE9PVwidW5kZWZpbmVkXCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT1cInVuZGVmaW5lZFwiKXtnPXNlbGZ9ZWxzZXtnPXRoaXN9Zy5sb2NhbGZvcmFnZSA9IGYoKX19KShmdW5jdGlvbigpe3ZhciBkZWZpbmUsbW9kdWxlLGV4cG9ydHM7cmV0dXJuIChmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyAoZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLCBmKX12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbid1c2Ugc3RyaWN0JztcbnZhciBNdXRhdGlvbiA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuXG52YXIgc2NoZWR1bGVEcmFpbjtcblxue1xuICBpZiAoTXV0YXRpb24pIHtcbiAgICB2YXIgY2FsbGVkID0gMDtcbiAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb24obmV4dFRpY2spO1xuICAgIHZhciBlbGVtZW50ID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICAgIGNoYXJhY3RlckRhdGE6IHRydWVcbiAgICB9KTtcbiAgICBzY2hlZHVsZURyYWluID0gZnVuY3Rpb24gKCkge1xuICAgICAgZWxlbWVudC5kYXRhID0gKGNhbGxlZCA9ICsrY2FsbGVkICUgMik7XG4gICAgfTtcbiAgfSBlbHNlIGlmICghZ2xvYmFsLnNldEltbWVkaWF0ZSAmJiB0eXBlb2YgZ2xvYmFsLk1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBjaGFubmVsID0gbmV3IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCgpO1xuICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbmV4dFRpY2s7XG4gICAgc2NoZWR1bGVEcmFpbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gICAgfTtcbiAgfSBlbHNlIGlmICgnZG9jdW1lbnQnIGluIGdsb2JhbCAmJiAnb25yZWFkeXN0YXRlY2hhbmdlJyBpbiBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JykpIHtcbiAgICBzY2hlZHVsZURyYWluID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgICB2YXIgc2NyaXB0RWwgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICBzY3JpcHRFbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG5leHRUaWNrKCk7XG5cbiAgICAgICAgc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgc2NyaXB0RWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHRFbCk7XG4gICAgICAgIHNjcmlwdEVsID0gbnVsbDtcbiAgICAgIH07XG4gICAgICBnbG9iYWwuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHNjcmlwdEVsKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHNjaGVkdWxlRHJhaW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzZXRUaW1lb3V0KG5leHRUaWNrLCAwKTtcbiAgICB9O1xuICB9XG59XG5cbnZhciBkcmFpbmluZztcbnZhciBxdWV1ZSA9IFtdO1xuLy9uYW1lZCBuZXh0VGljayBmb3IgbGVzcyBjb25mdXNpbmcgc3RhY2sgdHJhY2VzXG5mdW5jdGlvbiBuZXh0VGljaygpIHtcbiAgZHJhaW5pbmcgPSB0cnVlO1xuICB2YXIgaSwgb2xkUXVldWU7XG4gIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gIHdoaWxlIChsZW4pIHtcbiAgICBvbGRRdWV1ZSA9IHF1ZXVlO1xuICAgIHF1ZXVlID0gW107XG4gICAgaSA9IC0xO1xuICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICAgIG9sZFF1ZXVlW2ldKCk7XG4gICAgfVxuICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgfVxuICBkcmFpbmluZyA9IGZhbHNlO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGltbWVkaWF0ZTtcbmZ1bmN0aW9uIGltbWVkaWF0ZSh0YXNrKSB7XG4gIGlmIChxdWV1ZS5wdXNoKHRhc2spID09PSAxICYmICFkcmFpbmluZykge1xuICAgIHNjaGVkdWxlRHJhaW4oKTtcbiAgfVxufVxuXG59KS5jYWxsKHRoaXMsdHlwZW9mIGdsb2JhbCAhPT0gXCJ1bmRlZmluZWRcIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSBcInVuZGVmaW5lZFwiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB3aW5kb3cgOiB7fSlcbn0se31dLDI6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xudmFyIGltbWVkaWF0ZSA9IF9kZXJlcV8oMSk7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBJTlRFUk5BTCgpIHt9XG5cbnZhciBoYW5kbGVycyA9IHt9O1xuXG52YXIgUkVKRUNURUQgPSBbJ1JFSkVDVEVEJ107XG52YXIgRlVMRklMTEVEID0gWydGVUxGSUxMRUQnXTtcbnZhciBQRU5ESU5HID0gWydQRU5ESU5HJ107XG5cbm1vZHVsZS5leHBvcnRzID0gUHJvbWlzZTtcblxuZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlcikge1xuICBpZiAodHlwZW9mIHJlc29sdmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncmVzb2x2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cbiAgdGhpcy5zdGF0ZSA9IFBFTkRJTkc7XG4gIHRoaXMucXVldWUgPSBbXTtcbiAgdGhpcy5vdXRjb21lID0gdm9pZCAwO1xuICBpZiAocmVzb2x2ZXIgIT09IElOVEVSTkFMKSB7XG4gICAgc2FmZWx5UmVzb2x2ZVRoZW5hYmxlKHRoaXMsIHJlc29sdmVyKTtcbiAgfVxufVxuXG5Qcm9taXNlLnByb3RvdHlwZVtcImNhdGNoXCJdID0gZnVuY3Rpb24gKG9uUmVqZWN0ZWQpIHtcbiAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGVkKTtcbn07XG5Qcm9taXNlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24gKG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSB7XG4gIGlmICh0eXBlb2Ygb25GdWxmaWxsZWQgIT09ICdmdW5jdGlvbicgJiYgdGhpcy5zdGF0ZSA9PT0gRlVMRklMTEVEIHx8XG4gICAgdHlwZW9mIG9uUmVqZWN0ZWQgIT09ICdmdW5jdGlvbicgJiYgdGhpcy5zdGF0ZSA9PT0gUkVKRUNURUQpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuICB2YXIgcHJvbWlzZSA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKElOVEVSTkFMKTtcbiAgaWYgKHRoaXMuc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICB2YXIgcmVzb2x2ZXIgPSB0aGlzLnN0YXRlID09PSBGVUxGSUxMRUQgPyBvbkZ1bGZpbGxlZCA6IG9uUmVqZWN0ZWQ7XG4gICAgdW53cmFwKHByb21pc2UsIHJlc29sdmVyLCB0aGlzLm91dGNvbWUpO1xuICB9IGVsc2Uge1xuICAgIHRoaXMucXVldWUucHVzaChuZXcgUXVldWVJdGVtKHByb21pc2UsIG9uRnVsZmlsbGVkLCBvblJlamVjdGVkKSk7XG4gIH1cblxuICByZXR1cm4gcHJvbWlzZTtcbn07XG5mdW5jdGlvbiBRdWV1ZUl0ZW0ocHJvbWlzZSwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpIHtcbiAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbiAgaWYgKHR5cGVvZiBvbkZ1bGZpbGxlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHRoaXMub25GdWxmaWxsZWQgPSBvbkZ1bGZpbGxlZDtcbiAgICB0aGlzLmNhbGxGdWxmaWxsZWQgPSB0aGlzLm90aGVyQ2FsbEZ1bGZpbGxlZDtcbiAgfVxuICBpZiAodHlwZW9mIG9uUmVqZWN0ZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICB0aGlzLm9uUmVqZWN0ZWQgPSBvblJlamVjdGVkO1xuICAgIHRoaXMuY2FsbFJlamVjdGVkID0gdGhpcy5vdGhlckNhbGxSZWplY3RlZDtcbiAgfVxufVxuUXVldWVJdGVtLnByb3RvdHlwZS5jYWxsRnVsZmlsbGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIGhhbmRsZXJzLnJlc29sdmUodGhpcy5wcm9taXNlLCB2YWx1ZSk7XG59O1xuUXVldWVJdGVtLnByb3RvdHlwZS5vdGhlckNhbGxGdWxmaWxsZWQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgdW53cmFwKHRoaXMucHJvbWlzZSwgdGhpcy5vbkZ1bGZpbGxlZCwgdmFsdWUpO1xufTtcblF1ZXVlSXRlbS5wcm90b3R5cGUuY2FsbFJlamVjdGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIGhhbmRsZXJzLnJlamVjdCh0aGlzLnByb21pc2UsIHZhbHVlKTtcbn07XG5RdWV1ZUl0ZW0ucHJvdG90eXBlLm90aGVyQ2FsbFJlamVjdGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gIHVud3JhcCh0aGlzLnByb21pc2UsIHRoaXMub25SZWplY3RlZCwgdmFsdWUpO1xufTtcblxuZnVuY3Rpb24gdW53cmFwKHByb21pc2UsIGZ1bmMsIHZhbHVlKSB7XG4gIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJldHVyblZhbHVlO1xuICAgIHRyeSB7XG4gICAgICByZXR1cm5WYWx1ZSA9IGZ1bmModmFsdWUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiBoYW5kbGVycy5yZWplY3QocHJvbWlzZSwgZSk7XG4gICAgfVxuICAgIGlmIChyZXR1cm5WYWx1ZSA9PT0gcHJvbWlzZSkge1xuICAgICAgaGFuZGxlcnMucmVqZWN0KHByb21pc2UsIG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCByZXNvbHZlIHByb21pc2Ugd2l0aCBpdHNlbGYnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZXJzLnJlc29sdmUocHJvbWlzZSwgcmV0dXJuVmFsdWUpO1xuICAgIH1cbiAgfSk7XG59XG5cbmhhbmRsZXJzLnJlc29sdmUgPSBmdW5jdGlvbiAoc2VsZiwgdmFsdWUpIHtcbiAgdmFyIHJlc3VsdCA9IHRyeUNhdGNoKGdldFRoZW4sIHZhbHVlKTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICByZXR1cm4gaGFuZGxlcnMucmVqZWN0KHNlbGYsIHJlc3VsdC52YWx1ZSk7XG4gIH1cbiAgdmFyIHRoZW5hYmxlID0gcmVzdWx0LnZhbHVlO1xuXG4gIGlmICh0aGVuYWJsZSkge1xuICAgIHNhZmVseVJlc29sdmVUaGVuYWJsZShzZWxmLCB0aGVuYWJsZSk7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5zdGF0ZSA9IEZVTEZJTExFRDtcbiAgICBzZWxmLm91dGNvbWUgPSB2YWx1ZTtcbiAgICB2YXIgaSA9IC0xO1xuICAgIHZhciBsZW4gPSBzZWxmLnF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICBzZWxmLnF1ZXVlW2ldLmNhbGxGdWxmaWxsZWQodmFsdWUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc2VsZjtcbn07XG5oYW5kbGVycy5yZWplY3QgPSBmdW5jdGlvbiAoc2VsZiwgZXJyb3IpIHtcbiAgc2VsZi5zdGF0ZSA9IFJFSkVDVEVEO1xuICBzZWxmLm91dGNvbWUgPSBlcnJvcjtcbiAgdmFyIGkgPSAtMTtcbiAgdmFyIGxlbiA9IHNlbGYucXVldWUubGVuZ3RoO1xuICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgc2VsZi5xdWV1ZVtpXS5jYWxsUmVqZWN0ZWQoZXJyb3IpO1xuICB9XG4gIHJldHVybiBzZWxmO1xufTtcblxuZnVuY3Rpb24gZ2V0VGhlbihvYmopIHtcbiAgLy8gTWFrZSBzdXJlIHdlIG9ubHkgYWNjZXNzIHRoZSBhY2Nlc3NvciBvbmNlIGFzIHJlcXVpcmVkIGJ5IHRoZSBzcGVjXG4gIHZhciB0aGVuID0gb2JqICYmIG9iai50aGVuO1xuICBpZiAob2JqICYmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0JyB8fCB0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSAmJiB0eXBlb2YgdGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmdW5jdGlvbiBhcHB5VGhlbigpIHtcbiAgICAgIHRoZW4uYXBwbHkob2JqLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gc2FmZWx5UmVzb2x2ZVRoZW5hYmxlKHNlbGYsIHRoZW5hYmxlKSB7XG4gIC8vIEVpdGhlciBmdWxmaWxsLCByZWplY3Qgb3IgcmVqZWN0IHdpdGggZXJyb3JcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBvbkVycm9yKHZhbHVlKSB7XG4gICAgaWYgKGNhbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsZWQgPSB0cnVlO1xuICAgIGhhbmRsZXJzLnJlamVjdChzZWxmLCB2YWx1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBvblN1Y2Nlc3ModmFsdWUpIHtcbiAgICBpZiAoY2FsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhbGxlZCA9IHRydWU7XG4gICAgaGFuZGxlcnMucmVzb2x2ZShzZWxmLCB2YWx1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cnlUb1Vud3JhcCgpIHtcbiAgICB0aGVuYWJsZShvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IHRyeUNhdGNoKHRyeVRvVW53cmFwKTtcbiAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICBvbkVycm9yKHJlc3VsdC52YWx1ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdHJ5Q2F0Y2goZnVuYywgdmFsdWUpIHtcbiAgdmFyIG91dCA9IHt9O1xuICB0cnkge1xuICAgIG91dC52YWx1ZSA9IGZ1bmModmFsdWUpO1xuICAgIG91dC5zdGF0dXMgPSAnc3VjY2Vzcyc7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBvdXQuc3RhdHVzID0gJ2Vycm9yJztcbiAgICBvdXQudmFsdWUgPSBlO1xuICB9XG4gIHJldHVybiBvdXQ7XG59XG5cblByb21pc2UucmVzb2x2ZSA9IHJlc29sdmU7XG5mdW5jdGlvbiByZXNvbHZlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSBpbnN0YW5jZW9mIHRoaXMpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIGhhbmRsZXJzLnJlc29sdmUobmV3IHRoaXMoSU5URVJOQUwpLCB2YWx1ZSk7XG59XG5cblByb21pc2UucmVqZWN0ID0gcmVqZWN0O1xuZnVuY3Rpb24gcmVqZWN0KHJlYXNvbikge1xuICB2YXIgcHJvbWlzZSA9IG5ldyB0aGlzKElOVEVSTkFMKTtcbiAgcmV0dXJuIGhhbmRsZXJzLnJlamVjdChwcm9taXNlLCByZWFzb24pO1xufVxuXG5Qcm9taXNlLmFsbCA9IGFsbDtcbmZ1bmN0aW9uIGFsbChpdGVyYWJsZSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcmFibGUpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgcmV0dXJuIHRoaXMucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ211c3QgYmUgYW4gYXJyYXknKSk7XG4gIH1cblxuICB2YXIgbGVuID0gaXRlcmFibGUubGVuZ3RoO1xuICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gIGlmICghbGVuKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzb2x2ZShbXSk7XG4gIH1cblxuICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KGxlbik7XG4gIHZhciByZXNvbHZlZCA9IDA7XG4gIHZhciBpID0gLTE7XG4gIHZhciBwcm9taXNlID0gbmV3IHRoaXMoSU5URVJOQUwpO1xuXG4gIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICBhbGxSZXNvbHZlcihpdGVyYWJsZVtpXSwgaSk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2U7XG4gIGZ1bmN0aW9uIGFsbFJlc29sdmVyKHZhbHVlLCBpKSB7XG4gICAgc2VsZi5yZXNvbHZlKHZhbHVlKS50aGVuKHJlc29sdmVGcm9tQWxsLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIGhhbmRsZXJzLnJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gcmVzb2x2ZUZyb21BbGwob3V0VmFsdWUpIHtcbiAgICAgIHZhbHVlc1tpXSA9IG91dFZhbHVlO1xuICAgICAgaWYgKCsrcmVzb2x2ZWQgPT09IGxlbiAmJiAhY2FsbGVkKSB7XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIGhhbmRsZXJzLnJlc29sdmUocHJvbWlzZSwgdmFsdWVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuUHJvbWlzZS5yYWNlID0gcmFjZTtcbmZ1bmN0aW9uIHJhY2UoaXRlcmFibGUpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXJhYmxlKSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgIHJldHVybiB0aGlzLnJlamVjdChuZXcgVHlwZUVycm9yKCdtdXN0IGJlIGFuIGFycmF5JykpO1xuICB9XG5cbiAgdmFyIGxlbiA9IGl0ZXJhYmxlLmxlbmd0aDtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICBpZiAoIWxlbikge1xuICAgIHJldHVybiB0aGlzLnJlc29sdmUoW10pO1xuICB9XG5cbiAgdmFyIGkgPSAtMTtcbiAgdmFyIHByb21pc2UgPSBuZXcgdGhpcyhJTlRFUk5BTCk7XG5cbiAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgIHJlc29sdmVyKGl0ZXJhYmxlW2ldKTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZTtcbiAgZnVuY3Rpb24gcmVzb2x2ZXIodmFsdWUpIHtcbiAgICBzZWxmLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgICBoYW5kbGVycy5yZXNvbHZlKHByb21pc2UsIHJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGlmICghY2FsbGVkKSB7XG4gICAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICAgIGhhbmRsZXJzLnJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxufSx7XCIxXCI6MX1dLDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuKGZ1bmN0aW9uIChnbG9iYWwpe1xuJ3VzZSBzdHJpY3QnO1xuaWYgKHR5cGVvZiBnbG9iYWwuUHJvbWlzZSAhPT0gJ2Z1bmN0aW9uJykge1xuICBnbG9iYWwuUHJvbWlzZSA9IF9kZXJlcV8oMik7XG59XG5cbn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIgPyBzZWxmIDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IHt9KVxufSx7XCIyXCI6Mn1dLDQ6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIGdldElEQigpIHtcbiAgICAvKiBnbG9iYWwgaW5kZXhlZERCLHdlYmtpdEluZGV4ZWREQixtb3pJbmRleGVkREIsT0luZGV4ZWREQixtc0luZGV4ZWREQiAqL1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXhlZERCICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIGluZGV4ZWREQjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHdlYmtpdEluZGV4ZWREQiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB3ZWJraXRJbmRleGVkREI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBtb3pJbmRleGVkREIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gbW96SW5kZXhlZERCO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgT0luZGV4ZWREQiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBPSW5kZXhlZERCO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbXNJbmRleGVkREIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gbXNJbmRleGVkREI7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5cbnZhciBpZGIgPSBnZXRJREIoKTtcblxuZnVuY3Rpb24gaXNJbmRleGVkREJWYWxpZCgpIHtcbiAgICB0cnkge1xuICAgICAgICAvLyBJbml0aWFsaXplIEluZGV4ZWREQjsgZmFsbCBiYWNrIHRvIHZlbmRvci1wcmVmaXhlZCB2ZXJzaW9uc1xuICAgICAgICAvLyBpZiBuZWVkZWQuXG4gICAgICAgIGlmICghaWRiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgbWltaWMgUG91Y2hEQiBoZXJlO1xuICAgICAgICAvL1xuICAgICAgICAvLyBXZSB0ZXN0IGZvciBvcGVuRGF0YWJhc2UgYmVjYXVzZSBJRSBNb2JpbGUgaWRlbnRpZmllcyBpdHNlbGZcbiAgICAgICAgLy8gYXMgU2FmYXJpLiBPaCB0aGUgbHVsei4uLlxuICAgICAgICB2YXIgaXNTYWZhcmkgPSB0eXBlb2Ygb3BlbkRhdGFiYXNlICE9PSAndW5kZWZpbmVkJyAmJiAvKFNhZmFyaXxpUGhvbmV8aVBhZHxpUG9kKS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhL0Nocm9tZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhL0JsYWNrQmVycnkvLnRlc3QobmF2aWdhdG9yLnBsYXRmb3JtKTtcblxuICAgICAgICB2YXIgaGFzRmV0Y2ggPSB0eXBlb2YgZmV0Y2ggPT09ICdmdW5jdGlvbicgJiYgZmV0Y2gudG9TdHJpbmcoKS5pbmRleE9mKCdbbmF0aXZlIGNvZGUnKSAhPT0gLTE7XG5cbiAgICAgICAgLy8gU2FmYXJpIDwxMC4xIGRvZXMgbm90IG1lZXQgb3VyIHJlcXVpcmVtZW50cyBmb3IgSURCIHN1cHBvcnQgKCM1NTcyKVxuICAgICAgICAvLyBzaW5jZSBTYWZhcmkgMTAuMSBzaGlwcGVkIHdpdGggZmV0Y2gsIHdlIGNhbiB1c2UgdGhhdCB0byBkZXRlY3QgaXRcbiAgICAgICAgcmV0dXJuICghaXNTYWZhcmkgfHwgaGFzRmV0Y2gpICYmIHR5cGVvZiBpbmRleGVkREIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgIC8vIHNvbWUgb3V0ZGF0ZWQgaW1wbGVtZW50YXRpb25zIG9mIElEQiB0aGF0IGFwcGVhciBvbiBTYW1zdW5nXG4gICAgICAgIC8vIGFuZCBIVEMgQW5kcm9pZCBkZXZpY2VzIDw0LjQgYXJlIG1pc3NpbmcgSURCS2V5UmFuZ2VcbiAgICAgICAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9pc3N1ZXMvMTI4XG4gICAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvbG9jYWxGb3JhZ2UvaXNzdWVzLzI3MlxuICAgICAgICB0eXBlb2YgSURCS2V5UmFuZ2UgIT09ICd1bmRlZmluZWQnO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cblxuLy8gQWJzdHJhY3RzIGNvbnN0cnVjdGluZyBhIEJsb2Igb2JqZWN0LCBzbyBpdCBhbHNvIHdvcmtzIGluIG9sZGVyXG4vLyBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIG5hdGl2ZSBCbG9iIGNvbnN0cnVjdG9yLiAoaS5lLlxuLy8gb2xkIFF0V2ViS2l0IHZlcnNpb25zLCBhdCBsZWFzdCkuXG4vLyBBYnN0cmFjdHMgY29uc3RydWN0aW5nIGEgQmxvYiBvYmplY3QsIHNvIGl0IGFsc28gd29ya3MgaW4gb2xkZXJcbi8vIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCB0aGUgbmF0aXZlIEJsb2IgY29uc3RydWN0b3IuIChpLmUuXG4vLyBvbGQgUXRXZWJLaXQgdmVyc2lvbnMsIGF0IGxlYXN0KS5cbmZ1bmN0aW9uIGNyZWF0ZUJsb2IocGFydHMsIHByb3BlcnRpZXMpIHtcbiAgICAvKiBnbG9iYWwgQmxvYkJ1aWxkZXIsTVNCbG9iQnVpbGRlcixNb3pCbG9iQnVpbGRlcixXZWJLaXRCbG9iQnVpbGRlciAqL1xuICAgIHBhcnRzID0gcGFydHMgfHwgW107XG4gICAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5ldyBCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlLm5hbWUgIT09ICdUeXBlRXJyb3InKSB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBCdWlsZGVyID0gdHlwZW9mIEJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IEJsb2JCdWlsZGVyIDogdHlwZW9mIE1TQmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnID8gTVNCbG9iQnVpbGRlciA6IHR5cGVvZiBNb3pCbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcgPyBNb3pCbG9iQnVpbGRlciA6IFdlYktpdEJsb2JCdWlsZGVyO1xuICAgICAgICB2YXIgYnVpbGRlciA9IG5ldyBCdWlsZGVyKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGJ1aWxkZXIuYXBwZW5kKHBhcnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVpbGRlci5nZXRCbG9iKHByb3BlcnRpZXMudHlwZSk7XG4gICAgfVxufVxuXG4vLyBUaGlzIGlzIENvbW1vbkpTIGJlY2F1c2UgbGllIGlzIGFuIGV4dGVybmFsIGRlcGVuZGVuY3ksIHNvIFJvbGx1cFxuLy8gY2FuIGp1c3QgaWdub3JlIGl0LlxuaWYgKHR5cGVvZiBQcm9taXNlID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIEluIHRoZSBcIm5vcHJvbWlzZXNcIiBidWlsZCB0aGlzIHdpbGwganVzdCB0aHJvdyBpZiB5b3UgZG9uJ3QgaGF2ZVxuICAgIC8vIGEgZ2xvYmFsIHByb21pc2Ugb2JqZWN0LCBidXQgaXQgd291bGQgdGhyb3cgYW55d2F5IGxhdGVyLlxuICAgIF9kZXJlcV8oMyk7XG59XG52YXIgUHJvbWlzZSQxID0gUHJvbWlzZTtcblxuZnVuY3Rpb24gZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBleGVjdXRlVHdvQ2FsbGJhY2tzKHByb21pc2UsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwcm9taXNlLnRoZW4oY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZXJyb3JDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwcm9taXNlW1wiY2F0Y2hcIl0oZXJyb3JDYWxsYmFjayk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVLZXkoa2V5KSB7XG4gICAgLy8gQ2FzdCB0aGUga2V5IHRvIGEgc3RyaW5nLCBhcyB0aGF0J3MgYWxsIHdlIGNhbiBzZXQgYXMgYSBrZXkuXG4gICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihrZXkgKyAnIHVzZWQgYXMgYSBrZXksIGJ1dCBpdCBpcyBub3QgYSBzdHJpbmcuJyk7XG4gICAgICAgIGtleSA9IFN0cmluZyhrZXkpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXk7XG59XG5cbmZ1bmN0aW9uIGdldENhbGxiYWNrKCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICYmIHR5cGVvZiBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgIH1cbn1cblxuLy8gU29tZSBjb2RlIG9yaWdpbmFsbHkgZnJvbSBhc3luY19zdG9yYWdlLmpzIGluXG4vLyBbR2FpYV0oaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEtYjJnL2dhaWEpLlxuXG52YXIgREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSA9ICdsb2NhbC1mb3JhZ2UtZGV0ZWN0LWJsb2Itc3VwcG9ydCc7XG52YXIgc3VwcG9ydHNCbG9icyA9IHZvaWQgMDtcbnZhciBkYkNvbnRleHRzID0ge307XG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG4vLyBUcmFuc2FjdGlvbiBNb2Rlc1xudmFyIFJFQURfT05MWSA9ICdyZWFkb25seSc7XG52YXIgUkVBRF9XUklURSA9ICdyZWFkd3JpdGUnO1xuXG4vLyBUcmFuc2Zvcm0gYSBiaW5hcnkgc3RyaW5nIHRvIGFuIGFycmF5IGJ1ZmZlciwgYmVjYXVzZSBvdGhlcndpc2Vcbi8vIHdlaXJkIHN0dWZmIGhhcHBlbnMgd2hlbiB5b3UgdHJ5IHRvIHdvcmsgd2l0aCB0aGUgYmluYXJ5IHN0cmluZyBkaXJlY3RseS5cbi8vIEl0IGlzIGtub3duLlxuLy8gRnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0OTY3NjQ3LyAoY29udGludWVzIG9uIG5leHQgbGluZSlcbi8vIGVuY29kZS1kZWNvZGUtaW1hZ2Utd2l0aC1iYXNlNjQtYnJlYWtzLWltYWdlICgyMDEzLTA0LTIxKVxuZnVuY3Rpb24gX2JpblN0cmluZ1RvQXJyYXlCdWZmZXIoYmluKSB7XG4gICAgdmFyIGxlbmd0aCA9IGJpbi5sZW5ndGg7XG4gICAgdmFyIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpO1xuICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheShidWYpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyW2ldID0gYmluLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIHJldHVybiBidWY7XG59XG5cbi8vXG4vLyBCbG9icyBhcmUgbm90IHN1cHBvcnRlZCBpbiBhbGwgdmVyc2lvbnMgb2YgSW5kZXhlZERCLCBub3RhYmx5XG4vLyBDaHJvbWUgPDM3IGFuZCBBbmRyb2lkIDw1LiBJbiB0aG9zZSB2ZXJzaW9ucywgc3RvcmluZyBhIGJsb2Igd2lsbCB0aHJvdy5cbi8vXG4vLyBWYXJpb3VzIG90aGVyIGJsb2IgYnVncyBleGlzdCBpbiBDaHJvbWUgdjM3LTQyIChpbmNsdXNpdmUpLlxuLy8gRGV0ZWN0aW5nIHRoZW0gaXMgZXhwZW5zaXZlIGFuZCBjb25mdXNpbmcgdG8gdXNlcnMsIGFuZCBDaHJvbWUgMzctNDJcbi8vIGlzIGF0IHZlcnkgbG93IHVzYWdlIHdvcmxkd2lkZSwgc28gd2UgZG8gYSBoYWNreSB1c2VyQWdlbnQgY2hlY2sgaW5zdGVhZC5cbi8vXG4vLyBjb250ZW50LXR5cGUgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDA4MTIwXG4vLyA0MDQgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3OTE2XG4vLyBGaWxlUmVhZGVyIGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0NzgzNlxuLy9cbi8vIENvZGUgYm9ycm93ZWQgZnJvbSBQb3VjaERCLiBTZWU6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vcG91Y2hkYi9wb3VjaGRiL2Jsb2IvbWFzdGVyL3BhY2thZ2VzL25vZGVfbW9kdWxlcy9wb3VjaGRiLWFkYXB0ZXItaWRiL3NyYy9ibG9iU3VwcG9ydC5qc1xuLy9cbmZ1bmN0aW9uIF9jaGVja0Jsb2JTdXBwb3J0V2l0aG91dENhY2hpbmcoaWRiKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgdmFyIHR4biA9IGlkYi50cmFuc2FjdGlvbihERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFLCBSRUFEX1dSSVRFKTtcbiAgICAgICAgdmFyIGJsb2IgPSBjcmVhdGVCbG9iKFsnJ10pO1xuICAgICAgICB0eG4ub2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSkucHV0KGJsb2IsICdrZXknKTtcblxuICAgICAgICB0eG4ub25hYm9ydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdHJhbnNhY3Rpb24gYWJvcnRzIG5vdyBpdHMgZHVlIHRvIG5vdCBiZWluZyBhYmxlIHRvXG4gICAgICAgICAgICAvLyB3cml0ZSB0byB0aGUgZGF0YWJhc2UsIGxpa2VseSBkdWUgdG8gdGhlIGRpc2sgYmVpbmcgZnVsbFxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1hdGNoZWRDaHJvbWUgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKTtcbiAgICAgICAgICAgIHZhciBtYXRjaGVkRWRnZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0VkZ2VcXC8vKTtcbiAgICAgICAgICAgIC8vIE1TIEVkZ2UgcHJldGVuZHMgdG8gYmUgQ2hyb21lIDQyOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9oaDg2OTMwMSUyOHY9dnMuODUlMjkuYXNweFxuICAgICAgICAgICAgcmVzb2x2ZShtYXRjaGVkRWRnZSB8fCAhbWF0Y2hlZENocm9tZSB8fCBwYXJzZUludChtYXRjaGVkQ2hyb21lWzFdLCAxMCkgPj0gNDMpO1xuICAgICAgICB9O1xuICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGVycm9yLCBzbyBhc3N1bWUgdW5zdXBwb3J0ZWRcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gX2NoZWNrQmxvYlN1cHBvcnQoaWRiKSB7XG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0c0Jsb2JzID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UkMS5yZXNvbHZlKHN1cHBvcnRzQmxvYnMpO1xuICAgIH1cbiAgICByZXR1cm4gX2NoZWNrQmxvYlN1cHBvcnRXaXRob3V0Q2FjaGluZyhpZGIpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHN1cHBvcnRzQmxvYnMgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHN1cHBvcnRzQmxvYnM7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIF9kZWZlclJlYWRpbmVzcyhkYkluZm8pIHtcbiAgICB2YXIgZGJDb250ZXh0ID0gZGJDb250ZXh0c1tkYkluZm8ubmFtZV07XG5cbiAgICAvLyBDcmVhdGUgYSBkZWZlcnJlZCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IGRhdGFiYXNlIG9wZXJhdGlvbi5cbiAgICB2YXIgZGVmZXJyZWRPcGVyYXRpb24gPSB7fTtcblxuICAgIGRlZmVycmVkT3BlcmF0aW9uLnByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZGVmZXJyZWRPcGVyYXRpb24ucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgIGRlZmVycmVkT3BlcmF0aW9uLnJlamVjdCA9IHJlamVjdDtcbiAgICB9KTtcblxuICAgIC8vIEVucXVldWUgdGhlIGRlZmVycmVkIG9wZXJhdGlvbi5cbiAgICBkYkNvbnRleHQuZGVmZXJyZWRPcGVyYXRpb25zLnB1c2goZGVmZXJyZWRPcGVyYXRpb24pO1xuXG4gICAgLy8gQ2hhaW4gaXRzIHByb21pc2UgdG8gdGhlIGRhdGFiYXNlIHJlYWRpbmVzcy5cbiAgICBpZiAoIWRiQ29udGV4dC5kYlJlYWR5KSB7XG4gICAgICAgIGRiQ29udGV4dC5kYlJlYWR5ID0gZGVmZXJyZWRPcGVyYXRpb24ucHJvbWlzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBkYkNvbnRleHQuZGJSZWFkeSA9IGRiQ29udGV4dC5kYlJlYWR5LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkT3BlcmF0aW9uLnByb21pc2U7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX2FkdmFuY2VSZWFkaW5lc3MoZGJJbmZvKSB7XG4gICAgdmFyIGRiQ29udGV4dCA9IGRiQ29udGV4dHNbZGJJbmZvLm5hbWVdO1xuXG4gICAgLy8gRGVxdWV1ZSBhIGRlZmVycmVkIG9wZXJhdGlvbi5cbiAgICB2YXIgZGVmZXJyZWRPcGVyYXRpb24gPSBkYkNvbnRleHQuZGVmZXJyZWRPcGVyYXRpb25zLnBvcCgpO1xuXG4gICAgLy8gUmVzb2x2ZSBpdHMgcHJvbWlzZSAod2hpY2ggaXMgcGFydCBvZiB0aGUgZGF0YWJhc2UgcmVhZGluZXNzXG4gICAgLy8gY2hhaW4gb2YgcHJvbWlzZXMpLlxuICAgIGlmIChkZWZlcnJlZE9wZXJhdGlvbikge1xuICAgICAgICBkZWZlcnJlZE9wZXJhdGlvbi5yZXNvbHZlKCk7XG4gICAgICAgIHJldHVybiBkZWZlcnJlZE9wZXJhdGlvbi5wcm9taXNlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX3JlamVjdFJlYWRpbmVzcyhkYkluZm8sIGVycikge1xuICAgIHZhciBkYkNvbnRleHQgPSBkYkNvbnRleHRzW2RiSW5mby5uYW1lXTtcblxuICAgIC8vIERlcXVldWUgYSBkZWZlcnJlZCBvcGVyYXRpb24uXG4gICAgdmFyIGRlZmVycmVkT3BlcmF0aW9uID0gZGJDb250ZXh0LmRlZmVycmVkT3BlcmF0aW9ucy5wb3AoKTtcblxuICAgIC8vIFJlamVjdCBpdHMgcHJvbWlzZSAod2hpY2ggaXMgcGFydCBvZiB0aGUgZGF0YWJhc2UgcmVhZGluZXNzXG4gICAgLy8gY2hhaW4gb2YgcHJvbWlzZXMpLlxuICAgIGlmIChkZWZlcnJlZE9wZXJhdGlvbikge1xuICAgICAgICBkZWZlcnJlZE9wZXJhdGlvbi5yZWplY3QoZXJyKTtcbiAgICAgICAgcmV0dXJuIGRlZmVycmVkT3BlcmF0aW9uLnByb21pc2U7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfZ2V0Q29ubmVjdGlvbihkYkluZm8sIHVwZ3JhZGVOZWVkZWQpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGRiQ29udGV4dHNbZGJJbmZvLm5hbWVdID0gZGJDb250ZXh0c1tkYkluZm8ubmFtZV0gfHwgY3JlYXRlRGJDb250ZXh0KCk7XG5cbiAgICAgICAgaWYgKGRiSW5mby5kYikge1xuICAgICAgICAgICAgaWYgKHVwZ3JhZGVOZWVkZWQpIHtcbiAgICAgICAgICAgICAgICBfZGVmZXJSZWFkaW5lc3MoZGJJbmZvKTtcbiAgICAgICAgICAgICAgICBkYkluZm8uZGIuY2xvc2UoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoZGJJbmZvLmRiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYkFyZ3MgPSBbZGJJbmZvLm5hbWVdO1xuXG4gICAgICAgIGlmICh1cGdyYWRlTmVlZGVkKSB7XG4gICAgICAgICAgICBkYkFyZ3MucHVzaChkYkluZm8udmVyc2lvbik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgb3BlbnJlcSA9IGlkYi5vcGVuLmFwcGx5KGlkYiwgZGJBcmdzKTtcblxuICAgICAgICBpZiAodXBncmFkZU5lZWRlZCkge1xuICAgICAgICAgICAgb3BlbnJlcS5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBkYiA9IG9wZW5yZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKGRiSW5mby5zdG9yZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5vbGRWZXJzaW9uIDw9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZGVkIHdoZW4gc3VwcG9ydCBmb3IgYmxvYiBzaGltcyB3YXMgYWRkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4Lm5hbWUgPT09ICdDb25zdHJhaW50RXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1RoZSBkYXRhYmFzZSBcIicgKyBkYkluZm8ubmFtZSArICdcIicgKyAnIGhhcyBiZWVuIHVwZ3JhZGVkIGZyb20gdmVyc2lvbiAnICsgZS5vbGRWZXJzaW9uICsgJyB0byB2ZXJzaW9uICcgKyBlLm5ld1ZlcnNpb24gKyAnLCBidXQgdGhlIHN0b3JhZ2UgXCInICsgZGJJbmZvLnN0b3JlTmFtZSArICdcIiBhbHJlYWR5IGV4aXN0cy4nKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wZW5yZXEub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZWplY3Qob3BlbnJlcS5lcnJvcik7XG4gICAgICAgIH07XG5cbiAgICAgICAgb3BlbnJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXNvbHZlKG9wZW5yZXEucmVzdWx0KTtcbiAgICAgICAgICAgIF9hZHZhbmNlUmVhZGluZXNzKGRiSW5mbyk7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIF9nZXRPcmlnaW5hbENvbm5lY3Rpb24oZGJJbmZvKSB7XG4gICAgcmV0dXJuIF9nZXRDb25uZWN0aW9uKGRiSW5mbywgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBfZ2V0VXBncmFkZWRDb25uZWN0aW9uKGRiSW5mbykge1xuICAgIHJldHVybiBfZ2V0Q29ubmVjdGlvbihkYkluZm8sIHRydWUpO1xufVxuXG5mdW5jdGlvbiBfaXNVcGdyYWRlTmVlZGVkKGRiSW5mbywgZGVmYXVsdFZlcnNpb24pIHtcbiAgICBpZiAoIWRiSW5mby5kYikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaXNOZXdTdG9yZSA9ICFkYkluZm8uZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhkYkluZm8uc3RvcmVOYW1lKTtcbiAgICB2YXIgaXNEb3duZ3JhZGUgPSBkYkluZm8udmVyc2lvbiA8IGRiSW5mby5kYi52ZXJzaW9uO1xuICAgIHZhciBpc1VwZ3JhZGUgPSBkYkluZm8udmVyc2lvbiA+IGRiSW5mby5kYi52ZXJzaW9uO1xuXG4gICAgaWYgKGlzRG93bmdyYWRlKSB7XG4gICAgICAgIC8vIElmIHRoZSB2ZXJzaW9uIGlzIG5vdCB0aGUgZGVmYXVsdCBvbmVcbiAgICAgICAgLy8gdGhlbiB3YXJuIGZvciBpbXBvc3NpYmxlIGRvd25ncmFkZS5cbiAgICAgICAgaWYgKGRiSW5mby52ZXJzaW9uICE9PSBkZWZhdWx0VmVyc2lvbikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdUaGUgZGF0YWJhc2UgXCInICsgZGJJbmZvLm5hbWUgKyAnXCInICsgXCIgY2FuJ3QgYmUgZG93bmdyYWRlZCBmcm9tIHZlcnNpb24gXCIgKyBkYkluZm8uZGIudmVyc2lvbiArICcgdG8gdmVyc2lvbiAnICsgZGJJbmZvLnZlcnNpb24gKyAnLicpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFsaWduIHRoZSB2ZXJzaW9ucyB0byBwcmV2ZW50IGVycm9ycy5cbiAgICAgICAgZGJJbmZvLnZlcnNpb24gPSBkYkluZm8uZGIudmVyc2lvbjtcbiAgICB9XG5cbiAgICBpZiAoaXNVcGdyYWRlIHx8IGlzTmV3U3RvcmUpIHtcbiAgICAgICAgLy8gSWYgdGhlIHN0b3JlIGlzIG5ldyB0aGVuIGluY3JlbWVudCB0aGUgdmVyc2lvbiAoaWYgbmVlZGVkKS5cbiAgICAgICAgLy8gVGhpcyB3aWxsIHRyaWdnZXIgYW4gXCJ1cGdyYWRlbmVlZGVkXCIgZXZlbnQgd2hpY2ggaXMgcmVxdWlyZWRcbiAgICAgICAgLy8gZm9yIGNyZWF0aW5nIGEgc3RvcmUuXG4gICAgICAgIGlmIChpc05ld1N0b3JlKSB7XG4gICAgICAgICAgICB2YXIgaW5jVmVyc2lvbiA9IGRiSW5mby5kYi52ZXJzaW9uICsgMTtcbiAgICAgICAgICAgIGlmIChpbmNWZXJzaW9uID4gZGJJbmZvLnZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICBkYkluZm8udmVyc2lvbiA9IGluY1ZlcnNpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbi8vIGVuY29kZSBhIGJsb2IgZm9yIGluZGV4ZWRkYiBlbmdpbmVzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBibG9ic1xuZnVuY3Rpb24gX2VuY29kZUJsb2IoYmxvYikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0O1xuICAgICAgICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBiYXNlNjQgPSBidG9hKGUudGFyZ2V0LnJlc3VsdCB8fCAnJyk7XG4gICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgICBfX2xvY2FsX2ZvcmFnZV9lbmNvZGVkX2Jsb2I6IHRydWUsXG4gICAgICAgICAgICAgICAgZGF0YTogYmFzZTY0LFxuICAgICAgICAgICAgICAgIHR5cGU6IGJsb2IudHlwZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcoYmxvYik7XG4gICAgfSk7XG59XG5cbi8vIGRlY29kZSBhbiBlbmNvZGVkIGJsb2JcbmZ1bmN0aW9uIF9kZWNvZGVCbG9iKGVuY29kZWRCbG9iKSB7XG4gICAgdmFyIGFycmF5QnVmZiA9IF9iaW5TdHJpbmdUb0FycmF5QnVmZmVyKGF0b2IoZW5jb2RlZEJsb2IuZGF0YSkpO1xuICAgIHJldHVybiBjcmVhdGVCbG9iKFthcnJheUJ1ZmZdLCB7IHR5cGU6IGVuY29kZWRCbG9iLnR5cGUgfSk7XG59XG5cbi8vIGlzIHRoaXMgb25lIG9mIG91ciBmYW5jeSBlbmNvZGVkIGJsb2JzP1xuZnVuY3Rpb24gX2lzRW5jb2RlZEJsb2IodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUuX19sb2NhbF9mb3JhZ2VfZW5jb2RlZF9ibG9iO1xufVxuXG4vLyBTcGVjaWFsaXplIHRoZSBkZWZhdWx0IGByZWFkeSgpYCBmdW5jdGlvbiBieSBtYWtpbmcgaXQgZGVwZW5kZW50XG4vLyBvbiB0aGUgY3VycmVudCBkYXRhYmFzZSBvcGVyYXRpb25zLiBUaHVzLCB0aGUgZHJpdmVyIHdpbGwgYmUgYWN0dWFsbHlcbi8vIHJlYWR5IHdoZW4gaXQncyBiZWVuIGluaXRpYWxpemVkIChkZWZhdWx0KSAqYW5kKiB0aGVyZSBhcmUgbm8gcGVuZGluZ1xuLy8gb3BlcmF0aW9ucyBvbiB0aGUgZGF0YWJhc2UgKGluaXRpYXRlZCBieSBzb21lIG90aGVyIGluc3RhbmNlcykuXG5mdW5jdGlvbiBfZnVsbHlSZWFkeShjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gc2VsZi5faW5pdFJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYkNvbnRleHQgPSBkYkNvbnRleHRzW3NlbGYuX2RiSW5mby5uYW1lXTtcblxuICAgICAgICBpZiAoZGJDb250ZXh0ICYmIGRiQ29udGV4dC5kYlJlYWR5KSB7XG4gICAgICAgICAgICByZXR1cm4gZGJDb250ZXh0LmRiUmVhZHk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGV4ZWN1dGVUd29DYWxsYmFja3MocHJvbWlzZSwgY2FsbGJhY2ssIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gVHJ5IHRvIGVzdGFibGlzaCBhIG5ldyBkYiBjb25uZWN0aW9uIHRvIHJlcGxhY2UgdGhlXG4vLyBjdXJyZW50IG9uZSB3aGljaCBpcyBicm9rZW4gKGkuZS4gZXhwZXJpZW5jaW5nXG4vLyBJbnZhbGlkU3RhdGVFcnJvciB3aGlsZSBjcmVhdGluZyBhIHRyYW5zYWN0aW9uKS5cbmZ1bmN0aW9uIF90cnlSZWNvbm5lY3QoZGJJbmZvKSB7XG4gICAgX2RlZmVyUmVhZGluZXNzKGRiSW5mbyk7XG5cbiAgICB2YXIgZGJDb250ZXh0ID0gZGJDb250ZXh0c1tkYkluZm8ubmFtZV07XG4gICAgdmFyIGZvcmFnZXMgPSBkYkNvbnRleHQuZm9yYWdlcztcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9yYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgZm9yYWdlID0gZm9yYWdlc1tpXTtcbiAgICAgICAgaWYgKGZvcmFnZS5fZGJJbmZvLmRiKSB7XG4gICAgICAgICAgICBmb3JhZ2UuX2RiSW5mby5kYi5jbG9zZSgpO1xuICAgICAgICAgICAgZm9yYWdlLl9kYkluZm8uZGIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRiSW5mby5kYiA9IG51bGw7XG5cbiAgICByZXR1cm4gX2dldE9yaWdpbmFsQ29ubmVjdGlvbihkYkluZm8pLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG4gICAgICAgIGRiSW5mby5kYiA9IGRiO1xuICAgICAgICBpZiAoX2lzVXBncmFkZU5lZWRlZChkYkluZm8pKSB7XG4gICAgICAgICAgICAvLyBSZW9wZW4gdGhlIGRhdGFiYXNlIGZvciB1cGdyYWRpbmcuXG4gICAgICAgICAgICByZXR1cm4gX2dldFVwZ3JhZGVkQ29ubmVjdGlvbihkYkluZm8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYjtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYikge1xuICAgICAgICAvLyBzdG9yZSB0aGUgbGF0ZXN0IGRiIHJlZmVyZW5jZVxuICAgICAgICAvLyBpbiBjYXNlIHRoZSBkYiB3YXMgdXBncmFkZWRcbiAgICAgICAgZGJJbmZvLmRiID0gZGJDb250ZXh0LmRiID0gZGI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9yYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yYWdlc1tpXS5fZGJJbmZvLmRiID0gZGI7XG4gICAgICAgIH1cbiAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgX3JlamVjdFJlYWRpbmVzcyhkYkluZm8sIGVycik7XG4gICAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbn1cblxuLy8gRkYgZG9lc24ndCBsaWtlIFByb21pc2VzIChtaWNyby10YXNrcykgYW5kIElEREIgc3RvcmUgb3BlcmF0aW9ucyxcbi8vIHNvIHdlIGhhdmUgdG8gZG8gaXQgd2l0aCBjYWxsYmFja3NcbmZ1bmN0aW9uIGNyZWF0ZVRyYW5zYWN0aW9uKGRiSW5mbywgbW9kZSwgY2FsbGJhY2ssIHJldHJpZXMpIHtcbiAgICBpZiAocmV0cmllcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHJpZXMgPSAxO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICAgIHZhciB0eCA9IGRiSW5mby5kYi50cmFuc2FjdGlvbihkYkluZm8uc3RvcmVOYW1lLCBtb2RlKTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgdHgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAocmV0cmllcyA+IDAgJiYgKCFkYkluZm8uZGIgfHwgZXJyLm5hbWUgPT09ICdJbnZhbGlkU3RhdGVFcnJvcicgfHwgZXJyLm5hbWUgPT09ICdOb3RGb3VuZEVycm9yJykpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlJDEucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICghZGJJbmZvLmRiIHx8IGVyci5uYW1lID09PSAnTm90Rm91bmRFcnJvcicgJiYgIWRiSW5mby5kYi5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKGRiSW5mby5zdG9yZU5hbWUpICYmIGRiSW5mby52ZXJzaW9uIDw9IGRiSW5mby5kYi52ZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGluY3JlYXNlIHRoZSBkYiB2ZXJzaW9uLCB0byBjcmVhdGUgdGhlIG5ldyBPYmplY3RTdG9yZVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGJJbmZvLmRiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYkluZm8udmVyc2lvbiA9IGRiSW5mby5kYi52ZXJzaW9uICsgMTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBSZW9wZW4gdGhlIGRhdGFiYXNlIGZvciB1cGdyYWRpbmcuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfZ2V0VXBncmFkZWRDb25uZWN0aW9uKGRiSW5mbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90cnlSZWNvbm5lY3QoZGJJbmZvKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVHJhbnNhY3Rpb24oZGJJbmZvLCBtb2RlLCBjYWxsYmFjaywgcmV0cmllcyAtIDEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlbXCJjYXRjaFwiXShjYWxsYmFjayk7XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY3JlYXRlRGJDb250ZXh0KCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIC8vIFJ1bm5pbmcgbG9jYWxGb3JhZ2VzIHNoYXJpbmcgYSBkYXRhYmFzZS5cbiAgICAgICAgZm9yYWdlczogW10sXG4gICAgICAgIC8vIFNoYXJlZCBkYXRhYmFzZS5cbiAgICAgICAgZGI6IG51bGwsXG4gICAgICAgIC8vIERhdGFiYXNlIHJlYWRpbmVzcyAocHJvbWlzZSkuXG4gICAgICAgIGRiUmVhZHk6IG51bGwsXG4gICAgICAgIC8vIERlZmVycmVkIG9wZXJhdGlvbnMgb24gdGhlIGRhdGFiYXNlLlxuICAgICAgICBkZWZlcnJlZE9wZXJhdGlvbnM6IFtdXG4gICAgfTtcbn1cblxuLy8gT3BlbiB0aGUgSW5kZXhlZERCIGRhdGFiYXNlIChhdXRvbWF0aWNhbGx5IGNyZWF0ZXMgb25lIGlmIG9uZSBkaWRuJ3Rcbi8vIHByZXZpb3VzbHkgZXhpc3QpLCB1c2luZyBhbnkgb3B0aW9ucyBzZXQgaW4gdGhlIGNvbmZpZy5cbmZ1bmN0aW9uIF9pbml0U3RvcmFnZShvcHRpb25zKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBkYkluZm8gPSB7XG4gICAgICAgIGRiOiBudWxsXG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgZGJJbmZvW2ldID0gb3B0aW9uc1tpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEdldCB0aGUgY3VycmVudCBjb250ZXh0IG9mIHRoZSBkYXRhYmFzZTtcbiAgICB2YXIgZGJDb250ZXh0ID0gZGJDb250ZXh0c1tkYkluZm8ubmFtZV07XG5cbiAgICAvLyAuLi5vciBjcmVhdGUgYSBuZXcgY29udGV4dC5cbiAgICBpZiAoIWRiQ29udGV4dCkge1xuICAgICAgICBkYkNvbnRleHQgPSBjcmVhdGVEYkNvbnRleHQoKTtcbiAgICAgICAgLy8gUmVnaXN0ZXIgdGhlIG5ldyBjb250ZXh0IGluIHRoZSBnbG9iYWwgY29udGFpbmVyLlxuICAgICAgICBkYkNvbnRleHRzW2RiSW5mby5uYW1lXSA9IGRiQ29udGV4dDtcbiAgICB9XG5cbiAgICAvLyBSZWdpc3RlciBpdHNlbGYgYXMgYSBydW5uaW5nIGxvY2FsRm9yYWdlIGluIHRoZSBjdXJyZW50IGNvbnRleHQuXG4gICAgZGJDb250ZXh0LmZvcmFnZXMucHVzaChzZWxmKTtcblxuICAgIC8vIFJlcGxhY2UgdGhlIGRlZmF1bHQgYHJlYWR5KClgIGZ1bmN0aW9uIHdpdGggdGhlIHNwZWNpYWxpemVkIG9uZS5cbiAgICBpZiAoIXNlbGYuX2luaXRSZWFkeSkge1xuICAgICAgICBzZWxmLl9pbml0UmVhZHkgPSBzZWxmLnJlYWR5O1xuICAgICAgICBzZWxmLnJlYWR5ID0gX2Z1bGx5UmVhZHk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIGFuIGFycmF5IG9mIGluaXRpYWxpemF0aW9uIHN0YXRlcyBvZiB0aGUgcmVsYXRlZCBsb2NhbEZvcmFnZXMuXG4gICAgdmFyIGluaXRQcm9taXNlcyA9IFtdO1xuXG4gICAgZnVuY3Rpb24gaWdub3JlRXJyb3JzKCkge1xuICAgICAgICAvLyBEb24ndCBoYW5kbGUgZXJyb3JzIGhlcmUsXG4gICAgICAgIC8vIGp1c3QgbWFrZXMgc3VyZSByZWxhdGVkIGxvY2FsRm9yYWdlcyBhcmVuJ3QgcGVuZGluZy5cbiAgICAgICAgcmV0dXJuIFByb21pc2UkMS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYkNvbnRleHQuZm9yYWdlcy5sZW5ndGg7IGorKykge1xuICAgICAgICB2YXIgZm9yYWdlID0gZGJDb250ZXh0LmZvcmFnZXNbal07XG4gICAgICAgIGlmIChmb3JhZ2UgIT09IHNlbGYpIHtcbiAgICAgICAgICAgIC8vIERvbid0IHdhaXQgZm9yIGl0c2VsZi4uLlxuICAgICAgICAgICAgaW5pdFByb21pc2VzLnB1c2goZm9yYWdlLl9pbml0UmVhZHkoKVtcImNhdGNoXCJdKGlnbm9yZUVycm9ycykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGFrZSBhIHNuYXBzaG90IG9mIHRoZSByZWxhdGVkIGxvY2FsRm9yYWdlcy5cbiAgICB2YXIgZm9yYWdlcyA9IGRiQ29udGV4dC5mb3JhZ2VzLnNsaWNlKDApO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgY29ubmVjdGlvbiBwcm9jZXNzIG9ubHkgd2hlblxuICAgIC8vIGFsbCB0aGUgcmVsYXRlZCBsb2NhbEZvcmFnZXMgYXJlbid0IHBlbmRpbmcuXG4gICAgcmV0dXJuIFByb21pc2UkMS5hbGwoaW5pdFByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGJJbmZvLmRiID0gZGJDb250ZXh0LmRiO1xuICAgICAgICAvLyBHZXQgdGhlIGNvbm5lY3Rpb24gb3Igb3BlbiBhIG5ldyBvbmUgd2l0aG91dCB1cGdyYWRlLlxuICAgICAgICByZXR1cm4gX2dldE9yaWdpbmFsQ29ubmVjdGlvbihkYkluZm8pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG4gICAgICAgIGRiSW5mby5kYiA9IGRiO1xuICAgICAgICBpZiAoX2lzVXBncmFkZU5lZWRlZChkYkluZm8sIHNlbGYuX2RlZmF1bHRDb25maWcudmVyc2lvbikpIHtcbiAgICAgICAgICAgIC8vIFJlb3BlbiB0aGUgZGF0YWJhc2UgZm9yIHVwZ3JhZGluZy5cbiAgICAgICAgICAgIHJldHVybiBfZ2V0VXBncmFkZWRDb25uZWN0aW9uKGRiSW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRiO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG4gICAgICAgIGRiSW5mby5kYiA9IGRiQ29udGV4dC5kYiA9IGRiO1xuICAgICAgICBzZWxmLl9kYkluZm8gPSBkYkluZm87XG4gICAgICAgIC8vIFNoYXJlIHRoZSBmaW5hbCBjb25uZWN0aW9uIGFtb25nc3QgcmVsYXRlZCBsb2NhbEZvcmFnZXMuXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZm9yYWdlcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgdmFyIGZvcmFnZSA9IGZvcmFnZXNba107XG4gICAgICAgICAgICBpZiAoZm9yYWdlICE9PSBzZWxmKSB7XG4gICAgICAgICAgICAgICAgLy8gU2VsZiBpcyBhbHJlYWR5IHVwLXRvLWRhdGUuXG4gICAgICAgICAgICAgICAgZm9yYWdlLl9kYkluZm8uZGIgPSBkYkluZm8uZGI7XG4gICAgICAgICAgICAgICAgZm9yYWdlLl9kYkluZm8udmVyc2lvbiA9IGRiSW5mby52ZXJzaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldEl0ZW0oa2V5LCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY3JlYXRlVHJhbnNhY3Rpb24oc2VsZi5fZGJJbmZvLCBSRUFEX09OTFksIGZ1bmN0aW9uIChlcnIsIHRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc2VsZi5fZGJJbmZvLnN0b3JlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5nZXQoa2V5KTtcblxuICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9pc0VuY29kZWRCbG9iKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX2RlY29kZUJsb2IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gSXRlcmF0ZSBvdmVyIGFsbCBpdGVtcyBzdG9yZWQgaW4gZGF0YWJhc2UuXG5mdW5jdGlvbiBpdGVyYXRlKGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNyZWF0ZVRyYW5zYWN0aW9uKHNlbGYuX2RiSW5mbywgUkVBRF9PTkxZLCBmdW5jdGlvbiAoZXJyLCB0cmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHNlbGYuX2RiSW5mby5zdG9yZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUub3BlbkN1cnNvcigpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlcmF0aW9uTnVtYmVyID0gMTtcblxuICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnNvciA9IHJlcS5yZXN1bHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9pc0VuY29kZWRCbG9iKHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9kZWNvZGVCbG9iKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yKHZhbHVlLCBjdXJzb3Iua2V5LCBpdGVyYXRpb25OdW1iZXIrKyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSBpdGVyYXRvciBjYWxsYmFjayByZXR1bnMgYW55XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKG5vbi1gdW5kZWZpbmVkYCkgdmFsdWUsIHRoZW4gd2Ugc3RvcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBpdGVyYXRpb24gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcltcImNvbnRpbnVlXCJdKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcblxuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBzZXRJdGVtKGtleSwgdmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgZGJJbmZvO1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICBpZiAodG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEJsb2JdJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfY2hlY2tCbG9iU3VwcG9ydChkYkluZm8uZGIpLnRoZW4oZnVuY3Rpb24gKGJsb2JTdXBwb3J0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChibG9iU3VwcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfZW5jb2RlQmxvYih2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBjcmVhdGVUcmFuc2FjdGlvbihzZWxmLl9kYkluZm8sIFJFQURfV1JJVEUsIGZ1bmN0aW9uIChlcnIsIHRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc2VsZi5fZGJJbmZvLnN0b3JlTmFtZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlYXNvbiB3ZSBkb24ndCBfc2F2ZV8gbnVsbCBpcyBiZWNhdXNlIElFIDEwIGRvZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90IHN1cHBvcnQgc2F2aW5nIHRoZSBgbnVsbGAgdHlwZSBpbiBJbmRleGVkREIuIEhvd1xuICAgICAgICAgICAgICAgICAgICAvLyBpcm9uaWMsIGdpdmVuIHRoZSBidWcgYmVsb3chXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvbG9jYWxGb3JhZ2UvaXNzdWVzLzE2MVxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLnB1dCh2YWx1ZSwga2V5KTtcblxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FzdCB0byB1bmRlZmluZWQgc28gdGhlIHZhbHVlIHBhc3NlZCB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGJhY2svcHJvbWlzZSBpcyB0aGUgc2FtZSBhcyB3aGF0IG9uZSB3b3VsZCBnZXQgb3V0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvZiBgZ2V0SXRlbSgpYCBsYXRlci4gVGhpcyBsZWFkcyB0byBzb21lIHdlaXJkbmVzc1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gKHNldEl0ZW0oJ2ZvbycsIHVuZGVmaW5lZCkgd2lsbCByZXR1cm4gYG51bGxgKSwgYnV0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIG5vdCBteSBmYXVsdCBsb2NhbFN0b3JhZ2UgaXMgb3VyIGJhc2VsaW5lIGFuZCB0aGF0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCdzIHdlaXJkLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmFib3J0ID0gdHJhbnNhY3Rpb24ub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnIgPSByZXEuZXJyb3IgPyByZXEuZXJyb3IgOiByZXEudHJhbnNhY3Rpb24uZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlSXRlbShrZXksIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjcmVhdGVUcmFuc2FjdGlvbihzZWxmLl9kYkluZm8sIFJFQURfV1JJVEUsIGZ1bmN0aW9uIChlcnIsIHRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc2VsZi5fZGJJbmZvLnN0b3JlTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIHVzZSBhIEdydW50IHRhc2sgdG8gbWFrZSB0aGlzIHNhZmUgZm9yIElFIGFuZCBzb21lXG4gICAgICAgICAgICAgICAgICAgIC8vIHZlcnNpb25zIG9mIEFuZHJvaWQgKGluY2x1ZGluZyB0aG9zZSB1c2VkIGJ5IENvcmRvdmEpLlxuICAgICAgICAgICAgICAgICAgICAvLyBOb3JtYWxseSBJRSB3b24ndCBsaWtlIGAuZGVsZXRlKClgIGFuZCB3aWxsIGluc2lzdCBvblxuICAgICAgICAgICAgICAgICAgICAvLyB1c2luZyBgWydkZWxldGUnXSgpYCwgYnV0IHdlIGhhdmUgYSBidWlsZCBzdGVwIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgLy8gZml4ZXMgdGhpcyBmb3IgdXMgbm93LlxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmVbXCJkZWxldGVcIl0oa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlcS5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHJlcXVlc3Qgd2lsbCBiZSBhbHNvIGJlIGFib3J0ZWQgaWYgd2UndmUgZXhjZWVkZWQgb3VyIHN0b3JhZ2VcbiAgICAgICAgICAgICAgICAgICAgLy8gc3BhY2UuXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyID0gcmVxLmVycm9yID8gcmVxLmVycm9yIDogcmVxLnRyYW5zYWN0aW9uLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIGNsZWFyKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY3JlYXRlVHJhbnNhY3Rpb24oc2VsZi5fZGJJbmZvLCBSRUFEX1dSSVRFLCBmdW5jdGlvbiAoZXJyLCB0cmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHNlbGYuX2RiSW5mby5zdG9yZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUuY2xlYXIoKTtcblxuICAgICAgICAgICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLm9uYWJvcnQgPSB0cmFuc2FjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVyciA9IHJlcS5lcnJvciA/IHJlcS5lcnJvciA6IHJlcS50cmFuc2FjdGlvbi5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBsZW5ndGgoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjcmVhdGVUcmFuc2FjdGlvbihzZWxmLl9kYkluZm8sIFJFQURfT05MWSwgZnVuY3Rpb24gKGVyciwgdHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzZWxmLl9kYkluZm8uc3RvcmVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IHN0b3JlLmNvdW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVxLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24ga2V5KG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgaWYgKG4gPCAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjcmVhdGVUcmFuc2FjdGlvbihzZWxmLl9kYkluZm8sIFJFQURfT05MWSwgZnVuY3Rpb24gKGVyciwgdHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzZWxmLl9kYkluZm8uc3RvcmVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFkdmFuY2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBzdG9yZS5vcGVuQ3Vyc29yKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJzb3IgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIG1lYW5zIHRoZXJlIHdlcmVuJ3QgZW5vdWdoIGtleXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgdGhlIGZpcnN0IGtleSwgcmV0dXJuIGl0IGlmIHRoYXQncyB3aGF0IHRoZXlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3YW50ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjdXJzb3Iua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhZHZhbmNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UsIGFzayB0aGUgY3Vyc29yIHRvIHNraXAgYWhlYWQgblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWNvcmRzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvci5hZHZhbmNlKG4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoZW4gd2UgZ2V0IGhlcmUsIHdlJ3ZlIGdvdCB0aGUgbnRoIGtleS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjdXJzb3Iua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocmVxLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24ga2V5cyhjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNyZWF0ZVRyYW5zYWN0aW9uKHNlbGYuX2RiSW5mbywgUkVBRF9PTkxZLCBmdW5jdGlvbiAoZXJyLCB0cmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHNlbGYuX2RiSW5mby5zdG9yZU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxID0gc3RvcmUub3BlbkN1cnNvcigpO1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3Vyc29yID0gcmVxLnJlc3VsdDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGtleXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAga2V5cy5wdXNoKGN1cnNvci5rZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yW1wiY29udGludWVcIl0oKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChyZXEuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBkcm9wSW5zdGFuY2Uob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayA9IGdldENhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICB2YXIgY3VycmVudENvbmZpZyA9IHRoaXMuY29uZmlnKCk7XG4gICAgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb25zICE9PSAnZnVuY3Rpb24nICYmIG9wdGlvbnMgfHwge307XG4gICAgaWYgKCFvcHRpb25zLm5hbWUpIHtcbiAgICAgICAgb3B0aW9ucy5uYW1lID0gb3B0aW9ucy5uYW1lIHx8IGN1cnJlbnRDb25maWcubmFtZTtcbiAgICAgICAgb3B0aW9ucy5zdG9yZU5hbWUgPSBvcHRpb25zLnN0b3JlTmFtZSB8fCBjdXJyZW50Q29uZmlnLnN0b3JlTmFtZTtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHByb21pc2U7XG4gICAgaWYgKCFvcHRpb25zLm5hbWUpIHtcbiAgICAgICAgcHJvbWlzZSA9IFByb21pc2UkMS5yZWplY3QoJ0ludmFsaWQgYXJndW1lbnRzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGlzQ3VycmVudERiID0gb3B0aW9ucy5uYW1lID09PSBjdXJyZW50Q29uZmlnLm5hbWUgJiYgc2VsZi5fZGJJbmZvLmRiO1xuXG4gICAgICAgIHZhciBkYlByb21pc2UgPSBpc0N1cnJlbnREYiA/IFByb21pc2UkMS5yZXNvbHZlKHNlbGYuX2RiSW5mby5kYikgOiBfZ2V0T3JpZ2luYWxDb25uZWN0aW9uKG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG4gICAgICAgICAgICB2YXIgZGJDb250ZXh0ID0gZGJDb250ZXh0c1tvcHRpb25zLm5hbWVdO1xuICAgICAgICAgICAgdmFyIGZvcmFnZXMgPSBkYkNvbnRleHQuZm9yYWdlcztcbiAgICAgICAgICAgIGRiQ29udGV4dC5kYiA9IGRiO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JhZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yYWdlc1tpXS5fZGJJbmZvLmRiID0gZGI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghb3B0aW9ucy5zdG9yZU5hbWUpIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBkYlByb21pc2UudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgICAgICAgICBfZGVmZXJSZWFkaW5lc3Mob3B0aW9ucyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZGJDb250ZXh0ID0gZGJDb250ZXh0c1tvcHRpb25zLm5hbWVdO1xuICAgICAgICAgICAgICAgIHZhciBmb3JhZ2VzID0gZGJDb250ZXh0LmZvcmFnZXM7XG5cbiAgICAgICAgICAgICAgICBkYi5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9yYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZm9yYWdlID0gZm9yYWdlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yYWdlLl9kYkluZm8uZGIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBkcm9wREJQcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBpZGIuZGVsZXRlRGF0YWJhc2Uob3B0aW9ucy5uYW1lKTtcblxuICAgICAgICAgICAgICAgICAgICByZXEub25lcnJvciA9IHJlcS5vbmJsb2NrZWQgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGIgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGIgPSByZXEucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGIpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRyb3BEQlByb21pc2UudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGJDb250ZXh0LmRiID0gZGI7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9yYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9mb3JhZ2UgPSBmb3JhZ2VzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2FkdmFuY2VSZWFkaW5lc3MoX2ZvcmFnZS5fZGJJbmZvKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAoX3JlamVjdFJlYWRpbmVzcyhvcHRpb25zLCBlcnIpIHx8IFByb21pc2UkMS5yZXNvbHZlKCkpW1wiY2F0Y2hcIl0oZnVuY3Rpb24gKCkge30pO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb21pc2UgPSBkYlByb21pc2UudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRiLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMob3B0aW9ucy5zdG9yZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV3VmVyc2lvbiA9IGRiLnZlcnNpb24gKyAxO1xuXG4gICAgICAgICAgICAgICAgX2RlZmVyUmVhZGluZXNzKG9wdGlvbnMpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGRiQ29udGV4dCA9IGRiQ29udGV4dHNbb3B0aW9ucy5uYW1lXTtcbiAgICAgICAgICAgICAgICB2YXIgZm9yYWdlcyA9IGRiQ29udGV4dC5mb3JhZ2VzO1xuXG4gICAgICAgICAgICAgICAgZGIuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZvcmFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcmFnZSA9IGZvcmFnZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGZvcmFnZS5fZGJJbmZvLmRiID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZm9yYWdlLl9kYkluZm8udmVyc2lvbiA9IG5ld1ZlcnNpb247XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGRyb3BPYmplY3RQcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXEgPSBpZGIub3BlbihvcHRpb25zLm5hbWUsIG5ld1ZlcnNpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRiID0gcmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICByZXEub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRiID0gcmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmRlbGV0ZU9iamVjdFN0b3JlKG9wdGlvbnMuc3RvcmVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRiID0gcmVxLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRiKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBkcm9wT2JqZWN0UHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkYikge1xuICAgICAgICAgICAgICAgICAgICBkYkNvbnRleHQuZGIgPSBkYjtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmb3JhZ2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2ZvcmFnZTIgPSBmb3JhZ2VzW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2ZvcmFnZTIuX2RiSW5mby5kYiA9IGRiO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2FkdmFuY2VSZWFkaW5lc3MoX2ZvcmFnZTIuX2RiSW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVtcImNhdGNoXCJdKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgKF9yZWplY3RSZWFkaW5lc3Mob3B0aW9ucywgZXJyKSB8fCBQcm9taXNlJDEucmVzb2x2ZSgpKVtcImNhdGNoXCJdKGZ1bmN0aW9uICgpIHt9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG52YXIgYXN5bmNTdG9yYWdlID0ge1xuICAgIF9kcml2ZXI6ICdhc3luY1N0b3JhZ2UnLFxuICAgIF9pbml0U3RvcmFnZTogX2luaXRTdG9yYWdlLFxuICAgIF9zdXBwb3J0OiBpc0luZGV4ZWREQlZhbGlkKCksXG4gICAgaXRlcmF0ZTogaXRlcmF0ZSxcbiAgICBnZXRJdGVtOiBnZXRJdGVtLFxuICAgIHNldEl0ZW06IHNldEl0ZW0sXG4gICAgcmVtb3ZlSXRlbTogcmVtb3ZlSXRlbSxcbiAgICBjbGVhcjogY2xlYXIsXG4gICAgbGVuZ3RoOiBsZW5ndGgsXG4gICAga2V5OiBrZXksXG4gICAga2V5czoga2V5cyxcbiAgICBkcm9wSW5zdGFuY2U6IGRyb3BJbnN0YW5jZVxufTtcblxuZnVuY3Rpb24gaXNXZWJTUUxWYWxpZCgpIHtcbiAgICByZXR1cm4gdHlwZW9mIG9wZW5EYXRhYmFzZSA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuLy8gU2FkbHksIHRoZSBiZXN0IHdheSB0byBzYXZlIGJpbmFyeSBkYXRhIGluIFdlYlNRTC9sb2NhbFN0b3JhZ2UgaXMgc2VyaWFsaXppbmdcbi8vIGl0IHRvIEJhc2U2NCwgc28gdGhpcyBpcyBob3cgd2Ugc3RvcmUgaXQgdG8gcHJldmVudCB2ZXJ5IHN0cmFuZ2UgZXJyb3JzIHdpdGggbGVzc1xuLy8gdmVyYm9zZSB3YXlzIG9mIGJpbmFyeSA8LT4gc3RyaW5nIGRhdGEgc3RvcmFnZS5cbnZhciBCQVNFX0NIQVJTID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8nO1xuXG52YXIgQkxPQl9UWVBFX1BSRUZJWCA9ICd+fmxvY2FsX2ZvcmFnZV90eXBlfic7XG52YXIgQkxPQl9UWVBFX1BSRUZJWF9SRUdFWCA9IC9efn5sb2NhbF9mb3JhZ2VfdHlwZX4oW15+XSspfi87XG5cbnZhciBTRVJJQUxJWkVEX01BUktFUiA9ICdfX2xmc2NfXzonO1xudmFyIFNFUklBTElaRURfTUFSS0VSX0xFTkdUSCA9IFNFUklBTElaRURfTUFSS0VSLmxlbmd0aDtcblxuLy8gT01HIHRoZSBzZXJpYWxpemF0aW9ucyFcbnZhciBUWVBFX0FSUkFZQlVGRkVSID0gJ2FyYmYnO1xudmFyIFRZUEVfQkxPQiA9ICdibG9iJztcbnZhciBUWVBFX0lOVDhBUlJBWSA9ICdzaTA4JztcbnZhciBUWVBFX1VJTlQ4QVJSQVkgPSAndWkwOCc7XG52YXIgVFlQRV9VSU5UOENMQU1QRURBUlJBWSA9ICd1aWM4JztcbnZhciBUWVBFX0lOVDE2QVJSQVkgPSAnc2kxNic7XG52YXIgVFlQRV9JTlQzMkFSUkFZID0gJ3NpMzInO1xudmFyIFRZUEVfVUlOVDE2QVJSQVkgPSAndXIxNic7XG52YXIgVFlQRV9VSU5UMzJBUlJBWSA9ICd1aTMyJztcbnZhciBUWVBFX0ZMT0FUMzJBUlJBWSA9ICdmbDMyJztcbnZhciBUWVBFX0ZMT0FUNjRBUlJBWSA9ICdmbDY0JztcbnZhciBUWVBFX1NFUklBTElaRURfTUFSS0VSX0xFTkdUSCA9IFNFUklBTElaRURfTUFSS0VSX0xFTkdUSCArIFRZUEVfQVJSQVlCVUZGRVIubGVuZ3RoO1xuXG52YXIgdG9TdHJpbmckMSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbmZ1bmN0aW9uIHN0cmluZ1RvQnVmZmVyKHNlcmlhbGl6ZWRTdHJpbmcpIHtcbiAgICAvLyBGaWxsIHRoZSBzdHJpbmcgaW50byBhIEFycmF5QnVmZmVyLlxuICAgIHZhciBidWZmZXJMZW5ndGggPSBzZXJpYWxpemVkU3RyaW5nLmxlbmd0aCAqIDAuNzU7XG4gICAgdmFyIGxlbiA9IHNlcmlhbGl6ZWRTdHJpbmcubGVuZ3RoO1xuICAgIHZhciBpO1xuICAgIHZhciBwID0gMDtcbiAgICB2YXIgZW5jb2RlZDEsIGVuY29kZWQyLCBlbmNvZGVkMywgZW5jb2RlZDQ7XG5cbiAgICBpZiAoc2VyaWFsaXplZFN0cmluZ1tzZXJpYWxpemVkU3RyaW5nLmxlbmd0aCAtIDFdID09PSAnPScpIHtcbiAgICAgICAgYnVmZmVyTGVuZ3RoLS07XG4gICAgICAgIGlmIChzZXJpYWxpemVkU3RyaW5nW3NlcmlhbGl6ZWRTdHJpbmcubGVuZ3RoIC0gMl0gPT09ICc9Jykge1xuICAgICAgICAgICAgYnVmZmVyTGVuZ3RoLS07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGJ1ZmZlckxlbmd0aCk7XG4gICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgKz0gNCkge1xuICAgICAgICBlbmNvZGVkMSA9IEJBU0VfQ0hBUlMuaW5kZXhPZihzZXJpYWxpemVkU3RyaW5nW2ldKTtcbiAgICAgICAgZW5jb2RlZDIgPSBCQVNFX0NIQVJTLmluZGV4T2Yoc2VyaWFsaXplZFN0cmluZ1tpICsgMV0pO1xuICAgICAgICBlbmNvZGVkMyA9IEJBU0VfQ0hBUlMuaW5kZXhPZihzZXJpYWxpemVkU3RyaW5nW2kgKyAyXSk7XG4gICAgICAgIGVuY29kZWQ0ID0gQkFTRV9DSEFSUy5pbmRleE9mKHNlcmlhbGl6ZWRTdHJpbmdbaSArIDNdKTtcblxuICAgICAgICAvKmpzbGludCBiaXR3aXNlOiB0cnVlICovXG4gICAgICAgIGJ5dGVzW3ArK10gPSBlbmNvZGVkMSA8PCAyIHwgZW5jb2RlZDIgPj4gNDtcbiAgICAgICAgYnl0ZXNbcCsrXSA9IChlbmNvZGVkMiAmIDE1KSA8PCA0IHwgZW5jb2RlZDMgPj4gMjtcbiAgICAgICAgYnl0ZXNbcCsrXSA9IChlbmNvZGVkMyAmIDMpIDw8IDYgfCBlbmNvZGVkNCAmIDYzO1xuICAgIH1cbiAgICByZXR1cm4gYnVmZmVyO1xufVxuXG4vLyBDb252ZXJ0cyBhIGJ1ZmZlciB0byBhIHN0cmluZyB0byBzdG9yZSwgc2VyaWFsaXplZCwgaW4gdGhlIGJhY2tlbmRcbi8vIHN0b3JhZ2UgbGlicmFyeS5cbmZ1bmN0aW9uIGJ1ZmZlclRvU3RyaW5nKGJ1ZmZlcikge1xuICAgIC8vIGJhc2U2NC1hcnJheWJ1ZmZlclxuICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgdmFyIGJhc2U2NFN0cmluZyA9ICcnO1xuICAgIHZhciBpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgICAgIC8qanNsaW50IGJpdHdpc2U6IHRydWUgKi9cbiAgICAgICAgYmFzZTY0U3RyaW5nICs9IEJBU0VfQ0hBUlNbYnl0ZXNbaV0gPj4gMl07XG4gICAgICAgIGJhc2U2NFN0cmluZyArPSBCQVNFX0NIQVJTWyhieXRlc1tpXSAmIDMpIDw8IDQgfCBieXRlc1tpICsgMV0gPj4gNF07XG4gICAgICAgIGJhc2U2NFN0cmluZyArPSBCQVNFX0NIQVJTWyhieXRlc1tpICsgMV0gJiAxNSkgPDwgMiB8IGJ5dGVzW2kgKyAyXSA+PiA2XTtcbiAgICAgICAgYmFzZTY0U3RyaW5nICs9IEJBU0VfQ0hBUlNbYnl0ZXNbaSArIDJdICYgNjNdO1xuICAgIH1cblxuICAgIGlmIChieXRlcy5sZW5ndGggJSAzID09PSAyKSB7XG4gICAgICAgIGJhc2U2NFN0cmluZyA9IGJhc2U2NFN0cmluZy5zdWJzdHJpbmcoMCwgYmFzZTY0U3RyaW5nLmxlbmd0aCAtIDEpICsgJz0nO1xuICAgIH0gZWxzZSBpZiAoYnl0ZXMubGVuZ3RoICUgMyA9PT0gMSkge1xuICAgICAgICBiYXNlNjRTdHJpbmcgPSBiYXNlNjRTdHJpbmcuc3Vic3RyaW5nKDAsIGJhc2U2NFN0cmluZy5sZW5ndGggLSAyKSArICc9PSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJhc2U2NFN0cmluZztcbn1cblxuLy8gU2VyaWFsaXplIGEgdmFsdWUsIGFmdGVyd2FyZHMgZXhlY3V0aW5nIGEgY2FsbGJhY2sgKHdoaWNoIHVzdWFsbHlcbi8vIGluc3RydWN0cyB0aGUgYHNldEl0ZW0oKWAgY2FsbGJhY2svcHJvbWlzZSB0byBiZSBleGVjdXRlZCkuIFRoaXMgaXMgaG93XG4vLyB3ZSBzdG9yZSBiaW5hcnkgZGF0YSB3aXRoIGxvY2FsU3RvcmFnZS5cbmZ1bmN0aW9uIHNlcmlhbGl6ZSh2YWx1ZSwgY2FsbGJhY2spIHtcbiAgICB2YXIgdmFsdWVUeXBlID0gJyc7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHZhbHVlVHlwZSA9IHRvU3RyaW5nJDEuY2FsbCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLy8gQ2Fubm90IHVzZSBgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcmAgb3Igc3VjaCBoZXJlLCBhcyB0aGVzZVxuICAgIC8vIGNoZWNrcyBmYWlsIHdoZW4gcnVubmluZyB0aGUgdGVzdHMgdXNpbmcgY2FzcGVyLmpzLi4uXG4gICAgLy9cbiAgICAvLyBUT0RPOiBTZWUgd2h5IHRob3NlIHRlc3RzIGZhaWwgYW5kIHVzZSBhIGJldHRlciBzb2x1dGlvbi5cbiAgICBpZiAodmFsdWUgJiYgKHZhbHVlVHlwZSA9PT0gJ1tvYmplY3QgQXJyYXlCdWZmZXJdJyB8fCB2YWx1ZS5idWZmZXIgJiYgdG9TdHJpbmckMS5jYWxsKHZhbHVlLmJ1ZmZlcikgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXScpKSB7XG4gICAgICAgIC8vIENvbnZlcnQgYmluYXJ5IGFycmF5cyB0byBhIHN0cmluZyBhbmQgcHJlZml4IHRoZSBzdHJpbmcgd2l0aFxuICAgICAgICAvLyBhIHNwZWNpYWwgbWFya2VyLlxuICAgICAgICB2YXIgYnVmZmVyO1xuICAgICAgICB2YXIgbWFya2VyID0gU0VSSUFMSVpFRF9NQVJLRVI7XG5cbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIGJ1ZmZlciA9IHZhbHVlO1xuICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfQVJSQVlCVUZGRVI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBidWZmZXIgPSB2YWx1ZS5idWZmZXI7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZVR5cGUgPT09ICdbb2JqZWN0IEludDhBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfSU5UOEFSUkFZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVR5cGUgPT09ICdbb2JqZWN0IFVpbnQ4QXJyYXldJykge1xuICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX1VJTlQ4QVJSQVk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlVHlwZSA9PT0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJykge1xuICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX1VJTlQ4Q0xBTVBFREFSUkFZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVR5cGUgPT09ICdbb2JqZWN0IEludDE2QXJyYXldJykge1xuICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX0lOVDE2QVJSQVk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlVHlwZSA9PT0gJ1tvYmplY3QgVWludDE2QXJyYXldJykge1xuICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX1VJTlQxNkFSUkFZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVR5cGUgPT09ICdbb2JqZWN0IEludDMyQXJyYXldJykge1xuICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX0lOVDMyQVJSQVk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlVHlwZSA9PT0gJ1tvYmplY3QgVWludDMyQXJyYXldJykge1xuICAgICAgICAgICAgICAgIG1hcmtlciArPSBUWVBFX1VJTlQzMkFSUkFZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVR5cGUgPT09ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfRkxPQVQzMkFSUkFZO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZVR5cGUgPT09ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyICs9IFRZUEVfRkxPQVQ2NEFSUkFZO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ0ZhaWxlZCB0byBnZXQgdHlwZSBmb3IgQmluYXJ5QXJyYXknKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjYWxsYmFjayhtYXJrZXIgKyBidWZmZXJUb1N0cmluZyhidWZmZXIpKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlVHlwZSA9PT0gJ1tvYmplY3QgQmxvYl0nKSB7XG4gICAgICAgIC8vIENvbnZlciB0aGUgYmxvYiB0byBhIGJpbmFyeUFycmF5IGFuZCB0aGVuIHRvIGEgc3RyaW5nLlxuICAgICAgICB2YXIgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICAgICAgZmlsZVJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBCYWNrd2FyZHMtY29tcGF0aWJsZSBwcmVmaXggZm9yIHRoZSBibG9iIHR5cGUuXG4gICAgICAgICAgICB2YXIgc3RyID0gQkxPQl9UWVBFX1BSRUZJWCArIHZhbHVlLnR5cGUgKyAnficgKyBidWZmZXJUb1N0cmluZyh0aGlzLnJlc3VsdCk7XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKFNFUklBTElaRURfTUFSS0VSICsgVFlQRV9CTE9CICsgc3RyKTtcbiAgICAgICAgfTtcblxuICAgICAgICBmaWxlUmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY2FsbGJhY2soSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkNvdWxkbid0IGNvbnZlcnQgdmFsdWUgaW50byBhIEpTT04gc3RyaW5nOiBcIiwgdmFsdWUpO1xuXG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCBlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gRGVzZXJpYWxpemUgZGF0YSB3ZSd2ZSBpbnNlcnRlZCBpbnRvIGEgdmFsdWUgY29sdW1uL2ZpZWxkLiBXZSBwbGFjZVxuLy8gc3BlY2lhbCBtYXJrZXJzIGludG8gb3VyIHN0cmluZ3MgdG8gbWFyayB0aGVtIGFzIGVuY29kZWQ7IHRoaXMgaXNuJ3Rcbi8vIGFzIG5pY2UgYXMgYSBtZXRhIGZpZWxkLCBidXQgaXQncyB0aGUgb25seSBzYW5lIHRoaW5nIHdlIGNhbiBkbyB3aGlsc3Rcbi8vIGtlZXBpbmcgbG9jYWxTdG9yYWdlIHN1cHBvcnQgaW50YWN0LlxuLy9cbi8vIE9mdGVudGltZXMgdGhpcyB3aWxsIGp1c3QgZGVzZXJpYWxpemUgSlNPTiBjb250ZW50LCBidXQgaWYgd2UgaGF2ZSBhXG4vLyBzcGVjaWFsIG1hcmtlciAoU0VSSUFMSVpFRF9NQVJLRVIsIGRlZmluZWQgYWJvdmUpLCB3ZSB3aWxsIGV4dHJhY3Rcbi8vIHNvbWUga2luZCBvZiBhcnJheWJ1ZmZlci9iaW5hcnkgZGF0YS90eXBlZCBhcnJheSBvdXQgb2YgdGhlIHN0cmluZy5cbmZ1bmN0aW9uIGRlc2VyaWFsaXplKHZhbHVlKSB7XG4gICAgLy8gSWYgd2UgaGF2ZW4ndCBtYXJrZWQgdGhpcyBzdHJpbmcgYXMgYmVpbmcgc3BlY2lhbGx5IHNlcmlhbGl6ZWQgKGkuZS5cbiAgICAvLyBzb21ldGhpbmcgb3RoZXIgdGhhbiBzZXJpYWxpemVkIEpTT04pLCB3ZSBjYW4ganVzdCByZXR1cm4gaXQgYW5kIGJlXG4gICAgLy8gZG9uZSB3aXRoIGl0LlxuICAgIGlmICh2YWx1ZS5zdWJzdHJpbmcoMCwgU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RIKSAhPT0gU0VSSUFMSVpFRF9NQVJLRVIpIHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuICAgIH1cblxuICAgIC8vIFRoZSBmb2xsb3dpbmcgY29kZSBkZWFscyB3aXRoIGRlc2VyaWFsaXppbmcgc29tZSBraW5kIG9mIEJsb2Igb3JcbiAgICAvLyBUeXBlZEFycmF5LiBGaXJzdCB3ZSBzZXBhcmF0ZSBvdXQgdGhlIHR5cGUgb2YgZGF0YSB3ZSdyZSBkZWFsaW5nXG4gICAgLy8gd2l0aCBmcm9tIHRoZSBkYXRhIGl0c2VsZi5cbiAgICB2YXIgc2VyaWFsaXplZFN0cmluZyA9IHZhbHVlLnN1YnN0cmluZyhUWVBFX1NFUklBTElaRURfTUFSS0VSX0xFTkdUSCk7XG4gICAgdmFyIHR5cGUgPSB2YWx1ZS5zdWJzdHJpbmcoU0VSSUFMSVpFRF9NQVJLRVJfTEVOR1RILCBUWVBFX1NFUklBTElaRURfTUFSS0VSX0xFTkdUSCk7XG5cbiAgICB2YXIgYmxvYlR5cGU7XG4gICAgLy8gQmFja3dhcmRzLWNvbXBhdGlibGUgYmxvYiB0eXBlIHNlcmlhbGl6YXRpb24gc3RyYXRlZ3kuXG4gICAgLy8gREJzIGNyZWF0ZWQgd2l0aCBvbGRlciB2ZXJzaW9ucyBvZiBsb2NhbEZvcmFnZSB3aWxsIHNpbXBseSBub3QgaGF2ZSB0aGUgYmxvYiB0eXBlLlxuICAgIGlmICh0eXBlID09PSBUWVBFX0JMT0IgJiYgQkxPQl9UWVBFX1BSRUZJWF9SRUdFWC50ZXN0KHNlcmlhbGl6ZWRTdHJpbmcpKSB7XG4gICAgICAgIHZhciBtYXRjaGVyID0gc2VyaWFsaXplZFN0cmluZy5tYXRjaChCTE9CX1RZUEVfUFJFRklYX1JFR0VYKTtcbiAgICAgICAgYmxvYlR5cGUgPSBtYXRjaGVyWzFdO1xuICAgICAgICBzZXJpYWxpemVkU3RyaW5nID0gc2VyaWFsaXplZFN0cmluZy5zdWJzdHJpbmcobWF0Y2hlclswXS5sZW5ndGgpO1xuICAgIH1cbiAgICB2YXIgYnVmZmVyID0gc3RyaW5nVG9CdWZmZXIoc2VyaWFsaXplZFN0cmluZyk7XG5cbiAgICAvLyBSZXR1cm4gdGhlIHJpZ2h0IHR5cGUgYmFzZWQgb24gdGhlIGNvZGUvdHlwZSBzZXQgZHVyaW5nXG4gICAgLy8gc2VyaWFsaXphdGlvbi5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBUWVBFX0FSUkFZQlVGRkVSOlxuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcbiAgICAgICAgY2FzZSBUWVBFX0JMT0I6XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlQmxvYihbYnVmZmVyXSwgeyB0eXBlOiBibG9iVHlwZSB9KTtcbiAgICAgICAgY2FzZSBUWVBFX0lOVDhBUlJBWTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGNhc2UgVFlQRV9VSU5UOEFSUkFZOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGNhc2UgVFlQRV9VSU5UOENMQU1QRURBUlJBWTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhDbGFtcGVkQXJyYXkoYnVmZmVyKTtcbiAgICAgICAgY2FzZSBUWVBFX0lOVDE2QVJSQVk6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEludDE2QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgY2FzZSBUWVBFX1VJTlQxNkFSUkFZOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50MTZBcnJheShidWZmZXIpO1xuICAgICAgICBjYXNlIFRZUEVfSU5UMzJBUlJBWTpcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheShidWZmZXIpO1xuICAgICAgICBjYXNlIFRZUEVfVUlOVDMyQVJSQVk6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQzMkFycmF5KGJ1ZmZlcik7XG4gICAgICAgIGNhc2UgVFlQRV9GTE9BVDMyQVJSQVk6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShidWZmZXIpO1xuICAgICAgICBjYXNlIFRZUEVfRkxPQVQ2NEFSUkFZOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGbG9hdDY0QXJyYXkoYnVmZmVyKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rb3duIHR5cGU6ICcgKyB0eXBlKTtcbiAgICB9XG59XG5cbnZhciBsb2NhbGZvcmFnZVNlcmlhbGl6ZXIgPSB7XG4gICAgc2VyaWFsaXplOiBzZXJpYWxpemUsXG4gICAgZGVzZXJpYWxpemU6IGRlc2VyaWFsaXplLFxuICAgIHN0cmluZ1RvQnVmZmVyOiBzdHJpbmdUb0J1ZmZlcixcbiAgICBidWZmZXJUb1N0cmluZzogYnVmZmVyVG9TdHJpbmdcbn07XG5cbi8qXG4gKiBJbmNsdWRlcyBjb2RlIGZyb206XG4gKlxuICogYmFzZTY0LWFycmF5YnVmZmVyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbmlrbGFzdmgvYmFzZTY0LWFycmF5YnVmZmVyXG4gKlxuICogQ29weXJpZ2h0IChjKSAyMDEyIE5pa2xhcyB2b24gSGVydHplblxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLlxuICovXG5cbmZ1bmN0aW9uIGNyZWF0ZURiVGFibGUodCwgZGJJbmZvLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgIHQuZXhlY3V0ZVNxbCgnQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgJyArIGRiSW5mby5zdG9yZU5hbWUgKyAnICcgKyAnKGlkIElOVEVHRVIgUFJJTUFSWSBLRVksIGtleSB1bmlxdWUsIHZhbHVlKScsIFtdLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG59XG5cbi8vIE9wZW4gdGhlIFdlYlNRTCBkYXRhYmFzZSAoYXV0b21hdGljYWxseSBjcmVhdGVzIG9uZSBpZiBvbmUgZGlkbid0XG4vLyBwcmV2aW91c2x5IGV4aXN0KSwgdXNpbmcgYW55IG9wdGlvbnMgc2V0IGluIHRoZSBjb25maWcuXG5mdW5jdGlvbiBfaW5pdFN0b3JhZ2UkMShvcHRpb25zKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBkYkluZm8gPSB7XG4gICAgICAgIGRiOiBudWxsXG4gICAgfTtcblxuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgIGZvciAodmFyIGkgaW4gb3B0aW9ucykge1xuICAgICAgICAgICAgZGJJbmZvW2ldID0gdHlwZW9mIG9wdGlvbnNbaV0gIT09ICdzdHJpbmcnID8gb3B0aW9uc1tpXS50b1N0cmluZygpIDogb3B0aW9uc1tpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkYkluZm9Qcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIC8vIE9wZW4gdGhlIGRhdGFiYXNlOyB0aGUgb3BlbkRhdGFiYXNlIEFQSSB3aWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgICAgLy8gY3JlYXRlIGl0IGZvciB1cyBpZiBpdCBkb2Vzbid0IGV4aXN0LlxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGJJbmZvLmRiID0gb3BlbkRhdGFiYXNlKGRiSW5mby5uYW1lLCBTdHJpbmcoZGJJbmZvLnZlcnNpb24pLCBkYkluZm8uZGVzY3JpcHRpb24sIGRiSW5mby5zaXplKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBvdXIga2V5L3ZhbHVlIHRhYmxlIGlmIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgY3JlYXRlRGJUYWJsZSh0LCBkYkluZm8sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9kYkluZm8gPSBkYkluZm87XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCByZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZGJJbmZvLnNlcmlhbGl6ZXIgPSBsb2NhbGZvcmFnZVNlcmlhbGl6ZXI7XG4gICAgcmV0dXJuIGRiSW5mb1Byb21pc2U7XG59XG5cbmZ1bmN0aW9uIHRyeUV4ZWN1dGVTcWwodCwgZGJJbmZvLCBzcWxTdGF0ZW1lbnQsIGFyZ3MsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XG4gICAgdC5leGVjdXRlU3FsKHNxbFN0YXRlbWVudCwgYXJncywgY2FsbGJhY2ssIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gZXJyb3IuU1lOVEFYX0VSUikge1xuICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdTRUxFQ1QgbmFtZSBGUk9NIHNxbGl0ZV9tYXN0ZXIgJyArIFwiV0hFUkUgdHlwZT0ndGFibGUnIEFORCBuYW1lID0gP1wiLCBbZGJJbmZvLnN0b3JlTmFtZV0sIGZ1bmN0aW9uICh0LCByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXN1bHRzLnJvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSB0YWJsZSBpcyBtaXNzaW5nICh3YXMgZGVsZXRlZClcbiAgICAgICAgICAgICAgICAgICAgLy8gcmUtY3JlYXRlIGl0IHRhYmxlIGFuZCByZXRyeVxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVEYlRhYmxlKHQsIGRiSW5mbywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5leGVjdXRlU3FsKHNxbFN0YXRlbWVudCwgYXJncywgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9LCBlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKHQsIGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2sodCwgZXJyb3IpO1xuICAgICAgICB9XG4gICAgfSwgZXJyb3JDYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIGdldEl0ZW0kMShrZXksIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgZGJJbmZvLmRiLnRyYW5zYWN0aW9uKGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgdHJ5RXhlY3V0ZVNxbCh0LCBkYkluZm8sICdTRUxFQ1QgKiBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lICsgJyBXSEVSRSBrZXkgPSA/IExJTUlUIDEnLCBba2V5XSwgZnVuY3Rpb24gKHQsIHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHJlc3VsdHMucm93cy5sZW5ndGggPyByZXN1bHRzLnJvd3MuaXRlbSgwKS52YWx1ZSA6IG51bGw7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoaXMgaXMgc2VyaWFsaXplZCBjb250ZW50IHdlIG5lZWQgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gdW5wYWNrLlxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBkYkluZm8uc2VyaWFsaXplci5kZXNlcmlhbGl6ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIGl0ZXJhdGUkMShpdGVyYXRvciwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuXG4gICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICB0cnlFeGVjdXRlU3FsKHQsIGRiSW5mbywgJ1NFTEVDVCAqIEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUsIFtdLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm93cyA9IHJlc3VsdHMucm93cztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHJvd3MubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gcm93cy5pdGVtKGkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZW0udmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGlzIGlzIHNlcmlhbGl6ZWQgY29udGVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byB1bnBhY2suXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZGJJbmZvLnNlcmlhbGl6ZXIuZGVzZXJpYWxpemUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gaXRlcmF0b3IocmVzdWx0LCBpdGVtLmtleSwgaSArIDEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB2b2lkKDApIHByZXZlbnRzIHByb2JsZW1zIHdpdGggcmVkZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvZiBgdW5kZWZpbmVkYC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gX3NldEl0ZW0oa2V5LCB2YWx1ZSwgY2FsbGJhY2ssIHJldHJpZXNMZWZ0KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG5cbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBUaGUgbG9jYWxTdG9yYWdlIEFQSSBkb2Vzbid0IHJldHVybiB1bmRlZmluZWQgdmFsdWVzIGluIGFuXG4gICAgICAgICAgICAvLyBcImV4cGVjdGVkXCIgd2F5LCBzbyB1bmRlZmluZWQgaXMgYWx3YXlzIGNhc3QgdG8gbnVsbCBpbiBhbGxcbiAgICAgICAgICAgIC8vIGRyaXZlcnMuIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvbG9jYWxGb3JhZ2UvcHVsbC80MlxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNhdmUgdGhlIG9yaWdpbmFsIHZhbHVlIHRvIHBhc3MgdG8gdGhlIGNhbGxiYWNrLlxuICAgICAgICAgICAgdmFyIG9yaWdpbmFsVmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIGRiSW5mby5zZXJpYWxpemVyLnNlcmlhbGl6ZSh2YWx1ZSwgZnVuY3Rpb24gKHZhbHVlLCBlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5RXhlY3V0ZVNxbCh0LCBkYkluZm8sICdJTlNFUlQgT1IgUkVQTEFDRSBJTlRPICcgKyBkYkluZm8uc3RvcmVOYW1lICsgJyAnICsgJyhrZXksIHZhbHVlKSBWQUxVRVMgKD8sID8pJywgW2tleSwgdmFsdWVdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShvcmlnaW5hbFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHNxbEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdHJhbnNhY3Rpb24gZmFpbGVkOyBjaGVja1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gc2VlIGlmIGl0J3MgYSBxdW90YSBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcWxFcnJvci5jb2RlID09PSBzcWxFcnJvci5RVU9UQV9FUlIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSByZWplY3QgdGhlIGNhbGxiYWNrIG91dHJpZ2h0IGZvciBub3csIGJ1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0J3Mgd29ydGggdHJ5aW5nIHRvIHJlLXJ1biB0aGUgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXZlbiBpZiB0aGUgdXNlciBhY2NlcHRzIHRoZSBwcm9tcHQgdG8gdXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbW9yZSBzdG9yYWdlIG9uIFNhZmFyaSwgdGhpcyBlcnJvciB3aWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmUgY2FsbGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IHRvIHJlLXJ1biB0aGUgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldHJpZXNMZWZ0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKF9zZXRJdGVtLmFwcGx5KHNlbGYsIFtrZXksIG9yaWdpbmFsVmFsdWUsIGNhbGxiYWNrLCByZXRyaWVzTGVmdCAtIDFdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHNxbEVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIHNldEl0ZW0kMShrZXksIHZhbHVlLCBjYWxsYmFjaykge1xuICAgIHJldHVybiBfc2V0SXRlbS5hcHBseSh0aGlzLCBba2V5LCB2YWx1ZSwgY2FsbGJhY2ssIDFdKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlSXRlbSQxKGtleSwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICB0cnlFeGVjdXRlU3FsKHQsIGRiSW5mbywgJ0RFTEVURSBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lICsgJyBXSEVSRSBrZXkgPSA/JywgW2tleV0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIERlbGV0ZXMgZXZlcnkgaXRlbSBpbiB0aGUgdGFibGUuXG4vLyBUT0RPOiBGaW5kIG91dCBpZiB0aGlzIHJlc2V0cyB0aGUgQVVUT19JTkNSRU1FTlQgbnVtYmVyLlxuZnVuY3Rpb24gY2xlYXIkMShjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICB0cnlFeGVjdXRlU3FsKHQsIGRiSW5mbywgJ0RFTEVURSBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lLCBbXSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShyZWplY3QpO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gRG9lcyBhIHNpbXBsZSBgQ09VTlQoa2V5KWAgdG8gZ2V0IHRoZSBudW1iZXIgb2YgaXRlbXMgc3RvcmVkIGluXG4vLyBsb2NhbEZvcmFnZS5cbmZ1bmN0aW9uIGxlbmd0aCQxKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIC8vIEFoaGgsIFNRTCBtYWtlcyB0aGlzIG9uZSBzb29vb29vIGVhc3kuXG4gICAgICAgICAgICAgICAgdHJ5RXhlY3V0ZVNxbCh0LCBkYkluZm8sICdTRUxFQ1QgQ09VTlQoa2V5KSBhcyBjIEZST00gJyArIGRiSW5mby5zdG9yZU5hbWUsIFtdLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gcmVzdWx0cy5yb3dzLml0ZW0oMCkuYztcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIFJldHVybiB0aGUga2V5IGxvY2F0ZWQgYXQga2V5IGluZGV4IFg7IGVzc2VudGlhbGx5IGdldHMgdGhlIGtleSBmcm9tIGFcbi8vIGBXSEVSRSBpZCA9ID9gLiBUaGlzIGlzIHRoZSBtb3N0IGVmZmljaWVudCB3YXkgSSBjYW4gdGhpbmsgdG8gaW1wbGVtZW50XG4vLyB0aGlzIHJhcmVseS11c2VkIChpbiBteSBleHBlcmllbmNlKSBwYXJ0IG9mIHRoZSBBUEksIGJ1dCBpdCBjYW4gc2VlbVxuLy8gaW5jb25zaXN0ZW50LCBiZWNhdXNlIHdlIGRvIGBJTlNFUlQgT1IgUkVQTEFDRSBJTlRPYCBvbiBgc2V0SXRlbSgpYCwgc29cbi8vIHRoZSBJRCBvZiBlYWNoIGtleSB3aWxsIGNoYW5nZSBldmVyeSB0aW1lIGl0J3MgdXBkYXRlZC4gUGVyaGFwcyBhIHN0b3JlZFxuLy8gcHJvY2VkdXJlIGZvciB0aGUgYHNldEl0ZW0oKWAgU1FMIHdvdWxkIHNvbHZlIHRoaXMgcHJvYmxlbT9cbi8vIFRPRE86IERvbid0IGNoYW5nZSBJRCBvbiBgc2V0SXRlbSgpYC5cbmZ1bmN0aW9uIGtleSQxKG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRiSW5mbyA9IHNlbGYuX2RiSW5mbztcbiAgICAgICAgICAgIGRiSW5mby5kYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIHRyeUV4ZWN1dGVTcWwodCwgZGJJbmZvLCAnU0VMRUNUIGtleSBGUk9NICcgKyBkYkluZm8uc3RvcmVOYW1lICsgJyBXSEVSRSBpZCA9ID8gTElNSVQgMScsIFtuICsgMV0sIGZ1bmN0aW9uICh0LCByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXN1bHRzLnJvd3MubGVuZ3RoID8gcmVzdWx0cy5yb3dzLml0ZW0oMCkua2V5IDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pW1wiY2F0Y2hcIl0ocmVqZWN0KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIGtleXMkMShjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgICAgICBkYkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICB0cnlFeGVjdXRlU3FsKHQsIGRiSW5mbywgJ1NFTEVDVCBrZXkgRlJPTSAnICsgZGJJbmZvLnN0b3JlTmFtZSwgW10sIGZ1bmN0aW9uICh0LCByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXlzID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXN1bHRzLnJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChyZXN1bHRzLnJvd3MuaXRlbShpKS5rZXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShrZXlzKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCwgZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVtcImNhdGNoXCJdKHJlamVjdCk7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG4vLyBodHRwczovL3d3dy53My5vcmcvVFIvd2ViZGF0YWJhc2UvI2RhdGFiYXNlc1xuLy8gPiBUaGVyZSBpcyBubyB3YXkgdG8gZW51bWVyYXRlIG9yIGRlbGV0ZSB0aGUgZGF0YWJhc2VzIGF2YWlsYWJsZSBmb3IgYW4gb3JpZ2luIGZyb20gdGhpcyBBUEkuXG5mdW5jdGlvbiBnZXRBbGxTdG9yZU5hbWVzKGRiKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBkYi50cmFuc2FjdGlvbihmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgdC5leGVjdXRlU3FsKCdTRUxFQ1QgbmFtZSBGUk9NIHNxbGl0ZV9tYXN0ZXIgJyArIFwiV0hFUkUgdHlwZT0ndGFibGUnIEFORCBuYW1lIDw+ICdfX1dlYktpdERhdGFiYXNlSW5mb1RhYmxlX18nXCIsIFtdLCBmdW5jdGlvbiAodCwgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIHZhciBzdG9yZU5hbWVzID0gW107XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdHMucm93cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBzdG9yZU5hbWVzLnB1c2gocmVzdWx0cy5yb3dzLml0ZW0oaSkubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgICAgIGRiOiBkYixcbiAgICAgICAgICAgICAgICAgICAgc3RvcmVOYW1lczogc3RvcmVOYW1lc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHQsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoc3FsRXJyb3IpIHtcbiAgICAgICAgICAgIHJlamVjdChzcWxFcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBkcm9wSW5zdGFuY2UkMShvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrID0gZ2V0Q2FsbGJhY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICAgIHZhciBjdXJyZW50Q29uZmlnID0gdGhpcy5jb25maWcoKTtcbiAgICBvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgIT09ICdmdW5jdGlvbicgJiYgb3B0aW9ucyB8fCB7fTtcbiAgICBpZiAoIW9wdGlvbnMubmFtZSkge1xuICAgICAgICBvcHRpb25zLm5hbWUgPSBvcHRpb25zLm5hbWUgfHwgY3VycmVudENvbmZpZy5uYW1lO1xuICAgICAgICBvcHRpb25zLnN0b3JlTmFtZSA9IG9wdGlvbnMuc3RvcmVOYW1lIHx8IGN1cnJlbnRDb25maWcuc3RvcmVOYW1lO1xuICAgIH1cblxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgcHJvbWlzZTtcbiAgICBpZiAoIW9wdGlvbnMubmFtZSkge1xuICAgICAgICBwcm9taXNlID0gUHJvbWlzZSQxLnJlamVjdCgnSW52YWxpZCBhcmd1bWVudHMnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBwcm9taXNlID0gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgdmFyIGRiO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubmFtZSA9PT0gY3VycmVudENvbmZpZy5uYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gdXNlIHRoZSBkYiByZWZlcmVuY2Ugb2YgdGhlIGN1cnJlbnQgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICBkYiA9IHNlbGYuX2RiSW5mby5kYjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGIgPSBvcGVuRGF0YWJhc2Uob3B0aW9ucy5uYW1lLCAnJywgJycsIDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuc3RvcmVOYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gZHJvcCBhbGwgZGF0YWJhc2UgdGFibGVzXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShnZXRBbGxTdG9yZU5hbWVzKGRiKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICBkYjogZGIsXG4gICAgICAgICAgICAgICAgICAgIHN0b3JlTmFtZXM6IFtvcHRpb25zLnN0b3JlTmFtZV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAob3BlcmF0aW9uSW5mbykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIG9wZXJhdGlvbkluZm8uZGIudHJhbnNhY3Rpb24oZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZHJvcFRhYmxlKHN0b3JlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuZXhlY3V0ZVNxbCgnRFJPUCBUQUJMRSBJRiBFWElTVFMgJyArIHN0b3JlTmFtZSwgW10sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICh0LCBlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gb3BlcmF0aW9uSW5mby5zdG9yZU5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25zLnB1c2goZHJvcFRhYmxlKG9wZXJhdGlvbkluZm8uc3RvcmVOYW1lc1tpXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZSQxLmFsbChvcGVyYXRpb25zKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoc3FsRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHNxbEVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG52YXIgd2ViU1FMU3RvcmFnZSA9IHtcbiAgICBfZHJpdmVyOiAnd2ViU1FMU3RvcmFnZScsXG4gICAgX2luaXRTdG9yYWdlOiBfaW5pdFN0b3JhZ2UkMSxcbiAgICBfc3VwcG9ydDogaXNXZWJTUUxWYWxpZCgpLFxuICAgIGl0ZXJhdGU6IGl0ZXJhdGUkMSxcbiAgICBnZXRJdGVtOiBnZXRJdGVtJDEsXG4gICAgc2V0SXRlbTogc2V0SXRlbSQxLFxuICAgIHJlbW92ZUl0ZW06IHJlbW92ZUl0ZW0kMSxcbiAgICBjbGVhcjogY2xlYXIkMSxcbiAgICBsZW5ndGg6IGxlbmd0aCQxLFxuICAgIGtleToga2V5JDEsXG4gICAga2V5czoga2V5cyQxLFxuICAgIGRyb3BJbnN0YW5jZTogZHJvcEluc3RhbmNlJDFcbn07XG5cbmZ1bmN0aW9uIGlzTG9jYWxTdG9yYWdlVmFsaWQoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBsb2NhbFN0b3JhZ2UgIT09ICd1bmRlZmluZWQnICYmICdzZXRJdGVtJyBpbiBsb2NhbFN0b3JhZ2UgJiZcbiAgICAgICAgLy8gaW4gSUU4IHR5cGVvZiBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSA9PT0gJ29iamVjdCdcbiAgICAgICAgISFsb2NhbFN0b3JhZ2Uuc2V0SXRlbTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9nZXRLZXlQcmVmaXgob3B0aW9ucywgZGVmYXVsdENvbmZpZykge1xuICAgIHZhciBrZXlQcmVmaXggPSBvcHRpb25zLm5hbWUgKyAnLyc7XG5cbiAgICBpZiAob3B0aW9ucy5zdG9yZU5hbWUgIT09IGRlZmF1bHRDb25maWcuc3RvcmVOYW1lKSB7XG4gICAgICAgIGtleVByZWZpeCArPSBvcHRpb25zLnN0b3JlTmFtZSArICcvJztcbiAgICB9XG4gICAgcmV0dXJuIGtleVByZWZpeDtcbn1cblxuLy8gQ2hlY2sgaWYgbG9jYWxTdG9yYWdlIHRocm93cyB3aGVuIHNhdmluZyBhbiBpdGVtXG5mdW5jdGlvbiBjaGVja0lmTG9jYWxTdG9yYWdlVGhyb3dzKCkge1xuICAgIHZhciBsb2NhbFN0b3JhZ2VUZXN0S2V5ID0gJ19sb2NhbGZvcmFnZV9zdXBwb3J0X3Rlc3QnO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obG9jYWxTdG9yYWdlVGVzdEtleSwgdHJ1ZSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGxvY2FsU3RvcmFnZVRlc3RLZXkpO1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuLy8gQ2hlY2sgaWYgbG9jYWxTdG9yYWdlIGlzIHVzYWJsZSBhbmQgYWxsb3dzIHRvIHNhdmUgYW4gaXRlbVxuLy8gVGhpcyBtZXRob2QgY2hlY2tzIGlmIGxvY2FsU3RvcmFnZSBpcyB1c2FibGUgaW4gU2FmYXJpIFByaXZhdGUgQnJvd3Npbmdcbi8vIG1vZGUsIG9yIGluIGFueSBvdGhlciBjYXNlIHdoZXJlIHRoZSBhdmFpbGFibGUgcXVvdGEgZm9yIGxvY2FsU3RvcmFnZVxuLy8gaXMgMCBhbmQgdGhlcmUgd2Fzbid0IGFueSBzYXZlZCBpdGVtcyB5ZXQuXG5mdW5jdGlvbiBfaXNMb2NhbFN0b3JhZ2VVc2FibGUoKSB7XG4gICAgcmV0dXJuICFjaGVja0lmTG9jYWxTdG9yYWdlVGhyb3dzKCkgfHwgbG9jYWxTdG9yYWdlLmxlbmd0aCA+IDA7XG59XG5cbi8vIENvbmZpZyB0aGUgbG9jYWxTdG9yYWdlIGJhY2tlbmQsIHVzaW5nIG9wdGlvbnMgc2V0IGluIHRoZSBjb25maWcuXG5mdW5jdGlvbiBfaW5pdFN0b3JhZ2UkMihvcHRpb25zKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBkYkluZm8gPSB7fTtcbiAgICBpZiAob3B0aW9ucykge1xuICAgICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGRiSW5mb1tpXSA9IG9wdGlvbnNbaV07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkYkluZm8ua2V5UHJlZml4ID0gX2dldEtleVByZWZpeChvcHRpb25zLCBzZWxmLl9kZWZhdWx0Q29uZmlnKTtcblxuICAgIGlmICghX2lzTG9jYWxTdG9yYWdlVXNhYmxlKCkpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UkMS5yZWplY3QoKTtcbiAgICB9XG5cbiAgICBzZWxmLl9kYkluZm8gPSBkYkluZm87XG4gICAgZGJJbmZvLnNlcmlhbGl6ZXIgPSBsb2NhbGZvcmFnZVNlcmlhbGl6ZXI7XG5cbiAgICByZXR1cm4gUHJvbWlzZSQxLnJlc29sdmUoKTtcbn1cblxuLy8gUmVtb3ZlIGFsbCBrZXlzIGZyb20gdGhlIGRhdGFzdG9yZSwgZWZmZWN0aXZlbHkgZGVzdHJveWluZyBhbGwgZGF0YSBpblxuLy8gdGhlIGFwcCdzIGtleS92YWx1ZSBzdG9yZSFcbmZ1bmN0aW9uIGNsZWFyJDIoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBrZXlQcmVmaXggPSBzZWxmLl9kYkluZm8ua2V5UHJlZml4O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSBsb2NhbFN0b3JhZ2UubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpO1xuXG4gICAgICAgICAgICBpZiAoa2V5LmluZGV4T2Yoa2V5UHJlZml4KSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIFJldHJpZXZlIGFuIGl0ZW0gZnJvbSB0aGUgc3RvcmUuIFVubGlrZSB0aGUgb3JpZ2luYWwgYXN5bmNfc3RvcmFnZVxuLy8gbGlicmFyeSBpbiBHYWlhLCB3ZSBkb24ndCBtb2RpZnkgcmV0dXJuIHZhbHVlcyBhdCBhbGwuIElmIGEga2V5J3MgdmFsdWVcbi8vIGlzIGB1bmRlZmluZWRgLCB3ZSBwYXNzIHRoYXQgdmFsdWUgdG8gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuZnVuY3Rpb24gZ2V0SXRlbSQyKGtleSwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcblxuICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICB2YXIgcmVzdWx0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZGJJbmZvLmtleVByZWZpeCArIGtleSk7XG5cbiAgICAgICAgLy8gSWYgYSByZXN1bHQgd2FzIGZvdW5kLCBwYXJzZSBpdCBmcm9tIHRoZSBzZXJpYWxpemVkXG4gICAgICAgIC8vIHN0cmluZyBpbnRvIGEgSlMgb2JqZWN0LiBJZiByZXN1bHQgaXNuJ3QgdHJ1dGh5LCB0aGUga2V5XG4gICAgICAgIC8vIGlzIGxpa2VseSB1bmRlZmluZWQgYW5kIHdlJ2xsIHBhc3MgaXQgc3RyYWlnaHQgdG8gdGhlXG4gICAgICAgIC8vIGNhbGxiYWNrLlxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSBkYkluZm8uc2VyaWFsaXplci5kZXNlcmlhbGl6ZShyZXN1bHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIEl0ZXJhdGUgb3ZlciBhbGwgaXRlbXMgaW4gdGhlIHN0b3JlLlxuZnVuY3Rpb24gaXRlcmF0ZSQyKGl0ZXJhdG9yLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICB2YXIga2V5UHJlZml4ID0gZGJJbmZvLmtleVByZWZpeDtcbiAgICAgICAgdmFyIGtleVByZWZpeExlbmd0aCA9IGtleVByZWZpeC5sZW5ndGg7XG4gICAgICAgIHZhciBsZW5ndGggPSBsb2NhbFN0b3JhZ2UubGVuZ3RoO1xuXG4gICAgICAgIC8vIFdlIHVzZSBhIGRlZGljYXRlZCBpdGVyYXRvciBpbnN0ZWFkIG9mIHRoZSBgaWAgdmFyaWFibGUgYmVsb3dcbiAgICAgICAgLy8gc28gb3RoZXIga2V5cyB3ZSBmZXRjaCBpbiBsb2NhbFN0b3JhZ2UgYXJlbid0IGNvdW50ZWQgaW5cbiAgICAgICAgLy8gdGhlIGBpdGVyYXRpb25OdW1iZXJgIGFyZ3VtZW50IHBhc3NlZCB0byB0aGUgYGl0ZXJhdGUoKWBcbiAgICAgICAgLy8gY2FsbGJhY2suXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFNlZTogZ2l0aHViLmNvbS9tb3ppbGxhL2xvY2FsRm9yYWdlL3B1bGwvNDM1I2Rpc2N1c3Npb25fcjM4MDYxNTMwXG4gICAgICAgIHZhciBpdGVyYXRpb25OdW1iZXIgPSAxO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBrZXkgPSBsb2NhbFN0b3JhZ2Uua2V5KGkpO1xuICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKGtleVByZWZpeCkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG5cbiAgICAgICAgICAgIC8vIElmIGEgcmVzdWx0IHdhcyBmb3VuZCwgcGFyc2UgaXQgZnJvbSB0aGUgc2VyaWFsaXplZFxuICAgICAgICAgICAgLy8gc3RyaW5nIGludG8gYSBKUyBvYmplY3QuIElmIHJlc3VsdCBpc24ndCB0cnV0aHksIHRoZVxuICAgICAgICAgICAgLy8ga2V5IGlzIGxpa2VseSB1bmRlZmluZWQgYW5kIHdlJ2xsIHBhc3MgaXQgc3RyYWlnaHRcbiAgICAgICAgICAgIC8vIHRvIHRoZSBpdGVyYXRvci5cbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZGJJbmZvLnNlcmlhbGl6ZXIuZGVzZXJpYWxpemUodmFsdWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWx1ZSA9IGl0ZXJhdG9yKHZhbHVlLCBrZXkuc3Vic3RyaW5nKGtleVByZWZpeExlbmd0aCksIGl0ZXJhdGlvbk51bWJlcisrKTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIFNhbWUgYXMgbG9jYWxTdG9yYWdlJ3Mga2V5KCkgbWV0aG9kLCBleGNlcHQgdGFrZXMgYSBjYWxsYmFjay5cbmZ1bmN0aW9uIGtleSQyKG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbG9jYWxTdG9yYWdlLmtleShuKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgdGhlIHByZWZpeCBmcm9tIHRoZSBrZXksIGlmIGEga2V5IGlzIGZvdW5kLlxuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuc3Vic3RyaW5nKGRiSW5mby5rZXlQcmVmaXgubGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBrZXlzJDIoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkYkluZm8gPSBzZWxmLl9kYkluZm87XG4gICAgICAgIHZhciBsZW5ndGggPSBsb2NhbFN0b3JhZ2UubGVuZ3RoO1xuICAgICAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtS2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcbiAgICAgICAgICAgIGlmIChpdGVtS2V5LmluZGV4T2YoZGJJbmZvLmtleVByZWZpeCkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBrZXlzLnB1c2goaXRlbUtleS5zdWJzdHJpbmcoZGJJbmZvLmtleVByZWZpeC5sZW5ndGgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBrZXlzO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuLy8gU3VwcGx5IHRoZSBudW1iZXIgb2Yga2V5cyBpbiB0aGUgZGF0YXN0b3JlIHRvIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbmZ1bmN0aW9uIGxlbmd0aCQyKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwcm9taXNlID0gc2VsZi5rZXlzKCkudGhlbihmdW5jdGlvbiAoa2V5cykge1xuICAgICAgICByZXR1cm4ga2V5cy5sZW5ndGg7XG4gICAgfSk7XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG4vLyBSZW1vdmUgYW4gaXRlbSBmcm9tIHRoZSBzdG9yZSwgbmljZSBhbmQgc2ltcGxlLlxuZnVuY3Rpb24gcmVtb3ZlSXRlbSQyKGtleSwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcblxuICAgIHZhciBwcm9taXNlID0gc2VsZi5yZWFkeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShkYkluZm8ua2V5UHJlZml4ICsga2V5KTtcbiAgICB9KTtcblxuICAgIGV4ZWN1dGVDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5cbi8vIFNldCBhIGtleSdzIHZhbHVlIGFuZCBydW4gYW4gb3B0aW9uYWwgY2FsbGJhY2sgb25jZSB0aGUgdmFsdWUgaXMgc2V0LlxuLy8gVW5saWtlIEdhaWEncyBpbXBsZW1lbnRhdGlvbiwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIHBhc3NlZCB0aGUgdmFsdWUsXG4vLyBpbiBjYXNlIHlvdSB3YW50IHRvIG9wZXJhdGUgb24gdGhhdCB2YWx1ZSBvbmx5IGFmdGVyIHlvdSdyZSBzdXJlIGl0XG4vLyBzYXZlZCwgb3Igc29tZXRoaW5nIGxpa2UgdGhhdC5cbmZ1bmN0aW9uIHNldEl0ZW0kMihrZXksIHZhbHVlLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuXG4gICAgdmFyIHByb21pc2UgPSBzZWxmLnJlYWR5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIENvbnZlcnQgdW5kZWZpbmVkIHZhbHVlcyB0byBudWxsLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9sb2NhbEZvcmFnZS9wdWxsLzQyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTYXZlIHRoZSBvcmlnaW5hbCB2YWx1ZSB0byBwYXNzIHRvIHRoZSBjYWxsYmFjay5cbiAgICAgICAgdmFyIG9yaWdpbmFsVmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UkMShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgZGJJbmZvID0gc2VsZi5fZGJJbmZvO1xuICAgICAgICAgICAgZGJJbmZvLnNlcmlhbGl6ZXIuc2VyaWFsaXplKHZhbHVlLCBmdW5jdGlvbiAodmFsdWUsIGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGRiSW5mby5rZXlQcmVmaXggKyBrZXksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUob3JpZ2luYWxWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvY2FsU3RvcmFnZSBjYXBhY2l0eSBleGNlZWRlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IE1ha2UgdGhpcyBhIHNwZWNpZmljIGVycm9yL2V2ZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUubmFtZSA9PT0gJ1F1b3RhRXhjZWVkZWRFcnJvcicgfHwgZS5uYW1lID09PSAnTlNfRVJST1JfRE9NX1FVT1RBX1JFQUNIRUQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gZHJvcEluc3RhbmNlJDIob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayA9IGdldENhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgICBvcHRpb25zID0gdHlwZW9mIG9wdGlvbnMgIT09ICdmdW5jdGlvbicgJiYgb3B0aW9ucyB8fCB7fTtcbiAgICBpZiAoIW9wdGlvbnMubmFtZSkge1xuICAgICAgICB2YXIgY3VycmVudENvbmZpZyA9IHRoaXMuY29uZmlnKCk7XG4gICAgICAgIG9wdGlvbnMubmFtZSA9IG9wdGlvbnMubmFtZSB8fCBjdXJyZW50Q29uZmlnLm5hbWU7XG4gICAgICAgIG9wdGlvbnMuc3RvcmVOYW1lID0gb3B0aW9ucy5zdG9yZU5hbWUgfHwgY3VycmVudENvbmZpZy5zdG9yZU5hbWU7XG4gICAgfVxuXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwcm9taXNlO1xuICAgIGlmICghb3B0aW9ucy5uYW1lKSB7XG4gICAgICAgIHByb21pc2UgPSBQcm9taXNlJDEucmVqZWN0KCdJbnZhbGlkIGFyZ3VtZW50cycpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHByb21pc2UgPSBuZXcgUHJvbWlzZSQxKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuc3RvcmVOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShvcHRpb25zLm5hbWUgKyAnLycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKF9nZXRLZXlQcmVmaXgob3B0aW9ucywgc2VsZi5fZGVmYXVsdENvbmZpZykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChrZXlQcmVmaXgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBsb2NhbFN0b3JhZ2UubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcblxuICAgICAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihrZXlQcmVmaXgpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBleGVjdXRlQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuXG52YXIgbG9jYWxTdG9yYWdlV3JhcHBlciA9IHtcbiAgICBfZHJpdmVyOiAnbG9jYWxTdG9yYWdlV3JhcHBlcicsXG4gICAgX2luaXRTdG9yYWdlOiBfaW5pdFN0b3JhZ2UkMixcbiAgICBfc3VwcG9ydDogaXNMb2NhbFN0b3JhZ2VWYWxpZCgpLFxuICAgIGl0ZXJhdGU6IGl0ZXJhdGUkMixcbiAgICBnZXRJdGVtOiBnZXRJdGVtJDIsXG4gICAgc2V0SXRlbTogc2V0SXRlbSQyLFxuICAgIHJlbW92ZUl0ZW06IHJlbW92ZUl0ZW0kMixcbiAgICBjbGVhcjogY2xlYXIkMixcbiAgICBsZW5ndGg6IGxlbmd0aCQyLFxuICAgIGtleToga2V5JDIsXG4gICAga2V5czoga2V5cyQyLFxuICAgIGRyb3BJbnN0YW5jZTogZHJvcEluc3RhbmNlJDJcbn07XG5cbnZhciBzYW1lVmFsdWUgPSBmdW5jdGlvbiBzYW1lVmFsdWUoeCwgeSkge1xuICAgIHJldHVybiB4ID09PSB5IHx8IHR5cGVvZiB4ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeSA9PT0gJ251bWJlcicgJiYgaXNOYU4oeCkgJiYgaXNOYU4oeSk7XG59O1xuXG52YXIgaW5jbHVkZXMgPSBmdW5jdGlvbiBpbmNsdWRlcyhhcnJheSwgc2VhcmNoRWxlbWVudCkge1xuICAgIHZhciBsZW4gPSBhcnJheS5sZW5ndGg7XG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgIGlmIChzYW1lVmFsdWUoYXJyYXlbaV0sIHNlYXJjaEVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpKys7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcmcpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuXG4vLyBEcml2ZXJzIGFyZSBzdG9yZWQgaGVyZSB3aGVuIGBkZWZpbmVEcml2ZXIoKWAgaXMgY2FsbGVkLlxuLy8gVGhleSBhcmUgc2hhcmVkIGFjcm9zcyBhbGwgaW5zdGFuY2VzIG9mIGxvY2FsRm9yYWdlLlxudmFyIERlZmluZWREcml2ZXJzID0ge307XG5cbnZhciBEcml2ZXJTdXBwb3J0ID0ge307XG5cbnZhciBEZWZhdWx0RHJpdmVycyA9IHtcbiAgICBJTkRFWEVEREI6IGFzeW5jU3RvcmFnZSxcbiAgICBXRUJTUUw6IHdlYlNRTFN0b3JhZ2UsXG4gICAgTE9DQUxTVE9SQUdFOiBsb2NhbFN0b3JhZ2VXcmFwcGVyXG59O1xuXG52YXIgRGVmYXVsdERyaXZlck9yZGVyID0gW0RlZmF1bHREcml2ZXJzLklOREVYRUREQi5fZHJpdmVyLCBEZWZhdWx0RHJpdmVycy5XRUJTUUwuX2RyaXZlciwgRGVmYXVsdERyaXZlcnMuTE9DQUxTVE9SQUdFLl9kcml2ZXJdO1xuXG52YXIgT3B0aW9uYWxEcml2ZXJNZXRob2RzID0gWydkcm9wSW5zdGFuY2UnXTtcblxudmFyIExpYnJhcnlNZXRob2RzID0gWydjbGVhcicsICdnZXRJdGVtJywgJ2l0ZXJhdGUnLCAna2V5JywgJ2tleXMnLCAnbGVuZ3RoJywgJ3JlbW92ZUl0ZW0nLCAnc2V0SXRlbSddLmNvbmNhdChPcHRpb25hbERyaXZlck1ldGhvZHMpO1xuXG52YXIgRGVmYXVsdENvbmZpZyA9IHtcbiAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgZHJpdmVyOiBEZWZhdWx0RHJpdmVyT3JkZXIuc2xpY2UoKSxcbiAgICBuYW1lOiAnbG9jYWxmb3JhZ2UnLFxuICAgIC8vIERlZmF1bHQgREIgc2l6ZSBpcyBfSlVTVCBVTkRFUl8gNU1CLCBhcyBpdCdzIHRoZSBoaWdoZXN0IHNpemVcbiAgICAvLyB3ZSBjYW4gdXNlIHdpdGhvdXQgYSBwcm9tcHQuXG4gICAgc2l6ZTogNDk4MDczNixcbiAgICBzdG9yZU5hbWU6ICdrZXl2YWx1ZXBhaXJzJyxcbiAgICB2ZXJzaW9uOiAxLjBcbn07XG5cbmZ1bmN0aW9uIGNhbGxXaGVuUmVhZHkobG9jYWxGb3JhZ2VJbnN0YW5jZSwgbGlicmFyeU1ldGhvZCkge1xuICAgIGxvY2FsRm9yYWdlSW5zdGFuY2VbbGlicmFyeU1ldGhvZF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgcmV0dXJuIGxvY2FsRm9yYWdlSW5zdGFuY2UucmVhZHkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbEZvcmFnZUluc3RhbmNlW2xpYnJhcnlNZXRob2RdLmFwcGx5KGxvY2FsRm9yYWdlSW5zdGFuY2UsIF9hcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZXh0ZW5kKCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhcmcgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgICAgZm9yICh2YXIgX2tleSBpbiBhcmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJnLmhhc093blByb3BlcnR5KF9rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0FycmF5KGFyZ1tfa2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c1swXVtfa2V5XSA9IGFyZ1tfa2V5XS5zbGljZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdW19rZXldID0gYXJnW19rZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbn1cblxudmFyIExvY2FsRm9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExvY2FsRm9yYWdlKG9wdGlvbnMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExvY2FsRm9yYWdlKTtcblxuICAgICAgICBmb3IgKHZhciBkcml2ZXJUeXBlS2V5IGluIERlZmF1bHREcml2ZXJzKSB7XG4gICAgICAgICAgICBpZiAoRGVmYXVsdERyaXZlcnMuaGFzT3duUHJvcGVydHkoZHJpdmVyVHlwZUtleSkpIHtcbiAgICAgICAgICAgICAgICB2YXIgZHJpdmVyID0gRGVmYXVsdERyaXZlcnNbZHJpdmVyVHlwZUtleV07XG4gICAgICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBkcml2ZXIuX2RyaXZlcjtcbiAgICAgICAgICAgICAgICB0aGlzW2RyaXZlclR5cGVLZXldID0gZHJpdmVyTmFtZTtcblxuICAgICAgICAgICAgICAgIGlmICghRGVmaW5lZERyaXZlcnNbZHJpdmVyTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgZG9uJ3QgbmVlZCB0byB3YWl0IGZvciB0aGUgcHJvbWlzZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIGRlZmF1bHQgZHJpdmVycyBjYW4gYmUgZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAvLyBpbiBhIGJsb2NraW5nIG1hbm5lclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmluZURyaXZlcihkcml2ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RlZmF1bHRDb25maWcgPSBleHRlbmQoe30sIERlZmF1bHRDb25maWcpO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBleHRlbmQoe30sIHRoaXMuX2RlZmF1bHRDb25maWcsIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9kcml2ZXJTZXQgPSBudWxsO1xuICAgICAgICB0aGlzLl9pbml0RHJpdmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fcmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZGJJbmZvID0gbnVsbDtcblxuICAgICAgICB0aGlzLl93cmFwTGlicmFyeU1ldGhvZHNXaXRoUmVhZHkoKTtcbiAgICAgICAgdGhpcy5zZXREcml2ZXIodGhpcy5fY29uZmlnLmRyaXZlcilbXCJjYXRjaFwiXShmdW5jdGlvbiAoKSB7fSk7XG4gICAgfVxuXG4gICAgLy8gU2V0IGFueSBjb25maWcgdmFsdWVzIGZvciBsb2NhbEZvcmFnZTsgY2FuIGJlIGNhbGxlZCBhbnl0aW1lIGJlZm9yZVxuICAgIC8vIHRoZSBmaXJzdCBBUEkgY2FsbCAoZS5nLiBgZ2V0SXRlbWAsIGBzZXRJdGVtYCkuXG4gICAgLy8gV2UgbG9vcCB0aHJvdWdoIG9wdGlvbnMgc28gd2UgZG9uJ3Qgb3ZlcndyaXRlIGV4aXN0aW5nIGNvbmZpZ1xuICAgIC8vIHZhbHVlcy5cblxuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmNvbmZpZyA9IGZ1bmN0aW9uIGNvbmZpZyhvcHRpb25zKSB7XG4gICAgICAgIC8vIElmIHRoZSBvcHRpb25zIGFyZ3VtZW50IGlzIGFuIG9iamVjdCwgd2UgdXNlIGl0IHRvIHNldCB2YWx1ZXMuXG4gICAgICAgIC8vIE90aGVyd2lzZSwgd2UgcmV0dXJuIGVpdGhlciBhIHNwZWNpZmllZCBjb25maWcgdmFsdWUgb3IgYWxsXG4gICAgICAgIC8vIGNvbmZpZyB2YWx1ZXMuXG4gICAgICAgIGlmICgodHlwZW9mIG9wdGlvbnMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG9wdGlvbnMpKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIC8vIElmIGxvY2FsZm9yYWdlIGlzIHJlYWR5IGFuZCBmdWxseSBpbml0aWFsaXplZCwgd2UgY2FuJ3Qgc2V0XG4gICAgICAgICAgICAvLyBhbnkgbmV3IGNvbmZpZ3VyYXRpb24gdmFsdWVzLiBJbnN0ZWFkLCB3ZSByZXR1cm4gYW4gZXJyb3IuXG4gICAgICAgICAgICBpZiAodGhpcy5fcmVhZHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKFwiQ2FuJ3QgY2FsbCBjb25maWcoKSBhZnRlciBsb2NhbGZvcmFnZSBcIiArICdoYXMgYmVlbiB1c2VkLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gJ3N0b3JlTmFtZScpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1tpXSA9IG9wdGlvbnNbaV0ucmVwbGFjZSgvXFxXL2csICdfJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09ICd2ZXJzaW9uJyAmJiB0eXBlb2Ygb3B0aW9uc1tpXSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignRGF0YWJhc2UgdmVyc2lvbiBtdXN0IGJlIGEgbnVtYmVyLicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX2NvbmZpZ1tpXSA9IG9wdGlvbnNbaV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFmdGVyIGFsbCBjb25maWcgb3B0aW9ucyBhcmUgc2V0IGFuZFxuICAgICAgICAgICAgLy8gdGhlIGRyaXZlciBvcHRpb24gaXMgdXNlZCwgdHJ5IHNldHRpbmcgaXRcbiAgICAgICAgICAgIGlmICgnZHJpdmVyJyBpbiBvcHRpb25zICYmIG9wdGlvbnMuZHJpdmVyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0RHJpdmVyKHRoaXMuX2NvbmZpZy5kcml2ZXIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25maWdbb3B0aW9uc107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29uZmlnO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFVzZWQgdG8gZGVmaW5lIGEgY3VzdG9tIGRyaXZlciwgc2hhcmVkIGFjcm9zcyBhbGwgaW5zdGFuY2VzIG9mXG4gICAgLy8gbG9jYWxGb3JhZ2UuXG5cblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5kZWZpbmVEcml2ZXIgPSBmdW5jdGlvbiBkZWZpbmVEcml2ZXIoZHJpdmVyT2JqZWN0LCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlJDEoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB2YXIgZHJpdmVyTmFtZSA9IGRyaXZlck9iamVjdC5fZHJpdmVyO1xuICAgICAgICAgICAgICAgIHZhciBjb21wbGlhbmNlRXJyb3IgPSBuZXcgRXJyb3IoJ0N1c3RvbSBkcml2ZXIgbm90IGNvbXBsaWFudDsgc2VlICcgKyAnaHR0cHM6Ly9tb3ppbGxhLmdpdGh1Yi5pby9sb2NhbEZvcmFnZS8jZGVmaW5lZHJpdmVyJyk7XG5cbiAgICAgICAgICAgICAgICAvLyBBIGRyaXZlciBuYW1lIHNob3VsZCBiZSBkZWZpbmVkIGFuZCBub3Qgb3ZlcmxhcCB3aXRoIHRoZVxuICAgICAgICAgICAgICAgIC8vIGxpYnJhcnktZGVmaW5lZCwgZGVmYXVsdCBkcml2ZXJzLlxuICAgICAgICAgICAgICAgIGlmICghZHJpdmVyT2JqZWN0Ll9kcml2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGNvbXBsaWFuY2VFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgZHJpdmVyTWV0aG9kcyA9IExpYnJhcnlNZXRob2RzLmNvbmNhdCgnX2luaXRTdG9yYWdlJyk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRyaXZlck1ldGhvZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyaXZlck1ldGhvZE5hbWUgPSBkcml2ZXJNZXRob2RzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIHByb3BlcnR5IGlzIHRoZXJlLFxuICAgICAgICAgICAgICAgICAgICAvLyBpdCBzaG91bGQgYmUgYSBtZXRob2QgZXZlbiB3aGVuIG9wdGlvbmFsXG4gICAgICAgICAgICAgICAgICAgIHZhciBpc1JlcXVpcmVkID0gIWluY2x1ZGVzKE9wdGlvbmFsRHJpdmVyTWV0aG9kcywgZHJpdmVyTWV0aG9kTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoaXNSZXF1aXJlZCB8fCBkcml2ZXJPYmplY3RbZHJpdmVyTWV0aG9kTmFtZV0pICYmIHR5cGVvZiBkcml2ZXJPYmplY3RbZHJpdmVyTWV0aG9kTmFtZV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChjb21wbGlhbmNlRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpZ3VyZU1pc3NpbmdNZXRob2RzID0gZnVuY3Rpb24gY29uZmlndXJlTWlzc2luZ01ldGhvZHMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXRob2ROb3RJbXBsZW1lbnRlZEZhY3RvcnkgPSBmdW5jdGlvbiBtZXRob2ROb3RJbXBsZW1lbnRlZEZhY3RvcnkobWV0aG9kTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ01ldGhvZCAnICsgbWV0aG9kTmFtZSArICcgaXMgbm90IGltcGxlbWVudGVkIGJ5IHRoZSBjdXJyZW50IGRyaXZlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gUHJvbWlzZSQxLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZUNhbGxiYWNrKHByb21pc2UsIGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9sZW4gPSBPcHRpb25hbERyaXZlck1ldGhvZHMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25hbERyaXZlck1ldGhvZCA9IE9wdGlvbmFsRHJpdmVyTWV0aG9kc1tfaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRyaXZlck9iamVjdFtvcHRpb25hbERyaXZlck1ldGhvZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcml2ZXJPYmplY3Rbb3B0aW9uYWxEcml2ZXJNZXRob2RdID0gbWV0aG9kTm90SW1wbGVtZW50ZWRGYWN0b3J5KG9wdGlvbmFsRHJpdmVyTWV0aG9kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBjb25maWd1cmVNaXNzaW5nTWV0aG9kcygpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHNldERyaXZlclN1cHBvcnQgPSBmdW5jdGlvbiBzZXREcml2ZXJTdXBwb3J0KHN1cHBvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKERlZmluZWREcml2ZXJzW2RyaXZlck5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ1JlZGVmaW5pbmcgTG9jYWxGb3JhZ2UgZHJpdmVyOiAnICsgZHJpdmVyTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgRGVmaW5lZERyaXZlcnNbZHJpdmVyTmFtZV0gPSBkcml2ZXJPYmplY3Q7XG4gICAgICAgICAgICAgICAgICAgIERyaXZlclN1cHBvcnRbZHJpdmVyTmFtZV0gPSBzdXBwb3J0O1xuICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCB1c2UgYSB0aGVuLCBzbyB0aGF0IHdlIGNhbiBkZWZpbmVcbiAgICAgICAgICAgICAgICAgICAgLy8gZHJpdmVycyB0aGF0IGhhdmUgc2ltcGxlIF9zdXBwb3J0IG1ldGhvZHNcbiAgICAgICAgICAgICAgICAgICAgLy8gaW4gYSBibG9ja2luZyBtYW5uZXJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAoJ19zdXBwb3J0JyBpbiBkcml2ZXJPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRyaXZlck9iamVjdC5fc3VwcG9ydCAmJiB0eXBlb2YgZHJpdmVyT2JqZWN0Ll9zdXBwb3J0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcml2ZXJPYmplY3QuX3N1cHBvcnQoKS50aGVuKHNldERyaXZlclN1cHBvcnQsIHJlamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXREcml2ZXJTdXBwb3J0KCEhZHJpdmVyT2JqZWN0Ll9zdXBwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNldERyaXZlclN1cHBvcnQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhlY3V0ZVR3b0NhbGxiYWNrcyhwcm9taXNlLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH07XG5cbiAgICBMb2NhbEZvcmFnZS5wcm90b3R5cGUuZHJpdmVyID0gZnVuY3Rpb24gZHJpdmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHJpdmVyIHx8IG51bGw7XG4gICAgfTtcblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5nZXREcml2ZXIgPSBmdW5jdGlvbiBnZXREcml2ZXIoZHJpdmVyTmFtZSwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGdldERyaXZlclByb21pc2UgPSBEZWZpbmVkRHJpdmVyc1tkcml2ZXJOYW1lXSA/IFByb21pc2UkMS5yZXNvbHZlKERlZmluZWREcml2ZXJzW2RyaXZlck5hbWVdKSA6IFByb21pc2UkMS5yZWplY3QobmV3IEVycm9yKCdEcml2ZXIgbm90IGZvdW5kLicpKTtcblxuICAgICAgICBleGVjdXRlVHdvQ2FsbGJhY2tzKGdldERyaXZlclByb21pc2UsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIGdldERyaXZlclByb21pc2U7XG4gICAgfTtcblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5nZXRTZXJpYWxpemVyID0gZnVuY3Rpb24gZ2V0U2VyaWFsaXplcihjYWxsYmFjaykge1xuICAgICAgICB2YXIgc2VyaWFsaXplclByb21pc2UgPSBQcm9taXNlJDEucmVzb2x2ZShsb2NhbGZvcmFnZVNlcmlhbGl6ZXIpO1xuICAgICAgICBleGVjdXRlVHdvQ2FsbGJhY2tzKHNlcmlhbGl6ZXJQcm9taXNlLCBjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiBzZXJpYWxpemVyUHJvbWlzZTtcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLnJlYWR5ID0gZnVuY3Rpb24gcmVhZHkoY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHZhciBwcm9taXNlID0gc2VsZi5fZHJpdmVyU2V0LnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHNlbGYuX3JlYWR5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fcmVhZHkgPSBzZWxmLl9pbml0RHJpdmVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9yZWFkeTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZXhlY3V0ZVR3b0NhbGxiYWNrcyhwcm9taXNlLCBjYWxsYmFjaywgY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLnNldERyaXZlciA9IGZ1bmN0aW9uIHNldERyaXZlcihkcml2ZXJzLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAgICAgaWYgKCFpc0FycmF5KGRyaXZlcnMpKSB7XG4gICAgICAgICAgICBkcml2ZXJzID0gW2RyaXZlcnNdO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN1cHBvcnRlZERyaXZlcnMgPSB0aGlzLl9nZXRTdXBwb3J0ZWREcml2ZXJzKGRyaXZlcnMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIHNldERyaXZlclRvQ29uZmlnKCkge1xuICAgICAgICAgICAgc2VsZi5fY29uZmlnLmRyaXZlciA9IHNlbGYuZHJpdmVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBleHRlbmRTZWxmV2l0aERyaXZlcihkcml2ZXIpIHtcbiAgICAgICAgICAgIHNlbGYuX2V4dGVuZChkcml2ZXIpO1xuICAgICAgICAgICAgc2V0RHJpdmVyVG9Db25maWcoKTtcblxuICAgICAgICAgICAgc2VsZi5fcmVhZHkgPSBzZWxmLl9pbml0U3RvcmFnZShzZWxmLl9jb25maWcpO1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3JlYWR5O1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gaW5pdERyaXZlcihzdXBwb3J0ZWREcml2ZXJzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RHJpdmVySW5kZXggPSAwO1xuXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZHJpdmVyUHJvbWlzZUxvb3AoKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50RHJpdmVySW5kZXggPCBzdXBwb3J0ZWREcml2ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBzdXBwb3J0ZWREcml2ZXJzW2N1cnJlbnREcml2ZXJJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50RHJpdmVySW5kZXgrKztcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZGJJbmZvID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3JlYWR5ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0RHJpdmVyKGRyaXZlck5hbWUpLnRoZW4oZXh0ZW5kU2VsZldpdGhEcml2ZXIpW1wiY2F0Y2hcIl0oZHJpdmVyUHJvbWlzZUxvb3ApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0RHJpdmVyVG9Db25maWcoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCdObyBhdmFpbGFibGUgc3RvcmFnZSBtZXRob2QgZm91bmQuJyk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2RyaXZlclNldCA9IFByb21pc2UkMS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fZHJpdmVyU2V0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBkcml2ZXJQcm9taXNlTG9vcCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZXJlIG1pZ2h0IGJlIGEgZHJpdmVyIGluaXRpYWxpemF0aW9uIGluIHByb2dyZXNzXG4gICAgICAgIC8vIHNvIHdhaXQgZm9yIGl0IHRvIGZpbmlzaCBpbiBvcmRlciB0byBhdm9pZCBhIHBvc3NpYmxlXG4gICAgICAgIC8vIHJhY2UgY29uZGl0aW9uIHRvIHNldCBfZGJJbmZvXG4gICAgICAgIHZhciBvbGREcml2ZXJTZXREb25lID0gdGhpcy5fZHJpdmVyU2V0ICE9PSBudWxsID8gdGhpcy5fZHJpdmVyU2V0W1wiY2F0Y2hcIl0oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UkMS5yZXNvbHZlKCk7XG4gICAgICAgIH0pIDogUHJvbWlzZSQxLnJlc29sdmUoKTtcblxuICAgICAgICB0aGlzLl9kcml2ZXJTZXQgPSBvbGREcml2ZXJTZXREb25lLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBzdXBwb3J0ZWREcml2ZXJzWzBdO1xuICAgICAgICAgICAgc2VsZi5fZGJJbmZvID0gbnVsbDtcbiAgICAgICAgICAgIHNlbGYuX3JlYWR5ID0gbnVsbDtcblxuICAgICAgICAgICAgcmV0dXJuIHNlbGYuZ2V0RHJpdmVyKGRyaXZlck5hbWUpLnRoZW4oZnVuY3Rpb24gKGRyaXZlcikge1xuICAgICAgICAgICAgICAgIHNlbGYuX2RyaXZlciA9IGRyaXZlci5fZHJpdmVyO1xuICAgICAgICAgICAgICAgIHNldERyaXZlclRvQ29uZmlnKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5fd3JhcExpYnJhcnlNZXRob2RzV2l0aFJlYWR5KCk7XG4gICAgICAgICAgICAgICAgc2VsZi5faW5pdERyaXZlciA9IGluaXREcml2ZXIoc3VwcG9ydGVkRHJpdmVycyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlbXCJjYXRjaFwiXShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXREcml2ZXJUb0NvbmZpZygpO1xuICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKCdObyBhdmFpbGFibGUgc3RvcmFnZSBtZXRob2QgZm91bmQuJyk7XG4gICAgICAgICAgICBzZWxmLl9kcml2ZXJTZXQgPSBQcm9taXNlJDEucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLl9kcml2ZXJTZXQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGV4ZWN1dGVUd29DYWxsYmFja3ModGhpcy5fZHJpdmVyU2V0LCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgIHJldHVybiB0aGlzLl9kcml2ZXJTZXQ7XG4gICAgfTtcblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5zdXBwb3J0cyA9IGZ1bmN0aW9uIHN1cHBvcnRzKGRyaXZlck5hbWUpIHtcbiAgICAgICAgcmV0dXJuICEhRHJpdmVyU3VwcG9ydFtkcml2ZXJOYW1lXTtcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLl9leHRlbmQgPSBmdW5jdGlvbiBfZXh0ZW5kKGxpYnJhcnlNZXRob2RzQW5kUHJvcGVydGllcykge1xuICAgICAgICBleHRlbmQodGhpcywgbGlicmFyeU1ldGhvZHNBbmRQcm9wZXJ0aWVzKTtcbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLl9nZXRTdXBwb3J0ZWREcml2ZXJzID0gZnVuY3Rpb24gX2dldFN1cHBvcnRlZERyaXZlcnMoZHJpdmVycykge1xuICAgICAgICB2YXIgc3VwcG9ydGVkRHJpdmVycyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZHJpdmVycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGRyaXZlck5hbWUgPSBkcml2ZXJzW2ldO1xuICAgICAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHMoZHJpdmVyTmFtZSkpIHtcbiAgICAgICAgICAgICAgICBzdXBwb3J0ZWREcml2ZXJzLnB1c2goZHJpdmVyTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cHBvcnRlZERyaXZlcnM7XG4gICAgfTtcblxuICAgIExvY2FsRm9yYWdlLnByb3RvdHlwZS5fd3JhcExpYnJhcnlNZXRob2RzV2l0aFJlYWR5ID0gZnVuY3Rpb24gX3dyYXBMaWJyYXJ5TWV0aG9kc1dpdGhSZWFkeSgpIHtcbiAgICAgICAgLy8gQWRkIGEgc3R1YiBmb3IgZWFjaCBkcml2ZXIgQVBJIG1ldGhvZCB0aGF0IGRlbGF5cyB0aGUgY2FsbCB0byB0aGVcbiAgICAgICAgLy8gY29ycmVzcG9uZGluZyBkcml2ZXIgbWV0aG9kIHVudGlsIGxvY2FsRm9yYWdlIGlzIHJlYWR5LiBUaGVzZSBzdHVic1xuICAgICAgICAvLyB3aWxsIGJlIHJlcGxhY2VkIGJ5IHRoZSBkcml2ZXIgbWV0aG9kcyBhcyBzb29uIGFzIHRoZSBkcml2ZXIgaXNcbiAgICAgICAgLy8gbG9hZGVkLCBzbyB0aGVyZSBpcyBubyBwZXJmb3JtYW5jZSBpbXBhY3QuXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBMaWJyYXJ5TWV0aG9kcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY2FsbFdoZW5SZWFkeSh0aGlzLCBMaWJyYXJ5TWV0aG9kc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgTG9jYWxGb3JhZ2UucHJvdG90eXBlLmNyZWF0ZUluc3RhbmNlID0gZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2Uob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gbmV3IExvY2FsRm9yYWdlKG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gTG9jYWxGb3JhZ2U7XG59KCk7XG5cbi8vIFRoZSBhY3R1YWwgbG9jYWxGb3JhZ2Ugb2JqZWN0IHRoYXQgd2UgZXhwb3NlIGFzIGEgbW9kdWxlIG9yIHZpYSBhXG4vLyBnbG9iYWwuIEl0J3MgZXh0ZW5kZWQgYnkgcHVsbGluZyBpbiBvbmUgb2Ygb3VyIG90aGVyIGxpYnJhcmllcy5cblxuXG52YXIgbG9jYWxmb3JhZ2VfanMgPSBuZXcgTG9jYWxGb3JhZ2UoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBsb2NhbGZvcmFnZV9qcztcblxufSx7XCIzXCI6M31dfSx7fSxbNF0pKDQpXG59KTtcbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImltcG9ydCB7IFN0b3JhZ2UgfSBmcm9tICcuLi8uLi9zdG9yYWdlJztcblxuZXhwb3J0IGNsYXNzIEdhbWVTdGF0ZSB7XG4gIGhpZ2hTY29yZTogbnVtYmVyO1xuICBvbGRIaWdoU2NvcmU6IG51bWJlcjtcbiAgaXNQbGF5aW5nOiBib29sZWFuID0gdHJ1ZTtcbiAgc2NvcmU6IG51bWJlciA9IDA7XG5cbiAgcHJpdmF0ZSBhY3R1YWxTY29yZTogbnVtYmVyID0gMDtcbiAgcHJpdmF0ZSBwb2ludHM6IG51bWJlciA9IDIwO1xuICBwcml2YXRlIHN0b3JhZ2VLZXk6IHN0cmluZyA9ICdzbmFrZUhpZ2hTY29yZSc7XG5cbiAgY29uc3RydWN0b3IocHVibGljIHN0b3JhZ2U6IFN0b3JhZ2UpIHtcbiAgICB0aGlzLmdldFN0b3JlZFNjb3JlKCk7XG4gIH1cblxuICBhZGRQb2ludHMoZWw6IEVsZW1lbnQpIHtcbiAgICB0aGlzLmFjdHVhbFNjb3JlICs9IHRoaXMucG9pbnRzO1xuICAgIHRoaXMuaW5jcmVtZW50U2NvcmUoZWwpO1xuICB9XG5cbiAgZ2FtZU92ZXIoKSB7XG4gICAgdGhpcy5pc1BsYXlpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnVwZGF0ZUhpZ2hTY29yZSh0aGlzLmFjdHVhbFNjb3JlKTtcbiAgfVxuXG4gIGluY3JlbWVudFNjb3JlKGVsOiBFbGVtZW50KTogdm9pZCB7XG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zY29yZSA8IHRoaXMuYWN0dWFsU2NvcmUpIHtcbiAgICAgICAgdGhpcy5zY29yZSsrO1xuICAgICAgICB0aGlzLnVwZGF0ZVNjb3JlKGVsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgfVxuICAgIH0sIDUwKTtcbiAgfVxuXG4gIHJlc2V0KGVsOiBFbGVtZW50KSB7XG4gICAgdGhpcy5hY3R1YWxTY29yZSA9IDA7XG4gICAgdGhpcy5zY29yZSA9IDA7XG4gICAgdGhpcy51cGRhdGVTY29yZShlbCk7XG4gIH1cblxuICBzdGFydEdhbWUoKSB7XG4gICAgdGhpcy5pc1BsYXlpbmcgPSB0cnVlO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTdG9yZWRTY29yZSgpIHtcbiAgICBpZiAodGhpcy5zdG9yYWdlLmlzUmVhZHkpIHtcbiAgICAgIHRoaXMuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSkudGhlbihzY29yZSA9PiB7XG4gICAgICAgIHRoaXMuaGlnaFNjb3JlID0gc2NvcmU7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmdldFN0b3JlZFNjb3JlKCksIDUwMCk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBpc0hpZ2hlcihudW06IG51bWJlcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBudW0gPiB0aGlzLmhpZ2hTY29yZTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlSGlnaFNjb3JlKG51bTogbnVtYmVyKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuaXNIaWdoZXIobnVtKSkge1xuICAgICAgdGhpcy5vbGRIaWdoU2NvcmUgPSB0aGlzLmhpZ2hTY29yZTtcbiAgICAgIHRoaXMuaGlnaFNjb3JlID0gbnVtO1xuICAgICAgdGhpcy51cGRhdGVTdG9yYWdlKG51bSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVTY29yZShlbDogRWxlbWVudCk6IHZvaWQge1xuICAgIGVsLmlubmVySFRNTCA9IHRoaXMuc2NvcmUudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHByaXZhdGUgdXBkYXRlU3RvcmFnZShudW06IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuc3RvcmFnZVxuICAgICAgLnJlbW92ZSh0aGlzLnN0b3JhZ2VLZXkpXG4gICAgICAudGhlbigoKSA9PiB0aGlzLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksIG51bSkpO1xuICB9XG59XG4iLCJpbnRlcmZhY2UgS2V5cyB7XG4gIFtrZXk6IHN0cmluZ106IGJvb2xlYW47XG4gIEFycm93VXA6IGJvb2xlYW47XG4gIEFycm93RG93bjogYm9vbGVhbjtcbiAgQXJyb3dSaWdodDogYm9vbGVhbjtcbiAgQXJyb3dMZWZ0OiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgQ29udHJvbGxlciB7XG4gIHByaXZhdGUga2V5czogS2V5cyA9IHtcbiAgICBBcnJvd1VwOiBmYWxzZSxcbiAgICBBcnJvd0Rvd246IGZhbHNlLFxuICAgIEFycm93UmlnaHQ6IGZhbHNlLFxuICAgIEFycm93TGVmdDogZmFsc2VcbiAgfTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZSA9PiB0aGlzLm9uS2V5RG93bihlKSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBlID0+IHRoaXMub25LZXlVcChlKSk7XG4gIH1cblxuICBnZXQgdXAoKSB7XG4gICAgcmV0dXJuIHRoaXMua2V5cy5BcnJvd1VwO1xuICB9XG5cbiAgZ2V0IGRvd24oKSB7XG4gICAgcmV0dXJuIHRoaXMua2V5cy5BcnJvd0Rvd247XG4gIH1cblxuICBnZXQgcmlnaHQoKSB7XG4gICAgcmV0dXJuIHRoaXMua2V5cy5BcnJvd1JpZ2h0O1xuICB9XG5cbiAgZ2V0IGxlZnQoKSB7XG4gICAgcmV0dXJuIHRoaXMua2V5cy5BcnJvd0xlZnQ7XG4gIH1cblxuICBvbktleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICB0aGlzLmtleXNbZXZlbnQua2V5XSA9IHRydWU7XG4gIH1cblxuICBvbktleVVwKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgdGhpcy5rZXlzW2V2ZW50LmtleV0gPSBmYWxzZTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIENhbnZhcyB7XG4gIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcblxuICBwcml2YXRlIHg6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgeTogbnVtYmVyID0gMDtcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgY29sb3I/OiBzdHJpbmcpIHtcbiAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjg7XG4gICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5oZWlnaHQ7XG5cbiAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjg7XG4gICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzLmhlaWdodDtcbiAgICB9KTtcbiAgfVxuXG4gIHNldCBiYWNrZ3JvdW5kKGNvbG9yKSB7XG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICB9XG5cbiAgcmVuZGVyKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XG4gICAgdGhpcy5jYW52YXMuaWQgPSAnY2FudmFzJztcblxuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yIHx8ICd0cmFuc3BhcmVudCc7XG4gICAgY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEdyaWQge1xuICBtYXA6IEFycmF5PG51bWJlcltdPiA9IFtdO1xuICB3aWR0aDogbnVtYmVyO1xuXG4gIHByaXZhdGUgYmFja2dyb3VuZDogc3RyaW5nO1xuICBwcml2YXRlIHNuYWtlOiBzdHJpbmc7XG4gIHByaXZhdGUgYXBwbGU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihwdWJsaWMgY29sc0FuZFJvd3M6IG51bWJlciwgcHVibGljIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XG4gICAgdGhpcy53aWR0aCA9IGN0eC5jYW52YXMud2lkdGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb2xzQW5kUm93czsgaSsrKSB7XG4gICAgICB0aGlzLm1hcFtpXSA9IG5ldyBBcnJheShjb2xzQW5kUm93cykuZmlsbCgwKTtcbiAgICB9XG4gIH1cblxuICBnZXQgY29scygpIHtcbiAgICByZXR1cm4gdGhpcy5jb2xzQW5kUm93cztcbiAgfVxuXG4gIGdldCByb3dzKCkge1xuICAgIHJldHVybiB0aGlzLmNvbHNBbmRSb3dzO1xuICB9XG5cbiAgZ2V0IHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMud2lkdGggLyB0aGlzLmNvbHNBbmRSb3dzO1xuICB9XG5cbiAgc2V0IGNvbG9ycyh7IC4uLmFyZ3MgfSkge1xuICAgIHRoaXMuYmFja2dyb3VuZCA9IGFyZ3MuZGFyaztcbiAgICB0aGlzLnNuYWtlID0gYXJncy5saWdodDtcbiAgICB0aGlzLmFwcGxlID0gYXJncy5hcHBsZTtcbiAgfVxuXG4gIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xuICAgIGNvbnN0IHNpemUgPSB0aGlzLnNpemU7XG4gICAgY29uc3QgbWFwID0gWy4uLnRoaXMubWFwXTtcblxuICAgIGZvciAobGV0IGNvbCA9IDA7IGNvbCA8IHRoaXMuY29sczsgY29sKyspIHtcbiAgICAgIGZvciAobGV0IHJvdyA9IDA7IHJvdyA8IHRoaXMucm93czsgcm93KyspIHtcbiAgICAgICAgaWYgKG1hcFtjb2xdW3Jvd10gPT09IDApIHtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5iYWNrZ3JvdW5kO1xuICAgICAgICAgIGN0eC5maWxsUmVjdChjb2wgKiBzaXplLCByb3cgKiBzaXplLCBzaXplLCBzaXplKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1hcFtjb2xdW3Jvd10gPT09IDEpIHtcbiAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5zbmFrZTtcbiAgICAgICAgICBjdHguZmlsbFJlY3QoY29sICogc2l6ZSArIDEsIHJvdyAqIHNpemUgKyAxLCBzaXplIC0gMiwgc2l6ZSAtIDIpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubWFwW2NvbF1bcm93XSA9PT0gMikge1xuICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmFwcGxlO1xuICAgICAgICAgIGN0eC5maWxsUmVjdChjb2wgKiBzaXplICsgMiwgcm93ICogc2l6ZSArIDIsIHNpemUgLSA0LCBzaXplIC0gNCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm1hcCA9IG1hcDtcbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgIHRoaXMubWFwID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNvbHNBbmRSb3dzOyBpKyspIHtcbiAgICAgIHRoaXMubWFwW2ldID0gbmV3IEFycmF5KHRoaXMuY29sc0FuZFJvd3MpLmZpbGwoMCk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlV2lkdGgoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCkge1xuICAgIHRoaXMud2lkdGggPSBjYW52YXMud2lkdGg7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBTbmFrZSB7XG4gIGJvZHk6IEFycmF5PG51bWJlcltdPjtcbiAgaGVhZDogbnVtYmVyW107XG4gIHRhaWw6IG51bWJlcltdO1xuXG4gIHByaXZhdGUgdmVsb2NpdHlYOiBudW1iZXIgPSAxO1xuICBwcml2YXRlIHZlbG9jaXR5WTogbnVtYmVyID0gMTtcbiAgcHJpdmF0ZSBib2R5U3RhcnQ6IEFycmF5PG51bWJlcltdPiA9IFtbMTAsIDEwXSwgWzksIDEwXV07XG5cbiAgcHJpdmF0ZSBkaXIgPSB7XG4gICAgdXA6IGZhbHNlLFxuICAgIGRvd246IGZhbHNlLFxuICAgIGxlZnQ6IGZhbHNlLFxuICAgIHJpZ2h0OiB0cnVlXG4gIH07XG5cbiAgY29uc3RydWN0b3IocHVibGljIHNpemU6IG51bWJlcikge1xuICAgIHRoaXMuaGVhZCA9IHRoaXMuYm9keVN0YXJ0WzBdO1xuICAgIHRoaXMudGFpbCA9IHRoaXMuYm9keVN0YXJ0WzFdO1xuICAgIHRoaXMuYm9keSA9IHRoaXMuYm9keVN0YXJ0O1xuICB9XG5cbiAgZGVhdGgoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZWF0KCkge1xuICAgIHRoaXMuYm9keSA9IFsuLi50aGlzLmJvZHksIHRoaXMudGFpbF07XG4gIH1cblxuICBzZXREaXIoY29udHJvbGxlcikge1xuICAgIGlmIChjb250cm9sbGVyLnVwICYmICF0aGlzLmRpci5kb3duKSB7XG4gICAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigndXAnKTtcbiAgICB9XG5cbiAgICBpZiAoY29udHJvbGxlci5kb3duICYmICF0aGlzLmRpci51cCkge1xuICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oJ2Rvd24nKTtcbiAgICB9XG5cbiAgICBpZiAoY29udHJvbGxlci5yaWdodCAmJiAhdGhpcy5kaXIubGVmdCkge1xuICAgICAgdGhpcy5jaGFuZ2VEaXJlY3Rpb24oJ3JpZ2h0Jyk7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRyb2xsZXIubGVmdCAmJiAhdGhpcy5kaXIucmlnaHQpIHtcbiAgICAgIHRoaXMuY2hhbmdlRGlyZWN0aW9uKCdsZWZ0Jyk7XG4gICAgfVxuICB9XG5cbiAgbW92ZSgpIHtcbiAgICBsZXQgbmV3Qm9keTtcbiAgICBsZXQgbmV3SGVhZDtcblxuICAgIGlmICh0aGlzLmRpci51cCkge1xuICAgICAgbmV3Qm9keSA9IFsuLi50aGlzLmJvZHldO1xuICAgICAgbmV3SGVhZCA9IFsuLi50aGlzLmhlYWRdO1xuICAgICAgbmV3SGVhZFsxXSAtPSB0aGlzLnZlbG9jaXR5WTtcbiAgICAgIHRoaXMuaGVhZCA9IFsuLi5uZXdIZWFkXTtcbiAgICAgIHRoaXMudGFpbCA9IG5ld0JvZHkucG9wKCk7XG4gICAgICB0aGlzLmJvZHkgPSBbdGhpcy5oZWFkLCAuLi5uZXdCb2R5XTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kaXIuZG93bikge1xuICAgICAgbmV3Qm9keSA9IFsuLi50aGlzLmJvZHldO1xuICAgICAgdGhpcy50YWlsID0gbmV3Qm9keS5wb3AoKTtcbiAgICAgIG5ld0hlYWQgPSBbLi4udGhpcy5oZWFkXTtcbiAgICAgIG5ld0hlYWRbMV0gKz0gdGhpcy52ZWxvY2l0eVk7XG4gICAgICB0aGlzLmhlYWQgPSBbLi4ubmV3SGVhZF07XG4gICAgICB0aGlzLmJvZHkgPSBbdGhpcy5oZWFkLCAuLi5uZXdCb2R5XTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kaXIucmlnaHQpIHtcbiAgICAgIG5ld0JvZHkgPSBbLi4udGhpcy5ib2R5XTtcbiAgICAgIHRoaXMudGFpbCA9IG5ld0JvZHkucG9wKCk7XG4gICAgICBuZXdIZWFkID0gWy4uLnRoaXMuaGVhZF07XG4gICAgICBuZXdIZWFkWzBdICs9IHRoaXMudmVsb2NpdHlYO1xuICAgICAgdGhpcy5oZWFkID0gWy4uLm5ld0hlYWRdO1xuICAgICAgdGhpcy5ib2R5ID0gW3RoaXMuaGVhZCwgLi4ubmV3Qm9keV07XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuZGlyLmxlZnQpIHtcbiAgICAgIG5ld0JvZHkgPSBbLi4udGhpcy5ib2R5XTtcbiAgICAgIHRoaXMudGFpbCA9IG5ld0JvZHkucG9wKCk7XG4gICAgICBuZXdIZWFkID0gWy4uLnRoaXMuaGVhZF07XG4gICAgICBuZXdIZWFkWzBdIC09IHRoaXMudmVsb2NpdHlYO1xuICAgICAgdGhpcy5oZWFkID0gWy4uLm5ld0hlYWRdO1xuICAgICAgdGhpcy5ib2R5ID0gW3RoaXMuaGVhZCwgLi4ubmV3Qm9keV07XG4gICAgfVxuICB9XG5cbiAgY2hhbmdlRGlyZWN0aW9uKGRpcmVjdGlvbjogc3RyaW5nKTogdm9pZCB7XG4gICAgT2JqZWN0LmtleXModGhpcy5kaXIpLm1hcChrZXkgPT4ge1xuICAgICAga2V5ID09PSBkaXJlY3Rpb24gPyAodGhpcy5kaXJbZGlyZWN0aW9uXSA9IHRydWUpIDogKHRoaXMuZGlyW2tleV0gPSBmYWxzZSk7XG4gICAgfSk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLmhlYWQgPSB0aGlzLmJvZHlTdGFydFswXTtcbiAgICB0aGlzLnRhaWwgPSB0aGlzLmJvZHlTdGFydFsxXTtcbiAgICB0aGlzLmJvZHkgPSB0aGlzLmJvZHlTdGFydDtcbiAgICB0aGlzLmNoYW5nZURpcmVjdGlvbigncmlnaHQnKTtcbiAgfVxuXG4gIGdldCBkaXJlY3Rpb24oKSB7XG4gICAgbGV0IGRpcmVjdGlvbjtcblxuICAgIE9iamVjdC5rZXlzKHRoaXMuZGlyKS5maWx0ZXIoa2V5ID0+IHtcbiAgICAgIGlmICh0aGlzLmRpcltrZXldID09PSB0cnVlKSB7XG4gICAgICAgIGRpcmVjdGlvbiA9IHRoaXMuZGlyW2tleV07XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGlyZWN0aW9uO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQXBwbGUge1xuICBwdWJsaWMgc3RhdGljIGFkZEFwcGxlKGFycmF5OiBBcnJheTxhbnk+KTogbnVtYmVyW10ge1xuICAgIGNvbnN0IGNvbDogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjApO1xuICAgIGNvbnN0IHJvdzogbnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjApO1xuICAgIGNvbnN0IGFwcGxlID0gW2NvbCwgcm93XTtcblxuICAgIGlmIChhcnJheVthcHBsZVswXV1bYXBwbGVbMV1dID09PSAxKSB7XG4gICAgICBjb25zb2xlLmxvZygnYXBwbGUgaGl0IHNuYWtlJyk7XG4gICAgICByZXR1cm4gdGhpcy5hZGRBcHBsZShhcnJheSk7XG4gICAgfSBlbHNlIGlmICgoY29sIHx8IHJvdykgPj0gMjApIHtcbiAgICAgIHJldHVybiB0aGlzLmFkZEFwcGxlKGFycmF5KTtcbiAgICB9XG5cbiAgICBhcnJheVthcHBsZVswXV1bYXBwbGVbMV1dID0gMjtcbiAgICByZXR1cm4gYXBwbGU7XG4gIH1cbn1cbiIsImltcG9ydCBsb2NhbEZvcmFnZSBmcm9tICdsb2NhbGZvcmFnZSc7XG5cbmV4cG9ydCBjbGFzcyBTdG9yYWdlIHtcbiAgaXNSZWFkeTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIHByaXZhdGUgY29uZmlnOiBMb2NhbEZvcmFnZU9wdGlvbnMgPSB7XG4gICAgbmFtZTogJ1NuYWtlJyxcbiAgICB2ZXJzaW9uOiAxLjAsXG4gICAgc3RvcmVOYW1lOiBudWxsXG4gIH07XG5cbiAgcHJpdmF0ZSBzdG9yYWdlOiBMb2NhbEZvcmFnZSA9IGxvY2FsRm9yYWdlO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX25hbWU6IHN0cmluZykge1xuICAgIHRoaXMuY29uZmlnLnN0b3JlTmFtZSA9IF9uYW1lO1xuICB9XG5cbiAgc2V0SXRlbShrZXksIHZhbHVlKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG4gIH1cblxuICBnZXRJdGVtKGtleSk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gIH1cblxuICByZW1vdmUoa2V5KTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgfVxuXG4gIGtleXMoKTogUHJvbWlzZTxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmtleXMoKTtcbiAgfVxuXG4gIGFsbCgpOiBQcm9taXNlPGFueVtdPiB7XG4gICAgY29uc3Qgc3RvcmUgPSBbXTtcblxuICAgIHJldHVybiB0aGlzLnN0b3JhZ2VcbiAgICAgIC5pdGVyYXRlKHZhbHVlID0+IHtcbiAgICAgICAgc3RvcmUucHVzaCh2YWx1ZSk7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCkgPT4gc3RvcmUpO1xuICB9XG5cbiAgc2V0dXAoKTogdm9pZCB7XG4gICAgdGhpcy5zdG9yYWdlLmNvbmZpZyh0aGlzLmNvbmZpZyk7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcy5zdG9yYWdlXG4gICAgICAgIC5yZWFkeSgpXG4gICAgICAgIC50aGVuKCgpID0+IHRoaXMuc3RvcmFnZS5zZXREcml2ZXIodGhpcy5zdG9yYWdlLklOREVYRUREQikpXG4gICAgICAgIC50aGVuKCgpID0+ICh0aGlzLmlzUmVhZHkgPSB0cnVlKSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgICB0aHJvdyBFcnJvcignQ291bGQgbm90IGluaXRpYWxpemUgc3RvcmFnZScpO1xuICAgICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICB9XG4gIH1cbn1cbiIsImV4cG9ydCBpbnRlcmZhY2UgVGhlbWUge1xuICBuYW1lOiBzdHJpbmc7XG4gIGRhcms6IHN0cmluZztcbiAgbGlnaHQ6IHN0cmluZztcbiAgYXBwbGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IGdyZWVuID0ge1xuICBuYW1lOiAnZ3JlZW4nLFxuICBkYXJrOiAnIzAwMjAxMScsXG4gIGxpZ2h0OiAnIzAwN0EzRicsXG4gIGFwcGxlOiAnI0FGMkQwMCdcbn07XG5cbmV4cG9ydCBjb25zdCBibHVlID0ge1xuICBuYW1lOiAnYmx1ZScsXG4gIGRhcms6ICcjMDAxMjFFJyxcbiAgbGlnaHQ6ICcjMDI0NTcwJyxcbiAgYXBwbGU6ICcjQUYyRDAwJ1xufTtcblxuZXhwb3J0IGNvbnN0IHB1cnBsZSA9IHtcbiAgbmFtZTogJ3B1cnBsZScsXG4gIGRhcms6ICcjMTYwMDFGJyxcbiAgbGlnaHQ6ICcjNTMwMTc0JyxcbiAgYXBwbGU6ICcjQTRBRDAwJ1xufTtcblxuZXhwb3J0IGNvbnN0IGFkZFRoZW1lcyA9IChlbDogSFRNTEVsZW1lbnQsIGxpc3RlbmVyLCAuLi50aGVtZXMpID0+IHtcbiAgdGhlbWVzLmZvckVhY2godGhlbWUgPT4ge1xuICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgZGl2LnN0eWxlLmJhY2tncm91bmQgPSB0aGVtZS5saWdodDtcbiAgICBkaXYuc3R5bGUud2lkdGggPSAnMjVweCc7XG4gICAgZGl2LnNldEF0dHJpYnV0ZSgnbmFtZScsIHRoZW1lLm5hbWUpO1xuICAgIGRpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGxpc3RlbmVyKHRoZW1lKSk7XG5cbiAgICBlbC5hcHBlbmRDaGlsZChkaXYpO1xuICB9KTtcbn07XG4iLCJpbXBvcnQgeyBHYW1lU3RhdGUgfSBmcm9tICcuL2dhbWUvZ2FtZS1zdGF0ZS9nYW1lLXN0YXRlJztcbmltcG9ydCB7IENvbnRyb2xsZXIgfSBmcm9tICcuL2NvbnRyb2xsZXIvY29udHJvbGxlcic7XG5pbXBvcnQgeyBDYW52YXMsIEdyaWQsIFNuYWtlLCBBcHBsZSB9IGZyb20gJy4vZ2FtZSc7XG5pbXBvcnQgeyBTdG9yYWdlIH0gZnJvbSAnLi9zdG9yYWdlJztcbmltcG9ydCB7IGJsdWUsIGdyZWVuLCBwdXJwbGUsIGFkZFRoZW1lcywgVGhlbWUgfSBmcm9tICcuL3RoZW1lcyc7XG5cbmNvbnN0IHN0b3JhZ2UgPSBuZXcgU3RvcmFnZSgnX19zbmFrZV9nYW1lJyk7XG5jb25zdCBjID0gbmV3IENhbnZhcyhibHVlLmRhcmspO1xuXG5jb25zdCBjdHggPSBjLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuY29uc3QgY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKCk7XG5jb25zdCBzdGF0ZSA9IG5ldyBHYW1lU3RhdGUoc3RvcmFnZSk7XG5jb25zdCBjb2xzID0gMjA7XG5jb25zdCBtYXhUaW1lU3RlcCA9IDQ7XG5jb25zdCBzdGFydGluZ1RpbWVTdGVwID0gMzA7XG5cbmxldCBnYW1lVGltZSA9IDA7XG5sZXQgZnBzID0gc3RhcnRpbmdUaW1lU3RlcDtcbmxldCB0aW1lU3RlcCA9IDEwMDAgLyBmcHM7XG5sZXQgYXBwbGU6IG51bWJlcltdO1xubGV0IHNjb3JlOiBIVE1MRWxlbWVudDtcbmxldCBtZW51OiBIVE1MRWxlbWVudDtcbmxldCBzdGFydEJ0bjogSFRNTEVsZW1lbnQ7XG5sZXQgc2V0dGluZ3M6IEhUTUxFbGVtZW50O1xubGV0IGhpZ2hTY29yZTogSFRNTEVsZW1lbnQ7XG5sZXQgbG9vcDtcblxuY29uc3QgZ3JpZCA9IG5ldyBHcmlkKGNvbHMsIGN0eCk7XG5jb25zdCBzbmFrZSA9IG5ldyBTbmFrZShncmlkLnNpemUpO1xuXG5jb25zdCBkcmF3ID0gKCkgPT4ge1xuICBjLnJlbmRlcihjdHgpO1xuICBncmlkLnJlbmRlcihjdHgpO1xufTtcblxuY29uc3QgdXBkYXRlVGltZVN0ZXAgPSBmcHMgPT4ge1xuICBpZiAodGltZVN0ZXAgPj0gbWF4VGltZVN0ZXApIHtcbiAgICB0aW1lU3RlcCA9IDEwMDAgLyBmcHM7XG4gIH1cbn07XG5cbmNvbnN0IHVwZGF0ZUhpZ2hTY29yZSA9IChzY29yZTogbnVtYmVyKSA9PiB7XG4gIGhpZ2hTY29yZS5pbm5lclRleHQgPSBzY29yZS50b1N0cmluZygpO1xufTtcblxuY29uc3QgZ2FtZU92ZXIgPSAoKSA9PiB7XG4gIHN0YXRlLmdhbWVPdmVyKCk7XG4gIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICBtZW51LmNsYXNzTmFtZSA9ICdtZW51IHNsaWRlLWluJztcbiAgdXBkYXRlSGlnaFNjb3JlKHN0YXRlLmhpZ2hTY29yZSk7XG59O1xuXG5jb25zdCBzdGFydEdhbWUgPSAoKSA9PiB7XG4gIGdyaWQucmVzZXQoKTtcbiAgc25ha2UucmVzZXQoKTtcbiAgc3RhdGUucmVzZXQoc2NvcmUpO1xuICBhcHBsZSA9IG51bGw7XG4gIHN0YXRlLnN0YXJ0R2FtZSgpO1xuICBtZW51LmNsYXNzTmFtZSA9ICdtZW51IHNsaWRlLW91dCc7XG4gIGZwcyA9IHN0YXJ0aW5nVGltZVN0ZXA7XG4gIHVwZGF0ZVRpbWVTdGVwKGZwcyk7XG4gIGdhbWVUaW1lID0gMDtcbiAgZ2FtZUxvb3AoKTtcbn07XG5cbmNvbnN0IGdhbWVMb29wID0gKCkgPT4ge1xuICBpZiAoIXN0YXRlLmlzUGxheWluZykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFVwZGF0ZSBnYW1lIGlmIGVub3VnaCB0aW1lIGhhcyBlbGxhcHNlZFxuICBpZiAoZ2FtZVRpbWUgPj0gdGltZVN0ZXApIHtcbiAgICBzbmFrZS5tb3ZlKCk7XG5cbiAgICAvLyBNYWtlIHRoZSB0YWlsJ3MgaW5kZXggdGhlIGJhY2tncm91bmQgY29sb3JcbiAgICBncmlkLm1hcFtzbmFrZS50YWlsWzBdXVtzbmFrZS50YWlsWzFdXSA9IDA7XG5cbiAgICAvLyBJZiBhbnkgb2YgdGhlc2UgZmFpbCwgR0FNRSBPVkVSIVxuICAgIHRyeSB7XG4gICAgICAvLyBDaGVjayBpZiBzbmFrZSBoaXRzIGl0c2VsZlxuICAgICAgaWYgKFxuICAgICAgICBncmlkLm1hcFtzbmFrZS5oZWFkWzBdXVtzbmFrZS5oZWFkWzFdXSA9PT0gMSB8fFxuICAgICAgICBzbmFrZS5oZWFkWzFdIDwgMCB8fFxuICAgICAgICBzbmFrZS5oZWFkWzFdID49IDIwXG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgc25ha2UgZWF0cyBhcHBsZVxuICAgICAgaWYgKGdyaWQubWFwW3NuYWtlLmhlYWRbMF1dW3NuYWtlLmhlYWRbMV1dID09PSAyKSB7XG4gICAgICAgIHN0YXRlLmFkZFBvaW50cyhzY29yZSk7XG4gICAgICAgIHNuYWtlLmVhdCgpO1xuICAgICAgICBhcHBsZSA9IG51bGw7XG4gICAgICAgIHVwZGF0ZVRpbWVTdGVwKChmcHMgKz0gNCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBDaGVjayBpZiBzbmFrZSBoaXRzIGl0c2VsZlxuICAgICAgaWYgKGdyaWQubWFwW3NuYWtlLmhlYWRbMF1dW3NuYWtlLmhlYWRbMV1dID09PSAxKSB7XG4gICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIERyYXcgdGhlIHNuYWtlXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNuYWtlLmJvZHkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgY29sID0gc25ha2UuYm9keVtpXVswXTtcbiAgICAgICAgY29uc3Qgcm93ID0gc25ha2UuYm9keVtpXVsxXTtcblxuICAgICAgICBncmlkLm1hcFtjb2xdW3Jvd10gPSAxO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGdhbWVPdmVyKCk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGEgbmV3IGFwcGxlIGlmIGl0J3MgZ29uZVxuICAgIGlmICghYXBwbGUpIHtcbiAgICAgIGFwcGxlID0gQXBwbGUuYWRkQXBwbGUoZ3JpZC5tYXApO1xuICAgIH1cblxuICAgIGdhbWVUaW1lID0gMDtcbiAgfVxuXG4gIGdhbWVUaW1lKys7XG4gIHNuYWtlLnNldERpcihjb250cm9sbGVyKTtcbiAgZHJhdygpO1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZ2FtZUxvb3ApO1xufTtcblxuY29uc3Qgc2V0VGhlbWUgPSAoeyAuLi5hcmdzIH0pID0+IHtcbiAgY29uc3QgeyBkYXJrLCBsaWdodCB9ID0gYXJncztcblxuICBzdG9yYWdlLnJlbW92ZSgndGhlbWUnKS50aGVuKCgpID0+IHN0b3JhZ2Uuc2V0SXRlbSgndGhlbWUnLCBhcmdzKSk7XG5cbiAgZ3JpZC5jb2xvcnMgPSBhcmdzO1xuICBjLmJhY2tncm91bmQgPSBkYXJrO1xuICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmQgPSBsaWdodDtcbiAgbWVudS5zdHlsZS5iYWNrZ3JvdW5kID0gbGlnaHQ7XG4gIHNjb3JlLnN0eWxlLmNvbG9yID0gZGFyaztcbiAgc3RhcnRCdG4uc3R5bGUuYmFja2dyb3VuZCA9IGRhcms7XG5cbiAgYy5yZW5kZXIoY3R4KTtcbn07XG5cbmNvbnN0IGdldFRoZW1lID0gKCkgPT4ge1xuICBzdG9yYWdlLmdldEl0ZW0oJ3RoZW1lJykudGhlbih0aGVtZSA9PiB7XG4gICAgaWYgKHRoZW1lKSB7XG4gICAgICBzZXRUaGVtZSh0aGVtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRoZW1lKGdyZWVuKTtcbiAgICB9XG4gIH0pO1xufTtcblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgc3RvcmFnZS5zZXR1cCgpO1xuICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGMuY2FudmFzKTtcblxuICBzY29yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zY29yZScpO1xuICBzY29yZS5pbm5lckhUTUwgPSBzdGF0ZS5zY29yZS50b1N0cmluZygpO1xuXG4gIG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudScpO1xuICBtZW51LmNsYXNzTmFtZSA9ICdtZW51IHNsaWRlLWluJztcblxuICBoaWdoU2NvcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuJyk7XG5cbiAgc2V0dGluZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2V0dGluZ3MnKTtcbiAgYWRkVGhlbWVzKHNldHRpbmdzLCBzZXRUaGVtZSwgYmx1ZSwgZ3JlZW4sIHB1cnBsZSk7XG5cbiAgc3RhcnRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdidXR0b24nKTtcbiAgc3RhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzdGFydEdhbWUoKSk7XG5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICBjLmNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQgKiAwLjg1O1xuICAgIGMuY2FudmFzLndpZHRoID0gYy5jYW52YXMuaGVpZ2h0O1xuICAgIGN0eC5jYW52YXMuaGVpZ2h0ID0gYy5jYW52YXMuaGVpZ2h0O1xuICAgIGN0eC5jYW52YXMud2lkdGggPSBjLmNhbnZhcy53aWR0aDtcbiAgICBncmlkLnVwZGF0ZVdpZHRoKGMuY2FudmFzKTtcbiAgICBjLnJlbmRlcihjdHgpO1xuICB9KTtcblxuICBnZXRUaGVtZSgpO1xuICBjLnJlbmRlcihjdHgpO1xuXG4gIGxvb3AgPSBnYW1lTG9vcDtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9